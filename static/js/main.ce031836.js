/*! For license information please see main.ce031836.js.LICENSE.txt */
!function(){var e={9109:function(e,t,n){e.exports=n(4466)},4466:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=c;var f="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function h(){}function y(){}function b(){}var x={};u(x,i,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(k([])));C&&C!==n&&r.call(C,i)&&(x=C);var S=b.prototype=h.prototype=Object.create(x);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"===typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function O(e,t,n){var r=f;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===g){if("throw"===a)throw o;return M()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=A(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var l=d(e,t,n);if("normal"===l.type){if(r=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=g,n.method="throw",n.arg=l.arg)}}}function A(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(P.prototype),u(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new P(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},2651:function(e,t,n){"use strict";var r=n(4510)(),a=n(2506),o=r&&a("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(u){o=!1}var i=a("%SyntaxError%"),s=a("%TypeError%"),l=n(3347);e.exports=function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(o)o(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===r&&d?d.enumerable:!r,value:n,writable:null===a&&d?d.writable:!a});else{if(!c&&(r||a||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},9396:function(e,t,n){"use strict";var r=n(4892),a="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,i=Array.prototype.concat,s=n(2651),l=n(4510)(),u=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!==typeof(a=r)||"[object Function]"!==o.call(a)||!r())return;var a;l?s(e,t,n,!0):s(e,t,n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);a&&(o=i.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!l,e.exports=c},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;0!==a--;){var i=o[a];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}},222:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n};e.exports=function(e){var a=this;if("function"!==typeof a||"[object Function]"!==t.apply(a))throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var o,i=function(e,t){for(var n=[],r=t||0,a=0;r<e.length;r+=1,a+=1)n[a]=e[r];return n}(arguments,1),s=n(0,a.length-i.length),l=[],u=0;u<s;u++)l[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=a.apply(this,r(i,arguments));return Object(t)===t?t:this}return a.apply(e,r(i,arguments))})),a.prototype){var c=function(){};c.prototype=a.prototype,o.prototype=new c,c.prototype=null}return o}},3350:function(e,t,n){"use strict";var r=n(222);e.exports=Function.prototype.bind||r},2506:function(e,t,n){"use strict";var r,a=SyntaxError,o=Function,i=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(R){l=null}var u=function(){throw new i},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(t){return u}}}():u,d=n(697)(),f=n(2203)(),p=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),m={},g="undefined"!==typeof Uint8Array&&p?p(Uint8Array):r,v={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":m,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d&&p?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d&&p?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":a,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":i,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(R){var h=p(p(R));v["%Error.prototype%"]=h}var y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&p&&(n=p(a.prototype))}return v[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=n(3350),w=n(9670),C=x.call(Function.call,Array.prototype.concat),S=x.call(Function.apply,Array.prototype.splice),T=x.call(Function.call,String.prototype.replace),P=x.call(Function.call,String.prototype.slice),O=x.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,I=function(e,t){var n,r=e;if(w(b,r)&&(r="%"+(n=b[r])[0]+"%"),w(v,r)){var o=v[r];if(o===m&&(o=y(r)),"undefined"===typeof o&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new a("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=P(e,0,1),n=P(e,-1);if("%"===t&&"%"!==n)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var r=[];return T(e,A,(function(e,t,n,a){r[r.length]=n?T(a,E,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=I("%"+r+"%",t),s=o.name,u=o.value,c=!1,d=o.alias;d&&(r=d[0],S(n,C([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],g=P(m,0,1),h=P(m,-1);if(('"'===g||"'"===g||"`"===g||'"'===h||"'"===h||"`"===h)&&g!==h)throw new a("property names with quotes must have matching quotes");if("constructor"!==m&&p||(c=!0),w(v,s="%"+(r+="."+m)+"%"))u=v[s];else if(null!=u){if(!(m in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var y=l(u,m);u=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[m]}else p=w(u,m),u=u[m];p&&!c&&(v[s]=u)}}return u}},1982:function(e){"use strict";"undefined"!==typeof self?e.exports=self:"undefined"!==typeof window?e.exports=window:e.exports=Function("return this")()},1772:function(e,t,n){"use strict";var r=n(9396),a=n(1982),o=n(2655),i=n(9237),s=o(),l=function(){return s};r(l,{getPolyfill:o,implementation:a,shim:i}),e.exports=l},2655:function(e,t,n){"use strict";var r=n(1982);e.exports=function(){return"object"===typeof n.g&&n.g&&n.g.Math===Math&&n.g.Array===Array?n.g:r}},9237:function(e,t,n){"use strict";var r=n(9396),a=n(2655);e.exports=function(){var e=a();if(r.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,"globalThis");t&&(!t.configurable||!t.enumerable&&t.writable&&globalThis===e)||Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else"object"===typeof globalThis&&globalThis===e||(e.globalThis=e);return e}},3347:function(e,t,n){"use strict";var r=n(2506)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(a){r=null}e.exports=r},4510:function(e,t,n){"use strict";var r=n(2506)("%Object.defineProperty%",!0),a=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},2203:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},697:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,a=n(3297);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&a())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},9670:function(e,t,n){"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,o=n(3350);e.exports=o.call(r,a)},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var a=p(n);a&&a!==m&&e(t,a,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var s=l(t),g=l(n),v=0;v<i.length;++v){var h=i[v];if(!o[h]&&(!r||!r[h])&&(!g||!g[h])&&(!s||!s[h])){var y=f(n,h);try{u(t,h,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,h=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case i:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case g:case l:return e;default:return t}}case a:return t}}}function C(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||w(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===i||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===h)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},6198:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",i="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Null]",c="[object Object]",d="[object Proxy]",f="[object Undefined]",p=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[c]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var v="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,y=v||h||Function("return this")(),b=t&&!t.nodeType&&t,x=b&&e&&!e.nodeType&&e,w=x&&x.exports===b,C=w&&v.process,S=function(){try{var e=x&&x.require&&x.require("util").types;return e||C&&C.binding&&C.binding("util")}catch(t){}}(),T=S&&S.isTypedArray;var P,O,A=Array.prototype,E=Function.prototype,I=Object.prototype,R=y["__core-js_shared__"],k=E.toString,M=I.hasOwnProperty,_=function(){var e=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),D=I.toString,L=k.call(Object),V=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=w?y.Buffer:void 0,B=y.Symbol,F=y.Uint8Array,U=N?N.allocUnsafe:void 0,j=(P=Object.getPrototypeOf,O=Object,function(e){return P(O(e))}),G=Object.create,z=I.propertyIsEnumerable,W=A.splice,H=B?B.toStringTag:void 0,K=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),q=N?N.isBuffer:void 0,X=Math.max,Y=Date.now,$=ye(y,"Map"),Z=ye(Object,"create"),Q=function(){function e(){}return function(t){if(!Re(t))return{};if(G)return G(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t){var n=Pe(e),r=!n&&Te(e),a=!n&&!r&&Ae(e),o=!n&&!r&&!a&&Me(e),i=n||r||a||o,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!M.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,l))||s.push(u);return s}function ae(e,t,n){(void 0!==n&&!Se(e[t],n)||void 0===n&&!(t in e))&&se(e,t,n)}function oe(e,t,n){var r=e[t];M.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||se(e,t,n)}function ie(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function se(e,t,n){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Z){var n=t[e];return n===r?void 0:n}return M.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:M.call(t,e)},J.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ie(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new($||ee),string:new J}},te.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return he(this,e).get(e)},te.prototype.has=function(e){return he(this,e).has(e)},te.prototype.set=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var le,ue=function(e,t,n){for(var r=-1,a=Object(e),o=n(e),i=o.length;i--;){var s=o[le?i:++r];if(!1===t(a[s],s,a))break}return e};function ce(e){return null==e?void 0===e?f:u:H&&H in Object(e)?function(e){var t=M.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(o){}var a=D.call(e);r&&(t?e[H]=n:delete e[H]);return a}(e):function(e){return D.call(e)}(e)}function de(e){return ke(e)&&ce(e)==o}function fe(e){return!(!Re(e)||function(e){return!!_&&_ in e}(e))&&(Ee(e)?V:p).test(function(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function pe(e){if(!Re(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}function me(e,t,n,r,a){e!==t&&ue(t,(function(o,i){if(a||(a=new ne),Re(o))!function(e,t,n,r,a,o,i){var s=we(e,n),l=we(t,n),u=i.get(l);if(u)return void ae(e,n,u);var d=o?o(s,l,n+"",e,t,i):void 0,f=void 0===d;if(f){var p=Pe(l),m=!p&&Ae(l),g=!p&&!m&&Me(l);d=l,p||m||g?Pe(s)?d=s:ke(v=s)&&Oe(v)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):m?(f=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=U?U(n):new e.constructor(n);return e.copy(r),r}(l,!0)):g?(f=!1,d=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new F(t).set(new F(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!0)):d=[]:function(e){if(!ke(e)||ce(e)!=c)return!1;var t=j(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==L}(l)||Te(l)?(d=s,Te(s)?d=function(e){return function(e,t,n,r){var a=!n;n||(n={});var o=-1,i=t.length;for(;++o<i;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?se(n,s,l):oe(n,s,l)}return n}(e,_e(e))}(s):Re(s)&&!Ee(s)||(d=function(e){return"function"!=typeof e.constructor||xe(e)?{}:Q(j(e))}(l))):f=!1}var v;f&&(i.set(l,d),a(d,l,r,o,i),i.delete(l));ae(e,n,d)}(e,t,i,n,me,r,a);else{var s=r?r(we(e,i),o,i+"",e,t,a):void 0;void 0===s&&(s=o),ae(e,i,s)}}),_e)}function ge(e,t){return Ce(function(e,t,n){return t=X(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=X(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ve),e+"")}var ve=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ve;function he(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&m.test(e))&&e>-1&&e%1==0&&e<t}function xe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I)}function we(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ce=function(e){var t=0,n=0;return function(){var r=Y(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ve);function Se(e,t){return e===t||e!==e&&t!==t}var Te=de(function(){return arguments}())?de:function(e){return ke(e)&&M.call(e,"callee")&&!z.call(e,"callee")},Pe=Array.isArray;function Oe(e){return null!=e&&Ie(e.length)&&!Ee(e)}var Ae=q||function(){return!1};function Ee(e){if(!Re(e))return!1;var t=ce(e);return t==s||t==l||t==i||t==d}function Ie(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Re(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Me=T?function(e){return function(t){return e(t)}}(T):function(e){return ke(e)&&Ie(e.length)&&!!g[ce(e)]};function _e(e){return Oe(e)?re(e,!0):pe(e)}var De,Le=(De=function(e,t,n,r){me(e,t,n,r)},ge((function(e,t){var n=-1,r=t.length,a=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(a=De.length>3&&"function"==typeof a?(r--,a):void 0,o&&function(e,t,n){if(!Re(n))return!1;var r=typeof t;return!!("number"==r?Oe(n)&&be(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}(t[0],t[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var i=t[n];i&&De(e,i,n,a)}return e})));function Ve(e){return e}e.exports=Le},1949:function(e,t,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=n(7635),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=i(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=u&&n;if(s&&e.length>0&&!a.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(r&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var h in e)m&&"prototype"===h||!a.call(e,h)||f.push(String(h));if(l)for(var y=function(e){if("undefined"===typeof window||!p)return d(e);try{return d(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!a.call(e,c[b])||f.push(c[b]);return f}}e.exports=r},4892:function(e,t,n){"use strict";var r=Array.prototype.slice,a=n(7635),o=Object.keys,i=o?function(e){return o(e)}:n(1949),s=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return a(e)?s(r.call(e)):s(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},7635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var V,N=Object.assign;function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case P:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var he=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(he[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Te=null;function Pe(e){if(e=ba(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),Ce(e.stateNode,e.type,t))}}function Oe(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Te;if(Te=Se=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ee(e,t){return e(t)}function Ie(){}var Re=!1;function ke(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ee(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(Ie(),Ae())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var _e=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){_e=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){_e=!1}function Le(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ve=!1,Ne=null,Be=!1,Fe=null,Ue={onError:function(e){Ve=!0,Ne=e}};function je(e,t,n,r,a,o,i,s,l){Ve=!1,Ne=null,Le.apply(Ue,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ge(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Ze=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Ct,St,Tt,Pt,Ot=!1,At=[],Et=null,It=null,Rt=null,kt=new Map,Mt=new Map,_t=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Vt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nt(e){var t=ya(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Pt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Ot=!1,null!==Et&&Bt(Et)&&(Et=null),null!==It&&Bt(It)&&(It=null),null!==Rt&&Bt(Rt)&&(Rt=null),kt.forEach(Ft),Mt.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Gt(e){function t(t){return jt(t,e)}if(0<At.length){jt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&jt(Et,e),null!==It&&jt(It,e),null!==Rt&&jt(Rt,e),kt.forEach(t),Mt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Nt(n),null===n.blockedOn&&_t.shift()}var zt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var a=bt,o=zt.transition;zt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=a,zt.transition=o}}function Kt(e,t,n,r){var a=bt,o=zt.transition;zt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=a,zt.transition=o}}function qt(e,t,n,r){if(Wt){var a=Yt(e,t,n,r);if(null===a)Wr(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Vt(Et,e,t,n,r,a),!0;case"dragenter":return It=Vt(It,e,t,n,r,a),!0;case"mouseover":return Rt=Vt(Rt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return kt.set(o,Vt(kt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Mt.set(o,Vt(Mt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=ya(e=we(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=N({},un,{view:0,detail:0}),fn=an(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=an(pn),gn=an(N({},pn,{dataTransfer:0})),vn=an(N({},dn,{relatedTarget:0})),hn=an(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(N({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Pn(){return Tn}var On=N({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(On),En=an(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Rn=an(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(kn),_n=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Vn=c&&"TextEvent"in window&&!Ln,Nn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Oe(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Xn(e){Br(e,0)}function Yn(e){if(q(xa(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Hn(t,qn,e,we(e)),ke(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,hr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(hr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Pr(e){if(Sr[e])return Sr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Or=Pr("animationend"),Ar=Pr("animationiteration"),Er=Pr("animationstart"),Ir=Pr("transitionend"),Rr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Rr.set(e,t),l(t,[e])}for(var _r=0;_r<kr.length;_r++){var Dr=kr[_r];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Or,"onAnimationEnd"),Mr(Ar,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(je.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var c=Ne;Ve=!1,Ne=null,Be||(Be=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Nr(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Nr(a,s,u),o=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[jr]){e[jr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Vr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var a=Ht;break;case 4:a=Kt;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}ke((function(){var r=o,a=we(n),i=[];e:{var s=Rr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Or:case Ar:case Er:l=hn;break;case Ir:l=Rn;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,m=r;null!==m;){var g=(p=m).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=Me(m,f))&&c.push(Hr(m,g,p)))),d)break;m=m.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ma])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==l?s:xa(l),p=null==u?s:xa(u),(s=new c(g,m+"leave",l,n,a)).target=d,s.relatedTarget=p,g=null,ya(a)===r&&((c=new c(f,m+"enter",u,n,a)).target=p,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,m=0,p=c=l;p;p=qr(p))m++;for(p=0,g=f;g;g=qr(g))p++;for(;0<m-p;)c=qr(c),m--;for(;0<p-m;)f=qr(f),p--;for(;m--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==l&&Xr(i,s,l,c,!1),null!==u&&null!==d&&Xr(i,d,u,c,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=$n;else if(Wn(s))if(Zn)v=ir;else{v=ar;var h=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Hn(i,v,n,a):(h&&h(e,s,r),"focusout"===e&&(h=s._wrapperState)&&h.controlled&&"number"===s.type&&ee(s,"number",s.value)),h=r?xa(r):window,e){case"focusin":(Wn(h)||"true"===h.contentEditable)&&(vr=h,hr=r,yr=null);break;case"focusout":yr=hr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(i,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Qt="value"in(Zt=a)?Zt.value:Zt.textContent,Gn=!0)),0<(h=Kr(r,b)).length&&(b=new xn(b,e,null,n,a),i.push({event:b,listeners:h}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Jt=Qt=Zt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Br(i,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Me(e,n))&&r.unshift(Hr(e,o,a)),null!=(o=Me(e,t))&&r.push(Hr(e,o,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Me(n,o))&&i.unshift(Hr(n,l,s)):a||null!=(l=Me(n,o))&&i.push(Hr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Gt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ma="__reactContainer$"+da,ga="__reactEvents$"+da,va="__reactListeners$"+da,ha="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[fa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[pa]||null}var Ca=[],Sa=-1;function Ta(e){return{current:e}}function Pa(e){0>Sa||(e.current=Ca[Sa],Ca[Sa]=null,Sa--)}function Oa(e,t){Sa++,Ca[Sa]=e.current,e.current=t}var Aa={},Ea=Ta(Aa),Ia=Ta(!1),Ra=Aa;function ka(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _a(){Pa(Ia),Pa(Ea)}function Da(e,t,n){if(Ea.current!==Aa)throw Error(o(168));Oa(Ea,t),Oa(Ia,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,z(e)||"Unknown",a));return N({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Ra=Ea.current,Oa(Ea,e),Oa(Ia,Ia.current),!0}function Na(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=La(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Pa(Ia),Pa(Ea),Oa(Ea,e)):Pa(Ia),Oa(Ia,n)}var Ba=null,Fa=!1,Ua=!1;function ja(e){null===Ba?Ba=[e]:Ba.push(e)}function Ga(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=bt;try{var n=Ba;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),qe(Je,Ga),a}finally{bt=t,Ua=!1}}return null}var za=[],Wa=0,Ha=null,Ka=0,qa=[],Xa=0,Ya=null,$a=1,Za="";function Qa(e,t){za[Wa++]=Ka,za[Wa++]=Ha,Ha=e,Ka=t}function Ja(e,t,n){qa[Xa++]=$a,qa[Xa++]=Za,qa[Xa++]=Ya,Ya=e;var r=$a;e=Za;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,$a=1<<32-it(t)+a|n<<a|r,Za=o+e}else $a=1<<o|n<<a|r,Za=e}function eo(e){null!==e.return&&(Qa(e,1),Ja(e,1,0))}function to(e){for(;e===Ha;)Ha=za[--Wa],za[Wa]=null,Ka=za[--Wa],za[Wa]=null;for(;e===Ya;)Ya=qa[--Xa],qa[Xa]=null,Za=qa[--Xa],qa[Xa]=null,$a=qa[--Xa],qa[Xa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:$a,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ua(e.nextSibling)}function mo(){ro=no=null,ao=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=x.ReactCurrentBatchConfig;function ho(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ta(null),bo=null,xo=null,wo=null;function Co(){wo=xo=bo=null}function So(e){var t=yo.current;Pa(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Ao=null;function Eo(e){null===Ao?Ao=[e]:Ao.push(e)}function Io(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Eo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ko=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ro(e,n)}return null===(a=r.interleaved)?(t.next=t,Eo(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ro(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function No(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var a=e.updateQueue;ko=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(f=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(p,d,f):m)||void 0===f)break e;d=N({},d,f);break e;case 2:ko=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Nl|=i,e.lanes=i,e.memoizedState=d}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Uo=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Do(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,a))&&(ru(t,e,a,r),Vo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Do(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,a))&&(ru(t,e,a,r),Vo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Do(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Lo(e,a,r))&&(ru(t,e,r,n),Vo(t,e,r))}};function zo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function Wo(e,t,n){var r=!1,a=Aa,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(a=Ma(t)?Ra:Ea.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ka(e,a):Aa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Uo,Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Oo(o):(o=Ma(t)?Ra:Ea.current,a.context=ka(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Go.enqueueReplaceState(a,a.state,null),Bo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Uo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Yo(o)===t.type)?((r=a(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case C:return(t=Fu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Vu(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case C:return n.key===a?c(e,t,n,r):null;case M:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);Xo(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);Xo(t,r)}return null}function g(a,o,s,l){for(var u=null,c=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var h=p(a,d,s[g],l);if(null===h){null===d&&(d=v);break}e&&d&&null===h.alternate&&t(a,d),o=i(h,o,g),null===c?u=h:c.sibling=h,c=h,d=v}if(g===s.length)return n(a,d),ao&&Qa(a,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(a,s[g],l))&&(o=i(d,o,g),null===c?u=d:c.sibling=d,c=d);return ao&&Qa(a,g),u}for(d=r(a,d);g<s.length;g++)null!==(v=m(d,a,g,s[g],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=i(v,o,g),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(a,e)})),ao&&Qa(a,g),u}function v(a,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,v=s=0,h=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(h=g,g=null):h=g.sibling;var b=p(a,g,y.value,u);if(null===b){null===g&&(g=h);break}e&&g&&null===b.alternate&&t(a,g),s=i(b,s,v),null===d?c=b:d.sibling=b,d=b,g=h}if(y.done)return n(a,g),ao&&Qa(a,v),c;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=f(a,y.value,u))&&(s=i(y,s,v),null===d?c=y:d.sibling=y,d=y);return ao&&Qa(a,v),c}for(g=r(a,g);!y.done;v++,y=l.next())null!==(y=m(g,a,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=i(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(a,e)})),ao&&Qa(a,v),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Yo(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=qo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===S?((o=Vu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Lu(i.type,i.key,i.props,null,r.mode,l)).ref=qo(r,o,i),l.return=r,r=l)}return s(r);case C:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(i,r.mode,l)).return=r,r=o}return s(r);case M:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return g(r,o,i,l);if(L(i))return v(r,o,i,l);Xo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Bu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Zo=$o(!0),Qo=$o(!1),Jo={},ei=Ta(Jo),ti=Ta(Jo),ni=Ta(Jo);function ri(e){if(e===Jo)throw Error(o(174));return e}function ai(e,t){switch(Oa(ni,t),Oa(ti,e),Oa(ei,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pa(ei),Oa(ei,t)}function oi(){Pa(ei),Pa(ti),Pa(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(Oa(ti,e),Oa(ei,n))}function si(e){ti.current===e&&(Pa(ei),Pa(ti))}var li=Ta(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var fi=x.ReactCurrentDispatcher,pi=x.ReactCurrentBatchConfig,mi=0,gi=null,vi=null,hi=null,yi=!1,bi=!1,xi=0,wi=0;function Ci(){throw Error(o(321))}function Si(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,a,i){if(mi=i,gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bi){i=0;do{if(bi=!1,xi=0,25<=i)throw Error(o(301));i+=1,hi=vi=null,t.updateQueue=null,fi.current=us,e=n(r,a)}while(bi)}if(fi.current=is,t=null!==vi&&null!==vi.next,mi=0,hi=vi=gi=null,yi=!1,t)throw Error(o(300));return e}function Pi(){var e=0!==xi;return xi=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===hi?gi.memoizedState=hi=e:hi=hi.next=e,hi}function Ai(){if(null===vi){var e=gi.alternate;e=null!==e?e.memoizedState:null}else e=vi.next;var t=null===hi?gi.memoizedState:hi.next;if(null!==t)hi=t,vi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vi=e).memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},null===hi?gi.memoizedState=hi=e:hi=hi.next=e}return hi}function Ei(e,t){return"function"===typeof t?t(e):t}function Ii(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((mi&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,gi.lanes|=d,Nl|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,gi.lanes|=i,Nl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ri(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(xs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function Mi(e,t){var n=gi,r=Ai(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,xs=!0),r=r.queue,Wi(Li.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==hi&&1&hi.memoizedState.tag){if(n.flags|=2048,Fi(9,Di.bind(null,n,r,a,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&mi)||_i(n,t,a)}return a}function _i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Di(e,t,n,r){t.value=n,t.getSnapshot=r,Vi(t)&&Ni(e)}function Li(e,t,n){return n((function(){Vi(t)&&Ni(e)}))}function Vi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ni(e){var t=Ro(e,1);null!==t&&ru(t,e,1,-1)}function Bi(e){var t=Oi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,gi,e),[t.memoizedState,e]}function Fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Ai().memoizedState}function ji(e,t,n,r){var a=Oi();gi.flags|=e,a.memoizedState=Fi(1|t,n,void 0,void 0===r?null:r)}function Gi(e,t,n,r){var a=Ai();r=void 0===r?null:r;var o=void 0;if(null!==vi){var i=vi.memoizedState;if(o=i.destroy,null!==r&&Si(r,i.deps))return void(a.memoizedState=Fi(t,n,o,r))}gi.flags|=e,a.memoizedState=Fi(1|t,n,o,r)}function zi(e,t){return ji(8390656,8,e,t)}function Wi(e,t){return Gi(2048,8,e,t)}function Hi(e,t){return Gi(4,2,e,t)}function Ki(e,t){return Gi(4,4,e,t)}function qi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Gi(4,4,qi.bind(null,t,e),n)}function Yi(){}function $i(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zi(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qi(e,t,n){return 0===(21&mi)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),gi.lanes|=n,Nl|=n,e.baseState=!0),t)}function Ji(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pi.transition;pi.transition={};try{e(!1),t()}finally{bt=n,pi.transition=r}}function es(){return Ai().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Io(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Eo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Io(e,t,a,r))&&(ru(n,e,r,a=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===gi||null!==t&&t===gi}function as(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:Oo,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},ss={readContext:Oo,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:zi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ji(4194308,4,qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:Bi,useDebugValue:Yi,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Bi(!1),t=e[0];return e=Ji.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gi,a=Oi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&mi)||_i(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,zi(Li.bind(null,r,i,e),[e]),r.flags|=2048,Fi(9,Di.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Rl.identifierPrefix;if(ao){var n=Za;t=":"+t+"R"+(n=($a&~(1<<32-it($a)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Oo,useCallback:$i,useContext:Oo,useEffect:Wi,useImperativeHandle:Xi,useInsertionEffect:Hi,useLayoutEffect:Ki,useMemo:Zi,useReducer:Ii,useRef:Ui,useState:function(){return Ii(Ei)},useDebugValue:Yi,useDeferredValue:function(e){return Qi(Ai(),vi.memoizedState,e)},useTransition:function(){return[Ii(Ei)[0],Ai().memoizedState]},useMutableSource:ki,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1},us={readContext:Oo,useCallback:$i,useContext:Oo,useEffect:Wi,useImperativeHandle:Xi,useInsertionEffect:Hi,useLayoutEffect:Ki,useMemo:Zi,useReducer:Ri,useRef:Ui,useState:function(){return Ri(Ei)},useDebugValue:Yi,useDeferredValue:function(e){var t=Ai();return null===vi?t.memoizedState=e:Qi(t,vi.memoizedState,e)},useTransition:function(){return[Ri(Ei)[0],Ai().memoizedState]},useMutableSource:ki,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),fs(0,t)},n}function gs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ou.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Zo(t,e.child,n,r)}function Cs(e,t,n,r,a){n=n.render;var o=t.ref;return Po(t,a),r=Ti(e,t,n,r,o,a),n=Pi(),null===e||xs?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||_u(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return As(e,t,n,r,a)}function Ps(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Dl,_l),_l|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Dl,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oa(Dl,_l),_l|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oa(Dl,_l),_l|=r;return ws(e,t,a,n),t.child}function Os(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,a){var o=Ma(n)?Ra:Ea.current;return o=ka(t,o),Po(t,a),n=Ti(e,t,n,r,o,a),r=Pi(),null===e||xs?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Es(e,t,n,r,a){if(Ma(n)){var o=!0;Va(t)}else o=!1;if(Po(t,a),null===t.stateNode)Ws(e,t),Wo(t,n,r),Ko(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=Oo(u):u=ka(t,u=Ma(n)?Ra:Ea.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&Ho(t,i,r,u),ko=!1;var f=t.memoizedState;i.state=f,Bo(t,r,i,a),l=t.memoizedState,s!==r||f!==l||Ia.current||ko?("function"===typeof c&&(jo(t,n,c,r),l=t.memoizedState),(s=ko||zo(t,n,s,r,f,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_o(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ho(t.type,s),i.props=u,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=ka(t,l=Ma(n)?Ra:Ea.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&Ho(t,i,r,l),ko=!1,f=t.memoizedState,i.state=f,Bo(t,r,i,a);var m=t.memoizedState;s!==d||f!==m||Ia.current||ko?("function"===typeof p&&(jo(t,n,p,r),m=t.memoizedState),(u=ko||zo(t,n,u,r,f,m,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,a)}function Is(e,t,n,r,a,o){Os(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Na(t,n,!1),Hs(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&Na(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),ai(e,t.containerInfo)}function ks(e,t,n,r,a){return mo(),go(a),t.flags|=256,ws(e,t,n,r),t.child}var Ms,_s,Ds,Ls,Vs={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,a=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Oa(li,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Nu(l,a,0,null),e=Vu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Vs,e):Fs(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Nu({mode:"visible",children:r.children},a,0,null),(i=Vu(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Zo(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Vs,i);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Rl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ro(e,a),ru(r,e,a,-1))}return vu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(qa[Xa++]=$a,qa[Xa++]=Za,qa[Xa++]=Ya,$a=e.id,Za=e.overflow,Ya=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Du(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Du(r,s):(s=Vu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ns(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Vs,a}return e=(s=e.child).sibling,a=Du(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),Zo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Gs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function zs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oa(li,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gs(t,!0,n,null,o);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ma(t.type)&&_a(),qs(t),null;case 3:return r=t.stateNode,oi(),Pa(Ia),Pa(Ea),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),_s(e,t),qs(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=ri(ei.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[pa]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),J(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[pa]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=N({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in ye(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ve(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Fr("scroll",e):null!=c&&b(e,i,c,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return qs(t),null;case 13:if(Pa(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),mo(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),i=!1}else null!==oo&&(su(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Ll&&(Ll=3):vu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return oi(),_s(e,t),null===e&&Gr(t.stateNode.containerInfo),qs(t),null;case 10:return So(t.type._context),qs(t),null;case 19:if(Pa(li),null===(i=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ks(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,Ks(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oa(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Ze()>zl&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return qs(t),null}else 2*Ze()-i.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=li.current,Oa(li,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_l)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ma(t.type)&&_a(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Pa(Ia),Pa(Ea),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Pa(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Pa(li),null;case 4:return oi(),null;case 10:return So(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_s=function(){},Ds=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=N({},a,{value:void 0}),r=N({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Pu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Pu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ga],delete t[va],delete t[ha])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Zs||el(n,t);case 6:var r=dl,a=fl;dl=null,pl(e,t,n),fl=a,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Gt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=fl,dl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),dl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),a=a.next}while(a!==r)}pl(e,t,n);break;case 1:if(!Zs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Pu(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,pl(e,t,n),Zs=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));ml(i,s,a),dl=null,fl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Pu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(v){Pu(e,e.return,v)}try{rl(5,e,e.return)}catch(v){Pu(e,e.return,v)}}break;case 1:vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(v){Pu(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&Z(a,i),be(l,s);var c=be(l,i);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ve(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,c)}switch(l){case"input":Q(a,i);break;case"textarea":oe(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(v){Pu(e,e.return,v)}}break;case 6:if(vl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Pu(e,e.return,v)}}break;case 3:if(vl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(v){Pu(e,e.return,v)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Gl=Ze())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||d,vl(t,e),Zs=c):vl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(m=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Pu(r,n,v)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Cl(f);continue}}null!==m?(m.return=p,Js=m):Cl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(v){Pu(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Pu(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ul(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){Pu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||$s;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=$s;var u=Zs;if($s=i,(Zs=l)&&!u)for(Js=a;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?Sl(a):null!==l?(l.return=i,Js=l):Sl(a);for(;null!==o;)Js=o,xl(o,t,n),o=o.sibling;Js=a,$s=s,Zs=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Fo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Gt(f)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&ol(t)}catch(p){Pu(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Cl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Pu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Pu(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Pu(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Pu(t,i,l)}}}catch(l){Pu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Tl,Pl=Math.ceil,Ol=x.ReactCurrentDispatcher,Al=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Il=0,Rl=null,kl=null,Ml=0,_l=0,Dl=Ta(0),Ll=0,Vl=null,Nl=0,Bl=0,Fl=0,Ul=null,jl=null,Gl=0,zl=1/0,Wl=null,Hl=!1,Kl=null,ql=null,Xl=!1,Yl=null,$l=0,Zl=0,Ql=null,Jl=-1,eu=0;function tu(){return 0!==(6&Il)?Ze():-1!==Jl?Jl:Jl=Ze()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ml?Ml&-Ml:null!==vo.transition?(0===eu&&(eu=gt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ru(e,t,n,r){if(50<Zl)throw Zl=0,Ql=null,Error(o(185));ht(e,n,r),0!==(2&Il)&&e===Rl||(e===Rl&&(0===(2&Il)&&(Bl|=n),4===Ll&&lu(e,Ml)),au(e,r),1===n&&0===Il&&0===(1&t.mode)&&(zl=Ze()+500,Fa&&Ga()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Rl?Ml:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Fa=!0,ja(e)}(uu.bind(null,e)):ja(uu.bind(null,e)),ia((function(){0===(6&Il)&&Ga()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ru(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Jl=-1,eu=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ft(e,e===Rl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hu(e,r);else{t=r;var a=Il;Il|=2;var i=gu();for(Rl===e&&Ml===t||(Wl=null,zl=Ze()+500,pu(e,t));;)try{bu();break}catch(l){mu(e,l)}Co(),Ol.current=i,Il=a,null!==kl?t=0:(Rl=null,Ml=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Vl,pu(e,0),lu(e,r),au(e,Ze()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=hu(e,r))&&(0!==(i=mt(e))&&(r=i,t=iu(e,i))),1===t))throw n=Vl,pu(e,0),lu(e,r),au(e,Ze()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cu(e,jl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Gl+500-Ze())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Cu.bind(null,e,jl,Wl),t);break}Cu(e,jl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=ra(Cu.bind(null,e,jl,Wl),r);break}Cu(e,jl,Wl);break;default:throw Error(o(329))}}}return au(e,Ze()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=hu(e,t))&&(t=jl,jl=n,null!==t&&su(t)),e}function su(e){null===jl?jl=e:jl.push.apply(jl,e)}function lu(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Il))throw Error(o(327));Su();var t=ft(e,0);if(0===(1&t))return au(e,Ze()),null;var n=hu(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Vl,pu(e,0),lu(e,t),au(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e,jl,Wl),au(e,Ze()),null}function cu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(zl=Ze()+500,Fa&&Ga())}}function du(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Su();var t=Il;Il|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Il=t))&&Ga()}}function fu(){_l=Dl.current,Pa(Dl)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==kl)for(n=kl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_a();break;case 3:oi(),Pa(Ia),Pa(Ea),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Pa(li);break;case 10:So(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Rl=e,kl=e=Du(e.current,null),Ml=_l=t,Ll=0,Vl=null,Fl=Bl=Nl=0,jl=Ul=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Ao=null}return e}function mu(e,t){for(;;){var n=kl;try{if(Co(),fi.current=is,yi){for(var r=gi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(mi=0,hi=vi=gi=null,bi=!1,xi=0,Al.current=null,null===n||null===n.return){Ll=1,Vl=t,kl=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hs(s);if(null!==m){m.flags&=-257,ys(m,s,l,0,t),1&m.mode&&vs(i,c,t),u=c;var g=(t=m).updateQueue;if(null===g){var v=new Set;v.add(u),t.updateQueue=v}else g.add(u);break e}if(0===(1&t)){vs(i,c,t),vu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var h=hs(s);if(null!==h){0===(65536&h.flags)&&(h.flags|=256),ys(h,s,l,0,t),go(cs(u,l));break e}}i=u=cs(u,l),4!==Ll&&(Ll=2),null===Ul?Ul=[i]:Ul.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,No(i,ms(0,u,t));break e;case 1:l=u;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,No(i,gs(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(x){t=x,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function gu(){var e=Ol.current;return Ol.current=is,null===e?is:e}function vu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Nl)&&0===(268435455&Bl)||lu(Rl,Ml)}function hu(e,t){var n=Il;Il|=2;var r=gu();for(Rl===e&&Ml===t||(Wl=null,pu(e,t));;)try{yu();break}catch(a){mu(e,a)}if(Co(),Il=n,Ol.current=r,null!==kl)throw Error(o(261));return Rl=null,Ml=0,Ll}function yu(){for(;null!==kl;)xu(kl)}function bu(){for(;null!==kl&&!Ye();)xu(kl)}function xu(e){var t=Tl(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?wu(e):kl=t,Al.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,_l)))return void(kl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return Ll=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Cu(e,t,n){var r=bt,a=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Yl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Rl&&(kl=Rl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ru(tt,(function(){return Su(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var s=bt;bt=1;var l=Il;Il|=4,Al.current=null,function(e,t){if(ea=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==i||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(l=s),p===i&&++d===r&&(u=s),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,h=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ho(t.type,v),h);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Pu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=nl,nl=!1}(e,n),hl(n,e),mr(ta),Wt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),$e(),Il=l,bt=s,El.transition=i}else e.current=n;if(Xl&&(Xl=!1,Yl=e,$l=a),i=e.pendingLanes,0===i&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Su(),i=e.pendingLanes,0!==(1&i)?e===Ql?Zl++:(Zl=0,Ql=e):Zl=0,Ga()}(e,t,n,r)}finally{El.transition=a,bt=r}return null}function Su(){if(null!==Yl){var e=xt($l),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Il))throw Error(o(331));var a=Il;for(Il|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,m=d.return;if(il(d),d===c){Js=null;break}if(null!==p){p.return=m,Js=p;break}Js=m}}}var g=i.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var h=v.sibling;v.sibling=null,v=h}while(null!==v)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Js=y;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(C){Pu(l,l.return,C)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Il=a,Ga(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(C){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function Tu(e,t,n){e=Lo(e,t=ms(0,t=cs(n,t),1),1),t=tu(),null!==e&&(ht(e,1,t),au(e,t))}function Pu(e,t,n){if(3===e.tag)Tu(e,e,n);else for(;null!==t;){if(3===t.tag){Tu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Lo(t,e=gs(t,e=cs(n,e),1),1),e=tu(),null!==t&&(ht(t,1,e),au(t,e));break}}t=t.return}}function Ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Ml&n)===n&&(4===Ll||3===Ll&&(130023424&Ml)===Ml&&500>Ze()-Gl?pu(e,0):Fl|=n),au(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ro(e,t))&&(ht(e,t,n),au(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Au(e,n)}function Ru(e,t){return qe(e,t)}function ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new ku(e,t,n,r)}function _u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)_u(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Vu(n.children,a,i,t);case T:s=8,a|=8;break;case P:return(e=Mu(12,n,t,2|a)).elementType=P,e.lanes=i,e;case I:return(e=Mu(13,n,t,a)).elementType=I,e.lanes=i,e;case R:return(e=Mu(19,n,t,a)).elementType=R,e.lanes=i,e;case _:return Nu(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case A:s=9;break e;case E:s=11;break e;case k:s=14;break e;case M:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Vu(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Nu(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,a,o,i,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Gu(e){if(!e)return Aa;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ma(n))return La(e,n,t)}return t}function zu(e,t,n,r,a,o,i,s,l){return(e=ju(n,r,!0,e,0,o,0,s,l)).context=Gu(null),n=e.current,(o=Do(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,a),e.current.lanes=a,ht(e,a,r),au(e,r),e}function Wu(e,t,n,r){var a=t.current,o=tu(),i=nu(a);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(a,t,i))&&(ru(e,a,i,o),Vo(e,a,i)),i}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),mo();break;case 5:ii(t);break;case 1:Ma(t.type)&&Va(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Oa(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oa(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Oa(li,1&li.current),null!==(e=Hs(e,t,n))?e.sibling:null);Oa(li,1&li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ao&&0!==(1048576&t.flags)&&Ja(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=ka(t,Ea.current);Po(t,n),a=Ti(null,t,r,e,a,n);var i=Pi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(i=!0,Va(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mo(t),a.updater=Go,t.stateNode=a,a._reactInternals=t,Ko(t,r,e,n),t=Is(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return _u(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===k)return 14}return 2}(r),e=ho(r,e),a){case 0:t=As(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ho(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,As(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 1:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,_o(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ks(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=ks(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Os(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Bs(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Oa(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ia.current){t=Hs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Do(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),To(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Po(t,n),r=r(a=Oo(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=ho(r=t.type,t.pendingProps),Ss(e,t,r,a=ho(r.type,a),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),Ws(e,t),t.tag=1,Ma(r)?(e=!0,Va(t)):e=!1,Po(t,n),Wo(t,r,a),Ko(t,r,a,n),Is(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ps(e,t,n)}throw Error(o(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Hu(i);s.call(e)}}Wu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Hu(i);o.call(e)}}var i=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=i,e[ma]=i.current,Gr(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[ma]=l.current,Gr(8===e.nodeType?e.parentNode:e),du((function(){Wu(t,l,n,r)})),l}(n,t,e,a,r);return Hu(i)}$u.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},$u.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Wu(null,e,null,null)})),t[ma]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),au(t,Ze()),0===(6&Il)&&(zl=Ze()+500,Ga()))}break;case 13:du((function(){var t=Ro(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),qu(e,1)}},Ct=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)ru(t,e,134217728,tu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=Ro(e,t);if(null!==n)ru(n,e,t,tu());qu(e,t)}},Tt=function(){return bt},Pt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));q(r),Q(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cu,Ie=du;var tc={usingClientEntryPoint:!1,Events:[ba,xa,wa,Oe,Ae,cu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(o(299));var n=!1,r="",a=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,a,0,i,s),e[ma]=t.current,Gr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $u(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=i.length)return!1;for(l=s;0!==l--;)if(!o(e[l],i[l]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!o(l.value[1],i.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((s=e.length)!=i.length)return!1;for(l=s;0!==l--;)if(e[l]!==i[l])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof i.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof i.toString)return e.toString()===i.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(i,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!o(e[u[l]],i[u[l]]))return!1;return!0}return e!==e&&i!==i}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,s="",c=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(i,p),i=p+d.length,f)s+=f[1];else{var m=e[i],g=n[2],v=n[3],h=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=m&&m!==g,C="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||c,P=h||y;r.push({name:v||o++,prefix:g||"",delimiter:T,optional:S,repeat:C,partial:w,asterisk:!!x,pattern:P?u(P):x?".*":"[^"+l(T)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",d(t)));return function(t,a){for(var o="",s=t||{},l=(a||{}).pretty?i:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var d,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=l(f[p]),!n[u].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[u].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');o+=c.prefix+d}}else o+=c}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)i+=l(u);else{var f=l(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+f+p+")*"),i+=p=u.optional?u.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var m=l(n.delimiter||"/"),g=i.slice(-m.length)===m;return a||(i=(g?i.slice(0,-m.length):i)+"(?:"+m+"(?=$))?"),i+=o?"$":a&&g?"":"(?="+m+"|$)",c(new RegExp("^"+i,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(p(e[a],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,h=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case i:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case g:case l:return e;default:return t}}case a:return t}}}function C(e){return w(e)===d}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function h(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=h.prototype;var x=b.prototype=new y;x.constructor=b,g(x,h.prototype),x.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,a)&&!T.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+E(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),I(i,t,a,"",(function(e){return e}))):null!=i&&(O(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+E(s=e[u],u);l+=I(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,a,c=o+E(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},_={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:_,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=h,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!T.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,h="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(v=!1,x(e),!g)if(null!==r(u))g=!0,_(C);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function C(e,n){g=!1,v&&(v=!1,y(O),O=-1),m=!0;var o=p;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var i=f.callback;if("function"===typeof i){f.callback=null,p=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&a(u),x(n)}else a(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{f=null,p=o,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,P=null,O=-1,A=5,E=-1;function I(){return!(t.unstable_now()-E<A)}function R(){if(null!==P){var e=t.unstable_now();E=e;var n=!0;try{n=P(!0,e)}finally{n?S():(T=!1,P=null)}}else T=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,M=k.port2;k.port1.onmessage=R,S=function(){M.postMessage(null)}}else S=function(){h(R,0)};function _(e){P=e,T||(T=!0,S())}function D(e,n){O=h((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,_(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(v?(y(O),O=-1):v=!0,D(w,o-i))):(e.sortIndex=s,n(u,e),g||m||(g=!0,_(C))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),o=n(2132),i=n(890),s=n(4113),l=n(1725),u=n(3411);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=i,u.xor4096=s,u.tychei=l,e.exports=u},2501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},1725:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,o,i){var s,l=256,u=i.pow(l,6),c=i.pow(2,52),d=2*c,f=l-1;function p(e,t,n){var r=[],f=h(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(o)]}}():e,3),r),p=new m(r),b=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,h(y(p.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&g(r,p),e.state=function(){return g(p,{})}),n?(i.random=e,t):e})(b,f,"global"in t?t.global:this==i,t.state)}function m(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<l;)i[a]=a++;for(a=0;a<l;a++)i[a]=i[o=f&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=f&a+1],n=n*l+i[f&(i[a]=i[o=f&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(l)}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function h(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(h(i.random(),o),e.exports){e.exports=p;try{s=n(5042)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},9833:function(e){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],a=e[2],o=e[3];r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&a)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|a>>>15)+o|0)&o|~a&n)+t[3]-1044525330|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&a)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|a>>>15)+o|0)&o|~a&n)+t[7]-45705983|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&a)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|a>>>15)+o|0)&o|~a&n)+t[11]-1990404162|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&a)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|a>>>15)+o|0)&o|~a&n)+t[15]+1236535329|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&a|r&~a)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|a>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&a|r&~a)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|a>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&a|r&~a)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|a>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&a|r&~a)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|a>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^a)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|a>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^a)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|a>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^a)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|a>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^a)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|a>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~a))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[14]-1416354905|0)<<15|a>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~a))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[10]-1051523|0)<<15|a>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~a))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[6]-1560198380|0)<<15|a>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~a))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[2]+718787259|0)<<15|a>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,a,o,i,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,r(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(c,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),l=parseInt(i[1],16)||0,o[14]=s,o[15]=l,n(c,o),c}function i(e){var t,r,o,i,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,a(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(c,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),l=parseInt(i[1],16)||0,o[14]=s,o[15]=l,n(c,o),c}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,a=new ArrayBuffer(r),o=new Uint8Array(a);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:a}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function p(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function m(){this.reset()}return l(o("hello")),"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var a,o,i,s,l=this.byteLength,u=t(n,l),c=l;return r!==e&&(c=t(r,l)),u>c?new ArrayBuffer(0):(a=c-u,o=new ArrayBuffer(a),i=new Uint8Array(o),s=new Uint8Array(this,u,a),i.set(s),o)}}(),m.prototype.append=function(e){return this.appendBinary(u(e)),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,a=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,a),n=l(this._hash),e&&(n=p(n)),this.reset(),n},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(e,t){var r,a,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=a,e[15]=o,n(this._hash,e)},m.hash=function(e,t){return m.hashBinary(u(e),t)},m.hashBinary=function(e,t){var n=l(o(e));return t?p(n):n},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,r=f(this._buff.buffer,e,!0),o=r.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,a(r.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,a=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,a),n=l(this._hash),e&&(n=p(n)),this.reset(),n},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);return e.buff=d(e.buff),e},m.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var n=l(i(new Uint8Array(e)));return t?p(n):n},m}()},5042:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return r[e]}}));return i.default=function(){return r},n.d(o,i),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".71df535f.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="front:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/pacs-front/",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),s=new Error;n.l(i,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,o,i=r[0],s=r[1],l=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfront=self.webpackChunkfront||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{add:function(){return zO},angle:function(){return yA},bezier:function(){return cA},ceil:function(){return qO},clone:function(){return BO},copy:function(){return jO},create:function(){return NO},cross:function(){return sA},dist:function(){return OA},distance:function(){return eA},div:function(){return PA},divide:function(){return KO},dot:function(){return iA},equals:function(){return CA},exactEquals:function(){return wA},floor:function(){return XO},forEach:function(){return RA},fromValues:function(){return UO},hermite:function(){return uA},inverse:function(){return aA},len:function(){return EA},length:function(){return FO},lerp:function(){return lA},max:function(){return $O},min:function(){return YO},mul:function(){return TA},multiply:function(){return HO},negate:function(){return rA},normalize:function(){return oA},random:function(){return dA},rotateX:function(){return gA},rotateY:function(){return vA},rotateZ:function(){return hA},round:function(){return ZO},scale:function(){return QO},scaleAndAdd:function(){return JO},set:function(){return GO},sqrDist:function(){return AA},sqrLen:function(){return IA},squaredDistance:function(){return tA},squaredLength:function(){return nA},str:function(){return xA},sub:function(){return SA},subtract:function(){return WO},transformMat3:function(){return pA},transformMat4:function(){return fA},transformQuat:function(){return mA},zero:function(){return bA}});var t={};n.r(t),n.d(t,{add:function(){return xE},adjoint:function(){return FA},clone:function(){return MA},copy:function(){return _A},create:function(){return kA},determinant:function(){return UA},equals:function(){return PE},exactEquals:function(){return TE},frob:function(){return bE},fromQuat:function(){return sE},fromQuat2:function(){return tE},fromRotation:function(){return $A},fromRotationTranslation:function(){return eE},fromRotationTranslationScale:function(){return oE},fromRotationTranslationScaleOrigin:function(){return iE},fromScaling:function(){return YA},fromTranslation:function(){return XA},fromValues:function(){return DA},fromXRotation:function(){return ZA},fromYRotation:function(){return QA},fromZRotation:function(){return JA},frustum:function(){return lE},getRotation:function(){return aE},getScaling:function(){return rE},getTranslation:function(){return nE},identity:function(){return VA},invert:function(){return BA},lookAt:function(){return vE},mul:function(){return OE},multiply:function(){return jA},multiplyScalar:function(){return CE},multiplyScalarAndAdd:function(){return SE},ortho:function(){return mE},orthoNO:function(){return pE},orthoZO:function(){return gE},perspective:function(){return cE},perspectiveFromFieldOfView:function(){return fE},perspectiveNO:function(){return uE},perspectiveZO:function(){return dE},rotate:function(){return WA},rotateX:function(){return HA},rotateY:function(){return KA},rotateZ:function(){return qA},scale:function(){return zA},set:function(){return LA},str:function(){return yE},sub:function(){return AE},subtract:function(){return wE},targetTo:function(){return hE},translate:function(){return GA},transpose:function(){return NA}});var r={};n.r(r),n.d(r,{add:function(){return QE},adjoint:function(){return NE},clone:function(){return RE},copy:function(){return kE},create:function(){return EE},determinant:function(){return BE},equals:function(){return rI},exactEquals:function(){return nI},frob:function(){return ZE},fromMat2d:function(){return KE},fromMat4:function(){return IE},fromQuat:function(){return qE},fromRotation:function(){return WE},fromScaling:function(){return HE},fromTranslation:function(){return zE},fromValues:function(){return ME},identity:function(){return DE},invert:function(){return VE},mul:function(){return aI},multiply:function(){return FE},multiplyScalar:function(){return eI},multiplyScalarAndAdd:function(){return tI},normalFromMat4:function(){return XE},projection:function(){return YE},rotate:function(){return jE},scale:function(){return GE},set:function(){return _E},str:function(){return $E},sub:function(){return oI},subtract:function(){return JE},translate:function(){return UE},transpose:function(){return LE}});var a=n(2791),o=n.t(a,2),i=n(1250);function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function d(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&c(e),i=t&&c(t),s=o||i;if(e&&c(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,f=a.length;f>=0;f--){var p=a[f];"."===p?d(a,f):".."===p?(d(a,f),u++):u&&(d(a,f),u--)}if(!s)for(;u--;u)a.unshift("..");!s||""===a[0]||a[0]&&c(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m},p=!0,m="Invariant failed";function g(e,t){if(!e){if(p)throw new Error(m);var n="function"===typeof t?t():t,r=n?"".concat(m,": ").concat(n):m;throw new Error(r)}}function v(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function b(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function x(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function w(e,t,n,r){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=u({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=f(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function C(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var S=!("undefined"===typeof window||!window.document||!window.document.createElement);function T(e,t){t(window.confirm(e))}var P="popstate",O="hashchange";function A(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),S||g(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,i=void 0!==o&&o,s=a.getUserConfirmation,l=void 0===s?T:s,c=a.keyLength,d=void 0===c?6:c,f=e.basename?b(v(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return f&&(o=y(o,f)),w(o,r,n)}function m(){return Math.random().toString(36).substr(2,d)}var h=C();function E(e){u(U,e),U.length=t.length,h.notifyListeners(U.location,U.action)}function I(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(p(e.state))}function R(){M(p(A()))}var k=!1;function M(e){if(k)k=!1,E();else{h.confirmTransitionTo(e,"POP",l,(function(t){t?E({action:"POP",location:e}):function(e){var t=U.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(k=!0,V(a))}(e)}))}}var _=p(A()),D=[_.key];function L(e){return f+x(e)}function V(e){t.go(e)}var N=0;function B(e){1===(N+=e)&&1===e?(window.addEventListener(P,I),r&&window.addEventListener(O,R)):0===N&&(window.removeEventListener(P,I),r&&window.removeEventListener(O,R))}var F=!1;var U={length:t.length,action:"POP",location:_,createHref:L,push:function(e,r){var a="PUSH",o=w(e,r,m(),U.location);h.confirmTransitionTo(o,a,l,(function(e){if(e){var r=L(o),s=o.key,l=o.state;if(n)if(t.pushState({key:s,state:l},null,r),i)window.location.href=r;else{var u=D.indexOf(U.location.key),c=D.slice(0,u+1);c.push(o.key),D=c,E({action:a,location:o})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",o=w(e,r,m(),U.location);h.confirmTransitionTo(o,a,l,(function(e){if(e){var r=L(o),s=o.key,l=o.state;if(n)if(t.replaceState({key:s,state:l},null,r),i)window.location.replace(r);else{var u=D.indexOf(U.location.key);-1!==u&&(D[u]=o.key),E({action:a,location:o})}else window.location.replace(r)}}))},go:V,goBack:function(){V(-1)},goForward:function(){V(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=h.appendListener(e);return B(1),function(){B(-1),t()}}};return U}var I="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:v},slash:{encodePath:v,decodePath:v}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function M(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){window.location.replace(k(window.location.href)+"#"+e)}function D(e){void 0===e&&{},S||g(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?T:r,o=n.hashType,i=void 0===o?"slash":o,s=e.basename?b(v(e.basename)):"",l=R[i],c=l.encodePath,d=l.decodePath;function f(){var e=d(M());return s&&y(e,s),w(e)}var p=C();function m(e){u(U,e),U.length=t.length,p.notifyListeners(U.location,U.action)}var h=!1,P=null;function O(){var e=M(),t=c(e);if(e!==t)_(t);else{var n=f(),r=U.location;if(!h&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(P===x(n))return;null,function(e){if(h)!1,m();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?m({action:t,location:e}):function(e){var t=U.location,n=L.lastIndexOf(x(t));-1===n&&0;var r=L.lastIndexOf(x(e));-1===r&&0;var a=n-r;a&&(!0,V(a))}(e)}))}}(n)}}var A=M(),E=c(A);A!==E&&_(E);var D=f(),L=[x(D)];function V(e){t.go(e)}var N=0;function B(e){1===(N+=e)&&1===e?window.addEventListener(I,O):0===N&&window.removeEventListener(I,O)}var F=!1;var U={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&k(window.location.href),n+"#"+c(s+x(e))},push:function(e,t){var n="PUSH",r=w(e,void 0,void 0,U.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=x(r),a=c(s+t);if(M()!==a){t,function(e){window.location.hash=e}(a);var o=L.lastIndexOf(x(U.location)),i=L.slice(0,o+1);i.push(t),i,m({action:n,location:r})}else m()}}))},replace:function(e,t){var n="REPLACE",r=w(e,void 0,void 0,U.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=x(r),a=c(s+t);M()!==a&&(t,_(a));var o=L.indexOf(x(U.location));-1!==o&&(L[o]=t),m({action:n,location:r})}}))},go:V,goBack:function(){V(-1)},goForward:function(){V(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return F||(B(1),!0),function(){return F&&(!1,B(-1)),t()}},listen:function(e){var t=p.appendListener(e);return B(1),function(){B(-1),t()}}};return U}function L(e,t,n){return Math.min(Math.max(e,t),n)}var V=n(2007),N=n.n(V),B=1073741823,F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var U=a.createContext||function(e,t){var n,r,o="__create-react-context-"+function(){var e="__global_unique_id__";return F[e]=(F[e]||0)+1}()+"__",i=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}l(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((o=r)===(i=a)?0!==o||1/o===1/i:o!==o&&i!==i)?n=0:(n="function"===typeof t?t(r,a):B,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,i},r.render=function(){return this.props.children},n}(a.Component);i.childContextTypes=((n={})[o]=N().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?B:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?B:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(a.Component);return s.contextTypes=((r={})[o]=N().object,r),{Provider:i,Consumer:s}},j=U,G=n(3813),z=n.n(G);n(8228);function W(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n(2110);var H=function(e){var t=j();return t.displayName=e,t},K=H("Router-History"),q=H("Router"),X=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}l(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return a.createElement(q.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.Component);a.Component;a.Component;var Y={},$=1e4,Z=0;function Q(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,s=void 0!==i&&i,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Y[n]||(Y[n]={});if(r[e])return r[e];var a=[],o={regexp:z()(e,a,t),keys:a};return Z<$&&(r[e]=o,Z++),o}(n,{end:o,strict:s,sensitive:u}),a=r.regexp,i=r.keys,l=a.exec(e);if(!l)return null;var c=l[0],d=l.slice(1),f=e===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:i.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var J=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return a.createElement(q.Consumer,null,(function(t){t||g(!1);var n=e.props.location||t.location,r=u({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Q(n.pathname,e.props):t.match}),o=e.props,i=o.children,s=o.component,l=o.render;return Array.isArray(i)&&function(e){return 0===a.Children.count(e)}(i)&&(i=null),a.createElement(q.Provider,{value:r},r.match?i?"function"===typeof i?i(r):i:s?a.createElement(s,r):l?l(r):null:"function"===typeof i?i(r):null)}))},t}(a.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:u({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:x(e)}function re(e){return function(){g(!1)}}function ae(){}a.Component;var oe=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return a.createElement(q.Consumer,null,(function(t){t||g(!1);var n,r,o=e.props.location||t.location;return a.Children.forEach(e.props.children,(function(e){if(null==r&&a.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?Q(o.pathname,u({},e.props,{path:i})):t.match}})),r?a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(a.Component);a.useContext;var ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=E(t.props),t}return l(t,e),t.prototype.render=function(){return a.createElement(X,{history:this.history,children:this.props.children})},t}(a.Component);a.Component;var se=function(e,t){return"function"===typeof e?e(t):e},le=function(e,t){return"string"===typeof e?w(e,null,null,t):e},ue=function(e){return e},ce=a.forwardRef;"undefined"===typeof ce&&(ce=ue);var de=ce((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=W(e,["innerRef","navigate","onClick"]),s=i.target,l=u({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=ue!==ce&&t||n,a.createElement("a",l)}));var fe=ce((function(e,t){var n=e.component,r=void 0===n?de:n,o=e.replace,i=e.to,s=e.innerRef,l=W(e,["component","replace","to","innerRef"]);return a.createElement(q.Consumer,null,(function(e){e||g(!1);var n=e.history,c=le(se(i,e.location),e.location),d=c?n.createHref(c):"",f=u({},l,{href:d,navigate:function(){var t=se(i,e.location),r=x(e.location)===x(le(t));(o||r?n.replace:n.push)(t)}});return ue!==ce?f.ref=t||s:f.innerRef=s,a.createElement(r,f)}))})),pe=function(e){return e},me=a.forwardRef;"undefined"===typeof me&&(me=pe);me((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,i=void 0===o?"active":o,s=e.activeStyle,l=e.className,c=e.exact,d=e.isActive,f=e.location,p=e.sensitive,m=e.strict,v=e.style,h=e.to,y=e.innerRef,b=W(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(q.Consumer,null,(function(e){e||g(!1);var n=f||e.location,o=le(se(h,n),n),x=o.pathname,w=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=w?Q(n.pathname,{path:w,exact:c,sensitive:p,strict:m}):null,S=!!(d?d(C,n):C),T="function"===typeof l?l(S):l,P="function"===typeof v?v(S):v;S&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,i),P=u({},P,s));var O=u({"aria-current":S&&r||null,className:T,style:P,to:o},b);return pe!==me?O.ref=t||y:O.innerRef=y,a.createElement(fe,O)}))}));function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ve(){ve=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function h(){}function y(){}function b(){}var x={};u(x,i,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(k([])));C&&C!==n&&r.call(C,i)&&(x=C);var S=b.prototype=h.prototype=Object.create(x);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==ge(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,n,r){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?g:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=g,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ge(t)+" is not iterable")}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new P(c(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function he(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){he(o,r,a,i,s,"next",e)}function s(e){he(o,r,a,i,s,"throw",e)}i(void 0)}))}}function be(e){if(Array.isArray(e))return e}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(e){if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){return be(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||we(e,t)||Ce()}function Te(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}function Pe(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){if(null==e)return{};var n,r,a=W(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ie(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Re(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||Ie(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=we(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Me(e){return be(e)||Ie(e)||we(e)||Ce()}var _e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function De(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ve(e)?e.apply(void 0,n):e}var Ve=function(e){return"function"===typeof e},Ne=function(e){return e?"":void 0},Be=function(e){return!!e||void 0};function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null==t||t(e)}))}}var je=n(6198),Ge=["__cssMap","__cssVars","__breakpoints"],ze=function(e){return"string"===typeof e?e.replace(/!(important)?$/,"").trim():e},We=function(e,t){return function(n){var r=String(t),a=function(e){return/!(important)?$/.test(e)}(r),o=ze(r),i=e?"".concat(e,".").concat(o):o,s=De(n.__cssMap)&&i in n.__cssMap?n.__cssMap[i].varRef:t;return s=ze(s),a?"".concat(s," !important"):s}};function He(e){var t=e.scale,n=e.transform,r=e.compose;return function(e,a){var o,i=We(t,e)(a),s=null!=(o=null==n?void 0:n(i,a))?o:i;return r&&(s=r(s,a)),s}}var Ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}};function qe(e,t){return function(n){var r={property:n,scale:e};return r.transform=He({scale:e,transform:t}),r}}var Xe=function(e){var t=e.rtl,n=e.ltr;return function(e){return"rtl"===e.direction?t:n}};var Ye=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var $e={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Ze={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var Qe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Je={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},et=new Set(Object.values(Je)),tt=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),nt=function(e){return e.trim()};var rt=function(e){return"string"===typeof e&&e.includes("(")&&e.includes(")")};var at=function(e){return function(t){return"".concat(e,"(").concat(t,")")}},ot={filter:function(e){return"auto"!==e?e:$e},backdropFilter:function(e){return"auto"!==e?e:Ze},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(ot.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(Ye).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(Ye).join(" "):e},vh:function(e){return"$100vh"===e?"var(--chakra-vh)":e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e},fraction:function(e){return"number"!==typeof e||e>1?e:"".concat(100*e,"%")},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;var t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:function(e,t){return function(e,t){if(null==e||tt.has(e))return e;if(!rt(e)&&!tt.has(e))return"url('".concat(e,"')");var n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==n?void 0:n[1],a=null==n?void 0:n[2];if(!r||!a)return e;var o=r.includes("-gradient")?r:"".concat(r,"-gradient"),i=Me(a.split(",").map(nt).filter(Boolean)),s=i[0],l=i.slice(1);if(0===(null==l?void 0:l.length))return e;var u=s in Je?Je[s]:s;l.unshift(u);var c=l.map((function(e){if(et.has(e))return e;var n=e.indexOf(" "),r=Se(-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],2),a=r[0],o=r[1],i=rt(o)?o:o&&o.split(" "),s="colors.".concat(a),l=s in t.__cssMap?t.__cssMap[s].varRef:a;return i?[l].concat(Re(Array.isArray(i)?i:[i])).join(" "):l}));return"".concat(o,"(").concat(c.join(", "),")")}(e,null!=t?t:{})},blur:at("blur"),opacity:at("opacity"),brightness:at("brightness"),contrast:at("contrast"),dropShadow:at("drop-shadow"),grayscale:at("grayscale"),hueRotate:at("hue-rotate"),invert:at("invert"),saturate:at("saturate"),sepia:at("sepia"),bgImage:function(e){return null==e||rt(e)||tt.has(e)?e:"url(".concat(e,")")},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,n=null!=(t=Qe[e])?t:{},r=n.space,a=n.divide,o={flexDirection:e};return r&&(o[r]=1),a&&(o[a]=1),o}},it={borderWidths:qe("borderWidths"),borderStyles:qe("borderStyles"),colors:qe("colors"),borders:qe("borders"),gradients:qe("gradients",ot.gradient),radii:qe("radii",ot.px),space:qe("space",Ke(ot.vh,ot.px)),spaceT:qe("space",Ke(ot.vh,ot.px)),degreeT:function(e){return{property:e,transform:ot.degree}},prop:function(e,t,n){return Ae({property:e,scale:t},t&&{transform:He({scale:t,transform:n})})},propT:function(e,t){return{property:e,transform:t}},sizes:qe("sizes",Ke(ot.vh,ot.px)),sizesT:qe("sizes",Ke(ot.vh,ot.fraction)),shadows:qe("shadows"),logical:function(e){var t=e.property,n=e.scale,r=e.transform;return{scale:n,property:Xe(t),transform:n?He({scale:n,compose:r}):r}},blur:qe("blur",ot.blur)},st={background:it.colors("background"),backgroundColor:it.colors("backgroundColor"),backgroundImage:it.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:ot.bgClip},bgSize:it.prop("backgroundSize"),bgPosition:it.prop("backgroundPosition"),bg:it.colors("background"),bgColor:it.colors("backgroundColor"),bgPos:it.prop("backgroundPosition"),bgRepeat:it.prop("backgroundRepeat"),bgAttachment:it.prop("backgroundAttachment"),bgGradient:it.gradients("backgroundImage"),bgClip:{transform:ot.bgClip}};Object.assign(st,{bgImage:st.backgroundImage,bgImg:st.backgroundImage});var lt={border:it.borders("border"),borderWidth:it.borderWidths("borderWidth"),borderStyle:it.borderStyles("borderStyle"),borderColor:it.colors("borderColor"),borderRadius:it.radii("borderRadius"),borderTop:it.borders("borderTop"),borderBlockStart:it.borders("borderBlockStart"),borderTopLeftRadius:it.radii("borderTopLeftRadius"),borderStartStartRadius:it.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:it.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:it.radii("borderTopRightRadius"),borderStartEndRadius:it.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:it.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:it.borders("borderRight"),borderInlineEnd:it.borders("borderInlineEnd"),borderBottom:it.borders("borderBottom"),borderBlockEnd:it.borders("borderBlockEnd"),borderBottomLeftRadius:it.radii("borderBottomLeftRadius"),borderBottomRightRadius:it.radii("borderBottomRightRadius"),borderLeft:it.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:it.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:it.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:it.borders(["borderLeft","borderRight"]),borderInline:it.borders("borderInline"),borderY:it.borders(["borderTop","borderBottom"]),borderBlock:it.borders("borderBlock"),borderTopWidth:it.borderWidths("borderTopWidth"),borderBlockStartWidth:it.borderWidths("borderBlockStartWidth"),borderTopColor:it.colors("borderTopColor"),borderBlockStartColor:it.colors("borderBlockStartColor"),borderTopStyle:it.borderStyles("borderTopStyle"),borderBlockStartStyle:it.borderStyles("borderBlockStartStyle"),borderBottomWidth:it.borderWidths("borderBottomWidth"),borderBlockEndWidth:it.borderWidths("borderBlockEndWidth"),borderBottomColor:it.colors("borderBottomColor"),borderBlockEndColor:it.colors("borderBlockEndColor"),borderBottomStyle:it.borderStyles("borderBottomStyle"),borderBlockEndStyle:it.borderStyles("borderBlockEndStyle"),borderLeftWidth:it.borderWidths("borderLeftWidth"),borderInlineStartWidth:it.borderWidths("borderInlineStartWidth"),borderLeftColor:it.colors("borderLeftColor"),borderInlineStartColor:it.colors("borderInlineStartColor"),borderLeftStyle:it.borderStyles("borderLeftStyle"),borderInlineStartStyle:it.borderStyles("borderInlineStartStyle"),borderRightWidth:it.borderWidths("borderRightWidth"),borderInlineEndWidth:it.borderWidths("borderInlineEndWidth"),borderRightColor:it.colors("borderRightColor"),borderInlineEndColor:it.colors("borderInlineEndColor"),borderRightStyle:it.borderStyles("borderRightStyle"),borderInlineEndStyle:it.borderStyles("borderInlineEndStyle"),borderTopRadius:it.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:it.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:it.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:it.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(lt,{rounded:lt.borderRadius,roundedTop:lt.borderTopRadius,roundedTopLeft:lt.borderTopLeftRadius,roundedTopRight:lt.borderTopRightRadius,roundedTopStart:lt.borderStartStartRadius,roundedTopEnd:lt.borderStartEndRadius,roundedBottom:lt.borderBottomRadius,roundedBottomLeft:lt.borderBottomLeftRadius,roundedBottomRight:lt.borderBottomRightRadius,roundedBottomStart:lt.borderEndStartRadius,roundedBottomEnd:lt.borderEndEndRadius,roundedLeft:lt.borderLeftRadius,roundedRight:lt.borderRightRadius,roundedStart:lt.borderInlineStartRadius,roundedEnd:lt.borderInlineEndRadius,borderStart:lt.borderInlineStart,borderEnd:lt.borderInlineEnd,borderTopStartRadius:lt.borderStartStartRadius,borderTopEndRadius:lt.borderStartEndRadius,borderBottomStartRadius:lt.borderEndStartRadius,borderBottomEndRadius:lt.borderEndEndRadius,borderStartRadius:lt.borderInlineStartRadius,borderEndRadius:lt.borderInlineEndRadius,borderStartWidth:lt.borderInlineStartWidth,borderEndWidth:lt.borderInlineEndWidth,borderStartColor:lt.borderInlineStartColor,borderEndColor:lt.borderInlineEndColor,borderStartStyle:lt.borderInlineStartStyle,borderEndStyle:lt.borderInlineEndStyle});var ut={color:it.colors("color"),textColor:it.colors("color"),fill:it.colors("fill"),stroke:it.colors("stroke")},ct={boxShadow:it.shadows("boxShadow"),mixBlendMode:!0,blendMode:it.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:it.prop("backgroundBlendMode"),opacity:!0};Object.assign(ct,{shadow:ct.boxShadow});var dt={filter:{transform:ot.filter},blur:it.blur("--chakra-blur"),brightness:it.propT("--chakra-brightness",ot.brightness),contrast:it.propT("--chakra-contrast",ot.contrast),hueRotate:it.degreeT("--chakra-hue-rotate"),invert:it.propT("--chakra-invert",ot.invert),saturate:it.propT("--chakra-saturate",ot.saturate),dropShadow:it.propT("--chakra-drop-shadow",ot.dropShadow),backdropFilter:{transform:ot.backdropFilter},backdropBlur:it.blur("--chakra-backdrop-blur"),backdropBrightness:it.propT("--chakra-backdrop-brightness",ot.brightness),backdropContrast:it.propT("--chakra-backdrop-contrast",ot.contrast),backdropHueRotate:it.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:it.propT("--chakra-backdrop-invert",ot.invert),backdropSaturate:it.propT("--chakra-backdrop-saturate",ot.saturate)},ft={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:ot.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:it.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:it.space("gap"),rowGap:it.space("rowGap"),columnGap:it.space("columnGap")};Object.assign(ft,{flexDir:ft.flexDirection});var pt={gridGap:it.space("gridGap"),gridColumnGap:it.space("gridColumnGap"),gridRowGap:it.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},mt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:ot.outline},outlineOffset:!0,outlineColor:it.colors("outlineColor")},gt={width:it.sizesT("width"),inlineSize:it.sizesT("inlineSize"),height:it.sizes("height"),blockSize:it.sizes("blockSize"),boxSize:it.sizes(["width","height"]),minWidth:it.sizes("minWidth"),minInlineSize:it.sizes("minInlineSize"),minHeight:it.sizes("minHeight"),minBlockSize:it.sizes("minBlockSize"),maxWidth:it.sizes("maxWidth"),maxInlineSize:it.sizes("maxInlineSize"),maxHeight:it.sizes("maxHeight"),maxBlockSize:it.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:function(e,t){var n,r,a,o=null!=(a=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.minW)?a:e;return Pe({},"@media screen and (min-width: ".concat(o,")"),{display:"none"})}},hideBelow:{scale:"breakpoints",transform:function(e,t){var n,r,a,o=null!=(a=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r._minW)?a:e;return Pe({},"@media screen and (max-width: ".concat(o,")"),{display:"none"})}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:it.propT("float",ot.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(gt,{w:gt.width,h:gt.height,minW:gt.minWidth,maxW:gt.maxWidth,minH:gt.minHeight,maxH:gt.maxHeight,overscroll:gt.overscrollBehavior,overscrollX:gt.overscrollBehaviorX,overscrollY:gt.overscrollBehaviorY});var vt={listStyleType:!0,listStylePosition:!0,listStylePos:it.prop("listStylePosition"),listStyleImage:!0,listStyleImg:it.prop("listStyleImage")};var ht=function(e){var t=new WeakMap;return function(n,r,a,o){if("undefined"===typeof n)return e(n,r,a);t.has(n)||t.set(n,new Map);var i=t.get(n);if(i.has(r))return i.get(r);var s=e(n,r,a,o);return i.set(r,s),s}}((function(e,t,n,r){var a="string"===typeof t?t.split("."):[t];for(r=0;r<a.length&&e;r+=1)e=e[a[r]];return void 0===e?n:e})),yt={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},bt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},xt=function(e,t,n){var r={},a=ht(e,t,{});for(var o in a){o in n&&null!=n[o]||(r[o]=a[o])}return r},wt={srOnly:{transform:function(e){return!0===e?yt:"focusable"===e?bt:{}}},layerStyle:{processResult:!0,transform:function(e,t,n){return xt(t,"layerStyles.".concat(e),n)}},textStyle:{processResult:!0,transform:function(e,t,n){return xt(t,"textStyles.".concat(e),n)}},apply:{processResult:!0,transform:function(e,t,n){return xt(t,e,n)}}},Ct={position:!0,pos:it.prop("position"),zIndex:it.prop("zIndex","zIndices"),inset:it.spaceT("inset"),insetX:it.spaceT(["left","right"]),insetInline:it.spaceT("insetInline"),insetY:it.spaceT(["top","bottom"]),insetBlock:it.spaceT("insetBlock"),top:it.spaceT("top"),insetBlockStart:it.spaceT("insetBlockStart"),bottom:it.spaceT("bottom"),insetBlockEnd:it.spaceT("insetBlockEnd"),left:it.spaceT("left"),insetInlineStart:it.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:it.spaceT("right"),insetInlineEnd:it.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ct,{insetStart:Ct.insetInlineStart,insetEnd:Ct.insetInlineEnd});var St={ring:{transform:ot.ring},ringColor:it.colors("--chakra-ring-color"),ringOffset:it.prop("--chakra-ring-offset-width"),ringOffsetColor:it.colors("--chakra-ring-offset-color"),ringInset:it.prop("--chakra-ring-inset")},Tt={margin:it.spaceT("margin"),marginTop:it.spaceT("marginTop"),marginBlockStart:it.spaceT("marginBlockStart"),marginRight:it.spaceT("marginRight"),marginInlineEnd:it.spaceT("marginInlineEnd"),marginBottom:it.spaceT("marginBottom"),marginBlockEnd:it.spaceT("marginBlockEnd"),marginLeft:it.spaceT("marginLeft"),marginInlineStart:it.spaceT("marginInlineStart"),marginX:it.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:it.spaceT("marginInline"),marginY:it.spaceT(["marginTop","marginBottom"]),marginBlock:it.spaceT("marginBlock"),padding:it.space("padding"),paddingTop:it.space("paddingTop"),paddingBlockStart:it.space("paddingBlockStart"),paddingRight:it.space("paddingRight"),paddingBottom:it.space("paddingBottom"),paddingBlockEnd:it.space("paddingBlockEnd"),paddingLeft:it.space("paddingLeft"),paddingInlineStart:it.space("paddingInlineStart"),paddingInlineEnd:it.space("paddingInlineEnd"),paddingX:it.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:it.space("paddingInline"),paddingY:it.space(["paddingTop","paddingBottom"]),paddingBlock:it.space("paddingBlock")};Object.assign(Tt,{m:Tt.margin,mt:Tt.marginTop,mr:Tt.marginRight,me:Tt.marginInlineEnd,marginEnd:Tt.marginInlineEnd,mb:Tt.marginBottom,ml:Tt.marginLeft,ms:Tt.marginInlineStart,marginStart:Tt.marginInlineStart,mx:Tt.marginX,my:Tt.marginY,p:Tt.padding,pt:Tt.paddingTop,py:Tt.paddingY,px:Tt.paddingX,pb:Tt.paddingBottom,pl:Tt.paddingLeft,ps:Tt.paddingInlineStart,paddingStart:Tt.paddingInlineStart,pr:Tt.paddingRight,pe:Tt.paddingInlineEnd,paddingEnd:Tt.paddingInlineEnd});var Pt={textDecorationColor:it.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:it.shadows("textShadow")},Ot={clipPath:!0,transform:it.propT("transform",ot.transform),transformOrigin:!0,translateX:it.spaceT("--chakra-translate-x"),translateY:it.spaceT("--chakra-translate-y"),skewX:it.degreeT("--chakra-skew-x"),skewY:it.degreeT("--chakra-skew-y"),scaleX:it.prop("--chakra-scale-x"),scaleY:it.prop("--chakra-scale-y"),scale:it.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:it.degreeT("--chakra-rotate")},At={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:it.prop("transitionDuration","transition.duration"),transitionProperty:it.prop("transitionProperty","transition.property"),transitionTimingFunction:it.prop("transitionTimingFunction","transition.easing")},Et={fontFamily:it.prop("fontFamily","fonts"),fontSize:it.prop("fontSize","fontSizes",ot.px),fontWeight:it.prop("fontWeight","fontWeights"),lineHeight:it.prop("lineHeight","lineHeights"),letterSpacing:it.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},It={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:it.spaceT("scrollMargin"),scrollMarginTop:it.spaceT("scrollMarginTop"),scrollMarginBottom:it.spaceT("scrollMarginBottom"),scrollMarginLeft:it.spaceT("scrollMarginLeft"),scrollMarginRight:it.spaceT("scrollMarginRight"),scrollMarginX:it.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:it.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:it.spaceT("scrollPadding"),scrollPaddingTop:it.spaceT("scrollPaddingTop"),scrollPaddingBottom:it.spaceT("scrollPaddingBottom"),scrollPaddingLeft:it.spaceT("scrollPaddingLeft"),scrollPaddingRight:it.spaceT("scrollPaddingRight"),scrollPaddingX:it.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:it.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Rt(e){return De(e)&&e.reference?e.reference:String(e)}var kt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(Rt).join(" ".concat(e," ")).replace(/calc/g,"")},Mt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(kt.apply(void 0,["+"].concat(t)),")")},_t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(kt.apply(void 0,["-"].concat(t)),")")},Dt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(kt.apply(void 0,["*"].concat(t)),")")},Lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(kt.apply(void 0,["/"].concat(t)),")")},Vt=function(e){var t=Rt(e);return null==t||Number.isNaN(parseFloat(t))?Dt(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},Nt=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(Mt.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(_t.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(Dt.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(Lt.apply(void 0,[e].concat(n)))},negate:function(){return Nt(Vt(e))},toString:function(){return e.toString()}}}),{add:Mt,subtract:_t,multiply:Dt,divide:Lt,negate:Vt});function Bt(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;var t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function Ft(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function Ut(e){return Bt("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function jt(e,t,n){var r=Ut(e,n);return{variable:r,reference:Ft(r,t)}}function Gt(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function zt(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e}var Wt=function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1},Ht=function(e){return Object.fromEntries(Object.entries(e).sort(Wt))};function Kt(e){var t=Ht(e);return Object.assign(Object.values(t),t)}function qt(e){var t;if(!e)return e;e=null!=(t=zt(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/([0-9]+\.?[0-9]*)/,(function(e){return"".concat(parseFloat(e)+-.02)}))}function Xt(e,t){var n=["@media screen"];return e&&n.push("and","(min-width: ".concat(zt(e),")")),t&&n.push("and","(max-width: ".concat(zt(t),")")),n.join(" ")}function Yt(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";var n=Kt(e),r=Object.entries(e).sort(Wt).map((function(e,t,n){var r,a=Se(e,2),o=a[0],i=a[1],s=Se(null!=(r=n[t+1])?r:[],2)[1];return s=parseFloat(s)>0?qt(s):void 0,{_minW:qt(i),breakpoint:o,minW:i,maxW:s,maxWQuery:Xt(null,s),minWQuery:Xt(i),minMaxQuery:Xt(i,s)}})),a=function(e){var t=Object.keys(Ht(e));return new Set(t)}(e),o=Array.from(a.values());return{keys:a,normalized:n,isResponsive:function(e){var t=Object.keys(e);return t.length>0&&t.every((function(e){return a.has(e)}))},asObject:Ht(e),asArray:Kt(e),details:r,get:function(e){return r.find((function(t){return t.breakpoint===e}))},media:[null].concat(Re(n.map((function(e){return Xt(e)})).slice(1))),toArrayValue:function(e){if(!De(e))throw new Error("toArrayValue: value must be an object");for(var t=o.map((function(t){var n;return null!=(n=e[t])?n:null}));null===Gt(t);)t.pop();return t},toObjectValue:function(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce((function(e,t,n){var r=o[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var $t=function(e,t){return"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t)},Zt=function(e,t){return"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t)},Qt=function(e,t){return"".concat(e,":focus-visible ").concat(t)},Jt=function(e,t){return"".concat(e,":focus-within ").concat(t)},en=function(e,t){return"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t)},tn=function(e,t){return"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t)},nn=function(e,t){return"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t)},rn=function(e,t){return"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t)},an=function(e,t){return"".concat(e,":placeholder-shown ").concat(t)},on=function(e){return ln((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},sn=function(e){return ln((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},ln=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},un={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:on($t),_peerHover:sn($t),_groupFocus:on(Zt),_peerFocus:sn(Zt),_groupFocusVisible:on(Qt),_peerFocusVisible:sn(Qt),_groupActive:on(en),_peerActive:sn(en),_groupDisabled:on(tn),_peerDisabled:sn(tn),_groupInvalid:on(nn),_peerInvalid:sn(nn),_groupChecked:on(rn),_peerChecked:sn(rn),_groupFocusWithin:on(Jt),_peerFocusWithin:sn(Jt),_peerPlaceholderShown:sn(an),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},cn=Object.keys(un);function dn(e,t){return jt(String(e).replace(/\./g,"-"),void 0,t)}function fn(e,t){for(var n={},r={},a=function(){var a=Se(i[o],2),s=a[0],l=a[1],u=l.isSemantic,c=l.value,d=dn(s,null==t?void 0:t.cssVarPrefix),f=d.variable,p=d.reference;if(!u){if(s.startsWith("space")){var m=Me(s.split(".")),g=m[0],v=m.slice(1),h="".concat(g,".-").concat(v.join(".")),y=Nt.negate(c),b=Nt.negate(p);r[h]={value:y,var:f,varRef:b}}return n[f]=c,r[s]={value:c,var:f,varRef:p},1}var x=De(c)?c:{default:c};n=je(n,Object.entries(x).reduce((function(n,r){var a,o,i=Se(r,2),l=i[0],u=i[1];if(!u)return n;var c=function(n){var r=[String(s).split(".")[0],n].join(".");return e[r]?dn(r,null==t?void 0:t.cssVarPrefix).reference:n}("".concat(u));return"default"===l?(n[f]=c,n):(n[null!=(o=null==(a=un)?void 0:a[l])?o:l]=Pe({},f,c),n)}),{})),r[s]={value:p,var:f,varRef:p}},o=0,i=Object.entries(e);o<i.length;o++)a();return{cssVars:n,cssMap:r}}function pn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.stop,a=n.getKey;return function e(n){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(function(e){return"object"===typeof e&&null!=e&&!Array.isArray(e)}(n)||Array.isArray(n)){for(var s={},l=0,u=Object.entries(n);l<u.length;l++){var c=Se(u[l],2),d=c[0],f=c[1],p=null!=(o=null==a?void 0:a(d))?o:d,m=[].concat(Re(i),[p]);if(null==r?void 0:r(n,m))return t(n,i);s[p]=e(f,m)}return s}return t(n,i)}(e)}var mn=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function gn(e){return function(e,t){var n,r={},a=ke(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;o in e&&(r[o]=e[o])}}catch(i){a.e(i)}finally{a.f()}return r}(e,mn)}var vn=function(e){return cn.includes(e)||"default"===e};function hn(e){var t,n=function(e){return e.__cssMap,e.__cssVars,e.__breakpoints,Ee(e,Ge)}(e),r=gn(n),a=function(e){return e.semanticTokens}(n),o=function(e){var t=e.tokens,n=e.semanticTokens,r={};return pn(t,(function(e,t){null!=e&&(r[t.join(".")]={isSemantic:!1,value:e})})),pn(n,(function(e,t){null!=e&&(r[t.join(".")]={isSemantic:!0,value:e})}),{stop:function(e){return Object.keys(e).every(vn)}}),r}({tokens:r,semanticTokens:a}),i=fn(o,{cssVarPrefix:null==(t=n.config)?void 0:t.cssVarPrefix}),s=i.cssMap,l=i.cssVars;return Object.assign(n,{__cssVars:Ae(Ae({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"}),l),__cssMap:s,__breakpoints:Yt(n.breakpoints)}),n}var yn=je({},st,lt,ut,ft,gt,dt,St,mt,pt,wt,Ct,ct,Tt,It,Et,Pt,Ot,vt,At),bn=Object.assign({},Tt,gt,ft,pt,Ct),xn=Object.keys(bn),wn=[].concat(Re(Object.keys(yn)),cn),Cn=Ae(Ae({},yn),un),Sn=function(e){return e in Cn};var Tn=function(e,t){return e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t)},Pn=function(e,t){var n,r;if(null==t)return t;var a=function(t){var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},o=function(e){var t;return null!=(t=a(e))?t:e},i=function(e){for(var t=[],n="",r=!1,a=0;a<e.length;a++){var o=e[a];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(t.push(n),n="")}return(n=n.trim())&&t.push(n),t}(t),s=Se(i,2),l=s[0],u=s[1];return t=null!=(r=null!=(n=a(l))?n:o(u))?r:o(t)};function On(e){var t=e.configs,n=void 0===t?{}:t,r=e.pseudos,a=void 0===r?{}:r,o=e.theme;return function e(t){var r,i,s,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=Le(t,o),c=function(e){return function(t){if(!t.__breakpoints)return e;var n=t.__breakpoints,r=n.isResponsive,a=n.toArrayValue,o=n.media,i={};for(var s in e){var l=Le(e[s],t);if(null!=l)if(l=De(l)&&r(l)?a(l):l,Array.isArray(l))for(var u=l.slice(0,o.length).length,c=0;c<u;c+=1){var d=null==o?void 0:o[c];d?(i[d]=i[d]||{},null!=l[c]&&(i[d][s]=l[c])):i[s]=l[c]}else i[s]=l}return i}}(u)(o),d={};for(var f in c){var p=Le(c[f],o);f in a&&(f=a[f]),Tn(f,p)&&(p=Pn(o,p));var m=n[f];if(!0===m&&(m={property:f}),De(p))d[f]=null!=(r=d[f])?r:{},d[f]=je({},d[f],e(p,!0));else{var g=null!=(s=null==(i=null==m?void 0:m.transform)?void 0:i.call(m,p,o,u))?s:p;g=(null==m?void 0:m.processResult)?e(g,!0):g;var v=Le(null==m?void 0:m.property,o);if(!l&&(null==m?void 0:m.static)){var h=Le(m.static,o);d=je({},d,h)}if(v&&Array.isArray(v)){var y,b=ke(v);try{for(b.s();!(y=b.n()).done;){d[y.value]=g}}catch(x){b.e(x)}finally{b.f()}}else v?"&"===v&&De(g)?d=je({},d,g):d[v]=g:De(g)?d=je({},d,g):d[f]=g}}return d}}var An=function(e){return function(t){return On({theme:t,pseudos:un,configs:yn})(e)}};function En(e){return{definePartsStyle:function(e){return e},defineMultiStyleConfig:function(t){return Ae({parts:e},t)}}}function In(e){var t=e.__breakpoints;return function(e,n,r,a){var o,i;if(t){var s={},l=function(e,t){return Array.isArray(e)?e:De(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!l)return s;for(var u=l.length,c=1===u,d=!!e.parts,f=function(){var r=t.details[p],u=t.details[function(e,t){for(var n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}(l,p)],f=Xt(r.minW,null==u?void 0:u._minW),m=Le(null==(o=e[n])?void 0:o[l[p]],a);return m?d?(null==(i=e.parts)||i.forEach((function(e){je(s,Pe({},e,c?m[e]:Pe({},f,m[e])))})),0):d?void(s[f]=m):(c?je(s,m):s[f]=m,0):0},p=0;p<u;p++)f();return s}}}function Rn(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),a=ke(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(i){a.e(i)}finally{a.f()}return r}(e,["styleConfig","size","variant","colorScheme"])}var kn=new Set([].concat(Re(wn),["textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),Mn=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function _n(e){return Mn.has(e)||!kn.has(e)}var Dn=(0,a.createContext)({});function Ln(){var e=(0,a.useContext)(Dn);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}Dn.displayName="ColorModeContext";var Vn=function(e){var t=new WeakMap;return function(n,r,a,o){if("undefined"===typeof n)return e(n,r,a);t.has(n)||t.set(n,new Map);var i=t.get(n);if(i.has(r))return i.get(r);var s=e(n,r,a,o);return i.set(r,s),s}}((function(e,t,n,r){var a="string"===typeof t?t.split("."):[t];for(r=0;r<a.length&&e;r+=1)e=e[a[r]];return void 0===e?n:e}));function Nn(e,t){var n={};return Object.keys(e).forEach((function(r){var a=e[r];t(a,r,e)&&(n[r]=a)})),n}var Bn=function(e){return Nn(e,(function(e){return null!==e&&void 0!==e}))};function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e}function Un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}function jn(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Gn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zn=jn((function(e){return Gn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Wn=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Hn=Math.abs,Kn=String.fromCharCode,qn=Object.assign;function Xn(e){return e.trim()}function Yn(e,t,n){return e.replace(t,n)}function $n(e,t){return e.indexOf(t)}function Zn(e,t){return 0|e.charCodeAt(t)}function Qn(e,t,n){return e.slice(t,n)}function Jn(e){return e.length}function er(e){return e.length}function tr(e,t){return t.push(e),e}var nr=1,rr=1,ar=0,or=0,ir=0,sr="";function lr(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:nr,column:rr,length:i,return:""}}function ur(e,t){return qn(lr("",null,null,"",null,null,0),e,{length:-e.length},t)}function cr(){return ir=or>0?Zn(sr,--or):0,rr--,10===ir&&(rr=1,nr--),ir}function dr(){return ir=or<ar?Zn(sr,or++):0,rr++,10===ir&&(rr=1,nr++),ir}function fr(){return Zn(sr,or)}function pr(){return or}function mr(e,t){return Qn(sr,e,t)}function gr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vr(e){return nr=rr=1,ar=Jn(sr=e),or=0,[]}function hr(e){return sr="",e}function yr(e){return Xn(mr(or-1,wr(91===e?e+2:40===e?e+1:e)))}function br(e){for(;(ir=fr())&&ir<33;)dr();return gr(e)>2||gr(ir)>3?"":" "}function xr(e,t){for(;--t&&dr()&&!(ir<48||ir>102||ir>57&&ir<65||ir>70&&ir<97););return mr(e,pr()+(t<6&&32==fr()&&32==dr()))}function wr(e){for(;dr();)switch(ir){case e:return or;case 34:case 39:34!==e&&39!==e&&wr(ir);break;case 40:41===e&&wr(e);break;case 92:dr()}return or}function Cr(e,t){for(;dr()&&e+ir!==57&&(e+ir!==84||47!==fr()););return"/*"+mr(t,or-1)+"*"+Kn(47===e?e:dr())}function Sr(e){for(;!gr(fr());)dr();return mr(e,or)}var Tr="-ms-",Pr="-moz-",Or="-webkit-",Ar="comm",Er="rule",Ir="decl",Rr="@keyframes";function kr(e,t){for(var n="",r=er(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Mr(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ir:return e.return=e.return||e.value;case Ar:return"";case Rr:return e.return=e.value+"{"+kr(e.children,r)+"}";case Er:e.value=e.props.join(",")}return Jn(n=kr(e.children,r))?e.return=e.value+"{"+n+"}":""}function _r(e){return hr(Dr("",null,null,null,[""],e=vr(e),0,[0],e))}function Dr(e,t,n,r,a,o,i,s,l){for(var u=0,c=0,d=i,f=0,p=0,m=0,g=1,v=1,h=1,y=0,b="",x=a,w=o,C=r,S=b;v;)switch(m=y,y=dr()){case 40:if(108!=m&&58==Zn(S,d-1)){-1!=$n(S+=Yn(yr(y),"&","&\f"),"&\f")&&(h=-1);break}case 34:case 39:case 91:S+=yr(y);break;case 9:case 10:case 13:case 32:S+=br(m);break;case 92:S+=xr(pr()-1,7);continue;case 47:switch(fr()){case 42:case 47:tr(Vr(Cr(dr(),pr()),t,n),l);break;default:S+="/"}break;case 123*g:s[u++]=Jn(S)*h;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==h&&(S=Yn(S,/\f/g,"")),p>0&&Jn(S)-d&&tr(p>32?Nr(S+";",r,n,d-1):Nr(Yn(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(tr(C=Lr(S,t,n,u,c,a,s,b,x=[],w=[],d),o),123===y)if(0===c)Dr(S,t,C,C,x,o,d,s,w);else switch(99===f&&110===Zn(S,3)?100:f){case 100:case 108:case 109:case 115:Dr(e,C,C,r&&tr(Lr(e,C,C,0,0,a,s,b,a,x=[],d),w),a,w,d,s,r?x:w);break;default:Dr(S,C,C,C,[""],w,0,s,w)}}u=c=p=0,g=h=1,b=S="",d=i;break;case 58:d=1+Jn(S),p=m;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==cr())continue;switch(S+=Kn(y),y*g){case 38:h=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(Jn(S)-1)*h,h=1;break;case 64:45===fr()&&(S+=yr(dr())),f=fr(),c=d=Jn(b=S+=Sr(pr())),y++;break;case 45:45===m&&2==Jn(S)&&(g=0)}}return o}function Lr(e,t,n,r,a,o,i,s,l,u,c){for(var d=a-1,f=0===a?o:[""],p=er(f),m=0,g=0,v=0;m<r;++m)for(var h=0,y=Qn(e,d+1,d=Hn(g=i[m])),b=e;h<p;++h)(b=Xn(g>0?f[h]+" "+y:Yn(y,/&\f/g,f[h])))&&(l[v++]=b);return lr(e,t,n,0===a?Er:s,l,u,c)}function Vr(e,t,n){return lr(e,t,n,Ar,Kn(ir),Qn(e,2,-2),0)}function Nr(e,t,n,r){return lr(e,t,n,Ir,Qn(e,0,r),Qn(e,r+1,-1),r)}var Br=function(e,t,n){for(var r=0,a=0;r=a,a=fr(),38===r&&12===a&&(t[n]=1),!gr(a);)dr();return mr(e,or)},Fr=function(e,t){return hr(function(e,t){var n=-1,r=44;do{switch(gr(r)){case 0:38===r&&12===fr()&&(t[n]=1),e[n]+=Br(or-1,t,n);break;case 2:e[n]+=yr(r);break;case 4:if(44===r){e[++n]=58===fr()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Kn(r)}}while(r=dr());return e}(vr(e),t))},Ur=new WeakMap,jr=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ur.get(n))&&!r){Ur.set(e,!0);for(var a=[],o=Fr(t,a),i=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<i.length;u++,l++)e.props[l]=a[s]?o[s].replace(/&\f/g,i[u]):i[u]+" "+o[s]}}},Gr=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function zr(e,t){switch(function(e,t){return 45^Zn(e,0)?(((t<<2^Zn(e,0))<<2^Zn(e,1))<<2^Zn(e,2))<<2^Zn(e,3):0}(e,t)){case 5103:return Or+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Or+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Or+e+Pr+e+Tr+e+e;case 6828:case 4268:return Or+e+Tr+e+e;case 6165:return Or+e+Tr+"flex-"+e+e;case 5187:return Or+e+Yn(e,/(\w+).+(:[^]+)/,Or+"box-$1$2"+Tr+"flex-$1$2")+e;case 5443:return Or+e+Tr+"flex-item-"+Yn(e,/flex-|-self/,"")+e;case 4675:return Or+e+Tr+"flex-line-pack"+Yn(e,/align-content|flex-|-self/,"")+e;case 5548:return Or+e+Tr+Yn(e,"shrink","negative")+e;case 5292:return Or+e+Tr+Yn(e,"basis","preferred-size")+e;case 6060:return Or+"box-"+Yn(e,"-grow","")+Or+e+Tr+Yn(e,"grow","positive")+e;case 4554:return Or+Yn(e,/([^-])(transform)/g,"$1"+Or+"$2")+e;case 6187:return Yn(Yn(Yn(e,/(zoom-|grab)/,Or+"$1"),/(image-set)/,Or+"$1"),e,"")+e;case 5495:case 3959:return Yn(e,/(image-set\([^]*)/,Or+"$1$`$1");case 4968:return Yn(Yn(e,/(.+:)(flex-)?(.*)/,Or+"box-pack:$3"+Tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Or+e+e;case 4095:case 3583:case 4068:case 2532:return Yn(e,/(.+)-inline(.+)/,Or+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jn(e)-1-t>6)switch(Zn(e,t+1)){case 109:if(45!==Zn(e,t+4))break;case 102:return Yn(e,/(.+:)(.+)-([^]+)/,"$1"+Or+"$2-$3$1"+Pr+(108==Zn(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$n(e,"stretch")?zr(Yn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Zn(e,t+1))break;case 6444:switch(Zn(e,Jn(e)-3-(~$n(e,"!important")&&10))){case 107:return Yn(e,":",":"+Or)+e;case 101:return Yn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Or+(45===Zn(e,14)?"inline-":"")+"box$3$1"+Or+"$2$3$1"+Tr+"$2box$3")+e}break;case 5936:switch(Zn(e,t+11)){case 114:return Or+e+Tr+Yn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Or+e+Tr+Yn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Or+e+Tr+Yn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Or+e+Tr+e+e}return e}var Wr=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ir:e.return=zr(e.value,e.length);break;case Rr:return kr([ur(e,{value:Yn(e.value,"@","@"+Or)})],r);case Er:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kr([ur(e,{props:[Yn(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return kr([ur(e,{props:[Yn(t,/:(plac\w+)/,":"+Or+"input-$1")]}),ur(e,{props:[Yn(t,/:(plac\w+)/,":-moz-$1")]}),ur(e,{props:[Yn(t,/:(plac\w+)/,Tr+"input-$1")]})],r)}return""}))}}],Hr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Wr;var a,o,i={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)}));var l,u,c=[Mr,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=er(e);return function(n,r,a,o){for(var i="",s=0;s<t;s++)i+=e[s](n,r,a,o)||"";return i}}([jr,Gr].concat(r,c));o=function(e,t,n,r){l=n,function(e){kr(_r(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Wn({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return f.sheet.hydrate(s),f},Kr=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var qr={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xr=/[A-Z]|^ms/g,Yr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$r=function(e){return 45===e.charCodeAt(1)},Zr=function(e){return null!=e&&"boolean"!==typeof e},Qr=jn((function(e){return $r(e)?e:e.replace(Xr,"-$&").toLowerCase()})),Jr=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Yr,(function(e,t,n){return ta={name:t,styles:n,next:ta},t}))}return 1===qr[e]||$r(e)||"number"!==typeof t||0===t?t:t+"px"};function ea(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ta={name:n.name,styles:n.styles,next:ta},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ta={name:r.name,styles:r.styles,next:ta},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=ea(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!==typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":Zr(i)&&(r+=Qr(o)+":"+Jr(o,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=ea(e,t,i);switch(o){case"animation":case"animationName":r+=Qr(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<i.length;l++)Zr(i[l])&&(r+=Qr(o)+":"+Jr(o,i[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=ta,o=n(e);return ta=a,ea(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var ta,na=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ra=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";ta=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=ea(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=ea(n,t,e[i]),r&&(a+=o[i]);na.lastIndex=0;for(var s,l="";null!==(s=na.exec(a));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:u,styles:a,next:ta}},aa=!!o.useInsertionEffect&&o.useInsertionEffect,oa=aa||function(e){return e()},ia=aa||a.useLayoutEffect,sa=a.createContext("undefined"!==typeof HTMLElement?Hr({key:"css"}):null);sa.Provider;var la=function(e){return(0,a.forwardRef)((function(t,n){var r=(0,a.useContext)(sa);return e(t,r,n)}))};var ua=a.createContext({});var ca=Kr((function(e){return Kr((function(t){return function(e,t){return"function"===typeof t?t(e):u({},e,t)}(e,t)}))})),da=function(e){var t=a.useContext(ua);return e.theme!==t&&(t=ca(t)(e.theme)),a.createElement(ua.Provider,{value:t},e.children)};var fa=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},pa=function(e,t,n){fa(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}},ma=zn,ga=function(e){return"theme"!==e},va=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ma:ga},ha=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},ya=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return fa(t,n,r),oa((function(){return pa(t,n,r)})),null},ba=function e(t,n){var r,o,i=t.__emotion_real===t,s=i&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=ha(t,n,i),c=l||va(s),d=!c("as");return function(){var f=arguments,p=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)p.push.apply(p,f);else{0,p.push(f[0][0]);for(var m=f.length,g=1;g<m;g++)p.push(f[g],f[0][g])}var v=la((function(e,t,n){var r=d&&e.as||s,i="",u=[],f=e;if(null==e.theme){for(var m in f={},e)f[m]=e[m];f.theme=a.useContext(ua)}"string"===typeof e.className?i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var g=ra(p.concat(u),t.registered,f);i+=t.key+"-"+g.name,void 0!==o&&(i+=" "+o);var v=d&&void 0===l?va(r):c,h={};for(var y in e)d&&"as"===y||v(y)&&(h[y]=e[y]);return h.className=i,h.ref=n,a.createElement(a.Fragment,null,a.createElement(ya,{cache:t,serialized:g,isStringTag:"string"===typeof r}),a.createElement(r,h))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=p,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(t,r){return e(t,u({},n,r,{shouldForwardProp:ha(v,r,!0)})).apply(void 0,p)},v}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){ba[e]=ba(e)}));var xa,wa=["theme","css","__css","sx"],Ca=["baseStyle"],Sa=null!=(xa=ba.default)?xa:ba,Ta=function(e){var t=e.baseStyle;return function(e){e.theme;var n=e.css,r=e.__css,a=e.sx,o=Nn(Ee(e,wa),(function(e,t){return Sn(t)})),i=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Ae({},e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var o=0,i=r;o<i.length;o++){var s=i[o];if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(l in t&&delete t[l],t[l]=s[l])}return t}({},r,Fn(t,e),Bn(o),a),s=An(i)(e.theme);return n?[s,n]:s}};function Pa(e,t){var n=null!=t?t:{},r=n.baseStyle,o=Ee(n,Ca);o.shouldForwardProp||(o.shouldForwardProp=_n);var i=Ta({baseStyle:r}),s=Sa(e,o)(i);return a.forwardRef((function(e,t){var n=Ln(),r=n.colorMode,o=n.forced;return a.createElement(s,Ae({ref:t,"data-theme":o?r:void 0},e))}))}var Oa=function(){var e=new Map;return new Proxy(Pa,{apply:function(e,t,n){return Pa.apply(void 0,Re(n))},get:function(t,n){return e.has(n)||e.set(n,Pa(n)),e.get(n)}})}();function Aa(e){return(0,a.forwardRef)(e)}var Ea=n(184),Ia=["size","centerContent"],Ra=["size"],ka=Oa("div");ka.displayName="Box";var Ma=Aa((function(e,t){var n=e.size,r=e.centerContent,a=void 0===r||r,o=Ee(e,Ia),i=a?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Ea.jsx)(ka,Ae({ref:t,boxSize:n,__css:Ae(Ae({},i),{},{flexShrink:0,flexGrow:0})},o))}));Ma.displayName="Square";var _a=Aa((function(e,t){var n=e.size,r=Ee(e,Ra);return(0,Ea.jsx)(Ma,Ae({size:n,ref:t,borderRadius:"9999px"},r))}));_a.displayName="Circle";var Da=function(e){return(0,Ea.jsx)(Oa.div,Ae(Ae({className:"chakra-stack__item"},e),{},{__css:Ae({display:"inline-block",flex:"0 0 auto",minWidth:0},e.__css)}))};Da.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);var La=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],Va=Aa((function(e,t){var n=e.isInline,r=e.direction,o=e.align,i=e.justify,s=e.spacing,l=void 0===s?"0.5rem":s,u=e.wrap,c=e.children,d=e.divider,f=e.className,p=e.shouldWrapChildren,m=Ee(e,La),g=n?"row":null!=r?r:"column",v=(0,a.useMemo)((function(){return function(e){var t,n,r=e.spacing,a=e.direction,o={column:{my:r,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:r,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:r,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:r,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(t=a,n=function(e){return o[e]},Array.isArray(t)?t.map((function(e){return null===e?null:n(e)})):De(t)?Object.keys(t).reduce((function(e,r){return e[r]=n(t[r]),e}),{}):null!=t?n(t):null)}}({spacing:l,direction:g})}),[l,g]),h=!!d,y=!p&&!h,b=(0,a.useMemo)((function(){var e=function(e){return a.Children.toArray(e).filter((function(e){return(0,a.isValidElement)(e)}))}(c);return y?e:e.map((function(t,n){var r="undefined"!==typeof t.key?t.key:n,o=n+1===e.length,i=p?(0,Ea.jsx)(Da,{children:t},r):t;if(!h)return i;var s=(0,a.cloneElement)(d,{__css:v}),l=o?null:s;return(0,Ea.jsxs)(a.Fragment,{children:[i,l]},r)}))}),[d,v,h,y,p,c]),x=_e("chakra-stack",f);return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,display:"flex",alignItems:o,justifyContent:i,flexDirection:g,flexWrap:u,gap:h?void 0:l,className:x},m),{},{children:b}))}));Va.displayName="Stack";var Na=Aa((function(e,t){return(0,Ea.jsx)(Va,Ae(Ae({align:"center"},e),{},{direction:"row",ref:t}))}));function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.strict,r=void 0===n||n,o=e.hookName,i=void 0===o?"useContext":o,s=e.providerName,l=void 0===s?"Provider":s,u=e.errorMessage,c=e.defaultValue,d=(0,a.createContext)(c);return d.displayName=t,[d.Provider,function e(){var t,n,o=(0,a.useContext)(d);if(!o&&r){var s=new Error(null!=u?u:(n=l,"".concat(i," returned `undefined`. Seems you forgot to wrap component within ").concat(n)));throw s.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,s,e),s}return o},d]}function Fa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function Ua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useMemo)((function(){return Fa.apply(void 0,t)}),t)}function ja(){var e=(0,a.useContext)(ua);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}Na.displayName="HStack";var Ga=n(77),za=["styleConfig"];function Wa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.styleConfig,o=Ee(n,za),i=function(){var e=Ln(),t=ja();return Ae(Ae({},e),{},{theme:t})}(),s=i.theme,l=i.colorMode,u=e?Vn(s,"components.".concat(e)):void 0,c=r||u,d=je({theme:s,colorMode:l},null!=(t=null==c?void 0:c.defaultProps)?t:{},Bn(function(e,t){var n={};return Object.keys(e).forEach((function(r){t.includes(r)||(n[r]=e[r])})),n}(o,["children"]))),f=(0,a.useRef)({});if(c){var p=function(e){return function(t){var n,r=t.variant,a=t.size,o=In(t.theme);return je({},Le(null!=(n=e.baseStyle)?n:{},t),o(e,"sizes",a,t),o(e,"variants",r,t))}}(c),m=p(d);Ga(f.current,m)||(f.current=m)}return f.current}function Ha(e){return Wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Ka(e){return Wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var qa=["id","isRequired","isInvalid","isDisabled","isReadOnly"],Xa=["getRootProps","htmlProps"],Ya=Se(Ba({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),2),$a=Ya[0],Za=Ya[1],Qa=Se(Ba({strict:!1,name:"FormControlContext"}),2),Ja=Qa[0],eo=Qa[1];var to=Aa((function(e,t){var n=Ka("Form",e),r=function(e){var t=e.id,n=e.isRequired,r=e.isInvalid,o=e.isDisabled,i=e.isReadOnly,s=Ee(e,qa),l=(0,a.useId)(),u=t||"field-".concat(l),c="".concat(u,"-label"),d="".concat(u,"-feedback"),f="".concat(u,"-helptext"),p=Se((0,a.useState)(!1),2),m=p[0],g=p[1],v=Se((0,a.useState)(!1),2),h=v[0],y=v[1],b=Se((0,a.useState)(!1),2),x=b[0],w=b[1],C=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({id:f},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Fa(e,(function(e){e&&y(!0)}))})}),[f]),S=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:t,"data-focus":Ne(x),"data-disabled":Ne(o),"data-invalid":Ne(r),"data-readonly":Ne(i),id:void 0!==e.id?e.id:c,htmlFor:void 0!==e.htmlFor?e.htmlFor:u})}),[u,o,x,r,i,c]),T=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({id:d},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Fa(e,(function(e){e&&g(!0)})),"aria-live":"polite"})}),[d]),P=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),s),{},{ref:e,role:"group"})}),[s]),O=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!o,isFocused:!!x,onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},hasFeedbackText:m,setHasFeedbackText:g,hasHelpText:h,setHasHelpText:y,id:u,labelId:c,feedbackId:d,helpTextId:f,htmlProps:s,getHelpTextProps:C,getErrorMessageProps:T,getRootProps:P,getLabelProps:S,getRequiredIndicatorProps:O}}(Rn(e)),o=r.getRootProps,i=(r.htmlProps,Ee(r,Xa)),s=_e("chakra-form-control",e.className);return(0,Ea.jsx)(Ja,{value:i,children:(0,Ea.jsx)($a,{value:n,children:(0,Ea.jsx)(Oa.div,Ae(Ae({},o({},t)),{},{className:s,__css:n.container}))})})}));to.displayName="FormControl";var no=Aa((function(e,t){var n=eo(),r=Za(),a=_e("chakra-form__helper-text",e.className);return(0,Ea.jsx)(Oa.div,Ae(Ae({},null==n?void 0:n.getHelpTextProps(e,t)),{},{__css:r.helperText,className:a}))}));no.displayName="FormHelperText";var ro=["isDisabled","isInvalid","isReadOnly","isRequired"],ao=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function oo(e){var t=io(e),n=t.isDisabled,r=t.isInvalid,a=t.isReadOnly,o=t.isRequired;return Ae(Ae({},Ee(t,ro)),{},{disabled:n,readOnly:a,required:o,"aria-invalid":Be(r),"aria-required":Be(o),"aria-readonly":Be(a)})}function io(e){var t,n,r,a=eo(),o=e.id,i=e.disabled,s=e.readOnly,l=e.required,u=e.isRequired,c=e.isInvalid,d=e.isReadOnly,f=e.isDisabled,p=e.onFocus,m=e.onBlur,g=Ee(e,ao),v=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==a?void 0:a.hasFeedbackText)&&(null==a?void 0:a.isInvalid)&&v.push(a.feedbackId),(null==a?void 0:a.hasHelpText)&&v.push(a.helpTextId),Ae(Ae({},g),{},{"aria-describedby":v.join(" ")||void 0,id:null!=o?o:null==a?void 0:a.id,isDisabled:null!=(t=null!=i?i:f)?t:null==a?void 0:a.isDisabled,isReadOnly:null!=(n=null!=s?s:d)?n:null==a?void 0:a.isReadOnly,isRequired:null!=(r=null!=l?l:u)?r:null==a?void 0:a.isRequired,isInvalid:null!=c?c:null==a?void 0:a.isInvalid,onFocus:Fe(null==a?void 0:a.onFocus,p),onBlur:Fe(null==a?void 0:a.onBlur,m)})}var so=["htmlSize"],lo=Aa((function(e,t){var n=e.htmlSize,r=Ee(e,so),a=Ka("Input",r),o=oo(Rn(r)),i=_e("chakra-input",e.className);return(0,Ea.jsx)(Oa.input,Ae(Ae({size:n},o),{},{__css:a.field,ref:t,className:i}))}));lo.displayName="Input",lo.id="Input";var uo=["children","placeholder","className"],co=Aa((function(e,t){var n=e.children,r=e.placeholder,a=e.className,o=Ee(e,uo);return(0,Ea.jsxs)(Oa.select,Ae(Ae({},o),{},{ref:t,className:_e("chakra-select",a),children:[r&&(0,Ea.jsx)("option",{value:"",children:r}),n]}))}));co.displayName="SelectField";var fo=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],po=["children"];var mo=Aa((function(e,t){var n,r=Ka("Select",e),a=Rn(e),o=a.rootProps,i=a.placeholder,s=a.icon,l=a.color,u=a.height,c=a.h,d=a.minH,f=a.minHeight,p=a.iconColor,m=a.iconSize,g=function(e,t){for(var n={},r={},a=0,o=Object.entries(e);a<o.length;a++){var i=Se(o[a],2),s=i[0],l=i[1];t.includes(s)?n[s]=l:r[s]=l}return[n,r]}(Ee(a,fo),xn),v=Se(g,2),h=v[0],y=oo(v[1]),b={width:"100%",height:"fit-content",position:"relative",color:l},x=Ae(Ae({paddingEnd:"2rem"},r.field),{},{_focus:Ae({zIndex:"unset"},null==(n=r.field)?void 0:n._focus)});return(0,Ea.jsxs)(Oa.div,Ae(Ae(Ae({className:"chakra-select__wrapper",__css:b},h),o),{},{children:[(0,Ea.jsx)(co,Ae(Ae({ref:t,height:null!=c?c:u,minH:null!=d?d:f,placeholder:i},y),{},{__css:x,children:e.children})),(0,Ea.jsx)(ho,Ae(Ae(Ae({"data-disabled":Ne(y.disabled)},(p||l)&&{color:p||l}),{},{__css:r.icon},m&&{fontSize:m}),{},{children:s}))]}))}));mo.displayName="Select";var go=function(e){return(0,Ea.jsx)("svg",Ae(Ae({viewBox:"0 0 24 24"},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}))},vo=Oa("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),ho=function(e){var t=e.children,n=void 0===t?(0,Ea.jsx)(go,{}):t,r=Ee(e,po),o=(0,a.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,Ea.jsx)(vo,Ae(Ae({},r),{},{className:"chakra-select__icon-wrapper",children:(0,a.isValidElement)(n)?o:null}))};ho.displayName="SelectIcon";var yo=["as","viewBox","color","focusable","children","className","__css"],bo={path:(0,Ea.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Ea.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Ea.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Ea.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},xo=Aa((function(e,t){var n=e.as,r=e.viewBox,a=e.color,o=void 0===a?"currentColor":a,i=e.focusable,s=void 0!==i&&i,l=e.children,u=e.className,c=e.__css,d=Ee(e,yo),f=_e("chakra-icon",u),p=Ha("Icon",e),m={ref:t,focusable:s,className:f,__css:Ae(Ae({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:o},c),p)},g=null!=r?r:bo.viewBox;if(n&&"string"!==typeof n)return(0,Ea.jsx)(Oa.svg,Ae(Ae({as:n},m),d));var v=null!=l?l:bo.path;return(0,Ea.jsx)(Oa.svg,Ae(Ae(Ae({verticalAlign:"middle",viewBox:g},m),d),{},{children:v}))}));xo.displayName="Icon";var wo=["isDisabled","children"],Co=Se(Ba({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),2),So=Co[0],To=Co[1],Po=Aa((function(e,t){var n=Ka("Tag",e),r=Rn(e),a=Ae({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},n.container);return(0,Ea.jsx)(So,{value:n,children:(0,Ea.jsx)(Oa.span,Ae(Ae({ref:t},r),{},{__css:a}))})}));Po.displayName="Tag";var Oo=Aa((function(e,t){var n=To();return(0,Ea.jsx)(Oa.span,Ae(Ae({ref:t,noOfLines:1},e),{},{__css:n.label}))}));Oo.displayName="TagLabel",Aa((function(e,t){return(0,Ea.jsx)(xo,Ae({ref:t,verticalAlign:"top",marginEnd:"0.5rem"},e))})).displayName="TagLeftIcon",Aa((function(e,t){return(0,Ea.jsx)(xo,Ae({ref:t,verticalAlign:"top",marginStart:"0.5rem"},e))})).displayName="TagRightIcon";var Ao=function(e){return(0,Ea.jsx)(xo,Ae(Ae({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})}))};Ao.displayName="TagCloseIcon";var Eo=Aa((function(e,t){var n=e.isDisabled,r=e.children,a=Ee(e,wo),o=Ae({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},To().closeButton);return(0,Ea.jsx)(Oa.button,Ae(Ae({ref:t,"aria-label":"close"},a),{},{type:"button",disabled:n,__css:o,children:r||(0,Ea.jsx)(Ao,{})}))}));Eo.displayName="TagCloseButton";var Io=["axis"],Ro=Oa("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Ro.displayName="Center";var ko={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}},Mo=(Aa((function(e,t){var n=e.axis,r=void 0===n?"both":n,a=Ee(e,Io);return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,__css:ko[r]},a),{},{position:"absolute"}))})),["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"]),_o=["className","orientation","__css"],Do=Aa((function(e,t){var n=Ha("Divider",e),r=n.borderLeftWidth,a=n.borderBottomWidth,o=n.borderTopWidth,i=n.borderRightWidth,s=n.borderWidth,l=n.borderStyle,u=n.borderColor,c=Ee(n,Mo),d=Rn(e),f=d.className,p=d.orientation,m=void 0===p?"horizontal":p,g=d.__css,v=Ee(d,_o),h={vertical:{borderLeftWidth:r||i||s||"1px",height:"100%"},horizontal:{borderBottomWidth:a||o||s||"1px",width:"100%"}};return(0,Ea.jsx)(Oa.hr,Ae(Ae({ref:t,"aria-orientation":m},v),{},{__css:Ae(Ae(Ae({},c),{},{border:"0",borderColor:u,borderStyle:l},h[m]),g),className:_e("chakra-divider",f)}))}));Do.displayName="Divider";var Lo=Se(Ba({strict:!1,name:"ButtonGroupContext"}),2),Vo=(Lo[0],Lo[1]),No=["children","className"];function Bo(e){var t=e.children,n=e.className,r=Ee(e,No),o=(0,a.isValidElement)(t)?(0,a.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,i=_e("chakra-button__icon",n);return(0,Ea.jsx)(Oa.span,Ae(Ae({display:"inline-flex",alignSelf:"center",flexShrink:0},r),{},{className:i,children:o}))}Bo.displayName="ButtonIcon";var Fo=la((function(e,t){var n=e.styles,r=ra([n],void 0,a.useContext(ua)),o=a.useRef();return ia((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,i=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(a=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),o.current=[n,a],function(){n.flush()}}),[t]),ia((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&pa(t,r.next,!0),n.tags.length){var a=n.tags[n.tags.length-1].nextElementSibling;n.before=a,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function Uo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ra(t)}var jo=function(){var e=Uo.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Go=["label","thickness","speed","emptyColor","className"],zo=jo({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Wo=Aa((function(e,t){var n=Ha("Spinner",e),r=Rn(e),a=r.label,o=void 0===a?"Loading...":a,i=r.thickness,s=void 0===i?"2px":i,l=r.speed,u=void 0===l?"0.45s":l,c=r.emptyColor,d=void 0===c?"transparent":c,f=r.className,p=Ee(r,Go),m=_e("chakra-spinner",f),g=Ae({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:d,borderLeftColor:d,animation:"".concat(zo," ").concat(u," linear infinite")},n);return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,__css:g,className:m},p),{},{children:o&&(0,Ea.jsx)(Oa.span,{srOnly:!0,children:o})}))}));Wo.displayName="Spinner";var Ho=["label","placement","spacing","children","className","__css"];function Ko(e){var t=e.label,n=e.placement,r=e.spacing,o=void 0===r?"0.5rem":r,i=e.children,s=void 0===i?(0,Ea.jsx)(Wo,{color:"currentColor",width:"1em",height:"1em"}):i,l=e.className,u=e.__css,c=Ee(e,Ho),d=_e("chakra-button__spinner",l),f="start"===n?"marginEnd":"marginStart",p=(0,a.useMemo)((function(){var e;return Ae((Pe(e={display:"flex",alignItems:"center",position:t?"relative":"absolute"},f,t?o:0),Pe(e,"fontSize","1em"),Pe(e,"lineHeight","normal"),e),u)}),[u,t,f,o]);return(0,Ea.jsx)(Oa.div,Ae(Ae({className:d},c),{},{__css:p,children:s}))}Ko.displayName="ButtonSpinner";var qo=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],Xo=Aa((function(e,t){var n=Vo(),r=Ha("Button",Ae(Ae({},n),e)),o=Rn(e),i=o.isDisabled,s=void 0===i?null==n?void 0:n.isDisabled:i,l=o.isLoading,u=o.isActive,c=o.children,d=o.leftIcon,f=o.rightIcon,p=o.loadingText,m=o.iconSpacing,g=void 0===m?"0.5rem":m,v=o.type,h=o.spinner,y=o.spinnerPlacement,b=void 0===y?"start":y,x=o.className,w=o.as,C=Ee(o,qo),S=(0,a.useMemo)((function(){var e=Ae(Ae({},null==r?void 0:r._focus),{},{zIndex:1});return Ae(Ae({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},r),!!n&&{_focus:e})}),[r,n]),T=function(e){var t=Se((0,a.useState)(!e),2),n=t[0],r=t[1],o=(0,a.useCallback)((function(e){e&&r("BUTTON"===e.tagName)}),[]);return{ref:o,type:n?"button":void 0}}(w),P=T.ref,O=T.type,A={rightIcon:f,leftIcon:d,iconSpacing:g,children:c};return(0,Ea.jsxs)(Oa.button,Ae(Ae({ref:Ua(t,P),as:w,type:null!=v?v:O,"data-active":Ne(u),"data-loading":Ne(l),__css:S,className:_e("chakra-button",x)},C),{},{disabled:s||l,children:[l&&"start"===b&&(0,Ea.jsx)(Ko,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:g,children:h}),l?p||(0,Ea.jsx)(Oa.span,{opacity:0,children:(0,Ea.jsx)(Yo,Ae({},A))}):(0,Ea.jsx)(Yo,Ae({},A)),l&&"end"===b&&(0,Ea.jsx)(Ko,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:g,children:h})]}))}));function Yo(e){var t=e.leftIcon,n=e.rightIcon,r=e.children,a=e.iconSpacing;return(0,Ea.jsxs)(Ea.Fragment,{children:[t&&(0,Ea.jsx)(Bo,{marginEnd:a,children:t}),r,n&&(0,Ea.jsx)(Bo,{marginStart:a,children:n})]})}Xo.displayName="Button";var $o=["icon","children","isRound","aria-label"],Zo=Aa((function(e,t){var n=e.icon,r=e.children,o=e.isRound,i=e["aria-label"],s=Ee(e,$o),l=n||r,u=(0,a.isValidElement)(l)?(0,a.cloneElement)(l,{"aria-hidden":!0,focusable:!1}):null;return(0,Ea.jsx)(Xo,Ae(Ae({padding:"0",borderRadius:o?"full":void 0,ref:t,"aria-label":i},s),{},{children:u}))}));Zo.displayName="IconButton";var Qo=["overflow","overflowX","className"],Jo=Aa((function(e,t){var n,r=e.overflow,a=e.overflowX,o=e.className,i=Ee(e,Qo);return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,className:_e("chakra-table__container",o)},i),{},{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=r?r:a)?n:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),ei=["className","layout"],ti=Se(Ba({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),2),ni=ti[0],ri=ti[1],ai=Aa((function(e,t){var n=Ka("Table",e),r=Rn(e),a=r.className,o=r.layout,i=Ee(r,ei);return(0,Ea.jsx)(ni,{value:n,children:(0,Ea.jsx)(Oa.table,Ae({ref:t,__css:Ae({tableLayout:o},n.table),className:_e("chakra-table",a)},i))})}));ai.displayName="Table";var oi=["placement"],ii=Aa((function(e,t){var n=e.placement,r=void 0===n?"bottom":n,a=Ee(e,oi),o=ri();return(0,Ea.jsx)(Oa.caption,Ae(Ae({},a),{},{ref:t,__css:Ae(Ae({},o.caption),{},{captionSide:r})}))}));ii.displayName="TableCaption";var si=Aa((function(e,t){var n=ri();return(0,Ea.jsx)(Oa.thead,Ae(Ae({},e),{},{ref:t,__css:n.thead}))})),li=Aa((function(e,t){var n=ri();return(0,Ea.jsx)(Oa.tr,Ae(Ae({},e),{},{ref:t,__css:n.tr}))})),ui=["isNumeric"],ci=Aa((function(e,t){var n=e.isNumeric,r=Ee(e,ui),a=ri();return(0,Ea.jsx)(Oa.th,Ae(Ae({},r),{},{ref:t,__css:a.th,"data-is-numeric":n}))})),di=Aa((function(e,t){var n=ri();return(0,Ea.jsx)(Oa.tbody,Ae(Ae({},e),{},{ref:t,__css:n.tbody}))})),fi=Se(Ba({name:"CheckboxGroupContext",strict:!1}),2),pi=fi[0],mi=fi[1];function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.useRef)(e);return(0,a.useEffect)((function(){n.current=e})),(0,a.useCallback)((function(){for(var e,t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return null==(t=n.current)?void 0:(e=t).call.apply(e,[n].concat(a))}),t)}function vi(e){return e&&De(e)&&De(e.target)}function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultValue,n=e.value,r=e.onChange,o=e.isDisabled,i=e.isNative,s=function(e){var t=e.value,n=e.defaultValue,r=e.onChange,o=e.shouldUpdate,i=void 0===o?function(e,t){return e!==t}:o,s=gi(r),l=gi(i),u=Se((0,a.useState)(n),2),c=u[0],d=u[1],f=void 0!==t,p=f?t:c,m=gi((function(e){var t="function"===typeof e?e(p):e;l(p,t)&&(f||d(t),s(t))}),[f,s,p,l]);return[p,m]}({value:n,defaultValue:t||[],onChange:gi(r)}),l=Se(s,2),u=l[0],c=l[1],d=(0,a.useCallback)((function(e){if(u){var t=vi(e)?e.target.checked:!u.includes(e),n=vi(e)?e.target.value:e,r=t?[].concat(Re(u),[n]):u.filter((function(e){return String(e)!==String(n)}));c(r)}}),[c,u]),f=(0,a.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i?"checked":"isChecked";return Ae(Ae({},t),{},(Pe(e={},n,u.some((function(e){return String(t.value)===String(e)}))),Pe(e,"onChange",d),e))}),[d,i,u]);return{value:u,isDisabled:o,onChange:d,setValue:c,getCheckboxProps:f}}function yi(e){var t=e.colorScheme,n=e.size,r=e.variant,o=e.children,i=e.isDisabled,s=hi(e),l=s.value,u=s.onChange,c=(0,a.useMemo)((function(){return{size:n,onChange:u,colorScheme:t,value:l,variant:r,isDisabled:i}}),[n,u,t,l,r,i]);return(0,Ea.jsx)(pi,{value:c,children:o})}yi.displayName="CheckboxGroup";var bi=["isNumeric"],xi=Aa((function(e,t){var n=e.isNumeric,r=Ee(e,bi),a=ri();return(0,Ea.jsx)(Oa.td,Ae(Ae({},r),{},{ref:t,__css:a.td,"data-is-numeric":n}))}));var wi=["isIndeterminate","isChecked"];function Ci(e){return(0,Ea.jsx)(Oa.svg,Ae(Ae({width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),{},{children:(0,Ea.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})}))}function Si(e){return(0,Ea.jsx)(Oa.svg,Ae(Ae({width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4}},e),{},{children:(0,Ea.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})}))}function Ti(e){var t=e.isIndeterminate,n=e.isChecked,r=Ee(e,wi),a=t?Si:Ci;return n||t?(0,Ea.jsx)(Oa.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,Ea.jsx)(a,Ae({},r))}):null}var Pi=Boolean(null==globalThis?void 0:globalThis.document)?a.useLayoutEffect:a.useEffect;function Oi(e,t){var n=(0,a.useRef)(!1),r=(0,a.useRef)(!1);(0,a.useEffect)((function(){if(n.current&&r.current)return e();r.current=!0}),t),(0,a.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[])}var Ai={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};var Ei=function(){return"undefined"!==typeof document};var Ii=!1,Ri=null,ki=!1,Mi=!1,_i=new Set;function Di(e,t){_i.forEach((function(n){return n(e,t)}))}var Li="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function Vi(e){ki=!0,function(e){return!(e.metaKey||!Li&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Ri="keyboard",Di("keyboard",e))}function Ni(e){if(Ri="pointer","mousedown"===e.type||"pointerdown"===e.type){ki=!0;var t=e.composedPath?e.composedPath()[0]:e.target,n=!1;try{n=t.matches(":focus-visible")}catch(r){}if(n)return;Di("pointer",e)}}function Bi(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||0===t.detail&&!t.pointerType)&&(ki=!0,Ri="virtual")}function Fi(e){e.target!==window&&e.target!==document&&(ki||Mi||(Ri="virtual",Di("virtual",e)),ki=!1,Mi=!1)}function Ui(){ki=!1,Mi=!0}function ji(){return"pointer"!==Ri}function Gi(){if(Ei()&&!Ii){var e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){ki=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n)},document.addEventListener("keydown",Vi,!0),document.addEventListener("keyup",Vi,!0),document.addEventListener("click",Bi,!0),window.addEventListener("focus",Fi,!0),window.addEventListener("blur",Ui,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",Ni,!0),document.addEventListener("pointermove",Ni,!0),document.addEventListener("pointerup",Ni,!0)):(document.addEventListener("mousedown",Ni,!0),document.addEventListener("mousemove",Ni,!0),document.addEventListener("mouseup",Ni,!0)),Ii=!0}}function zi(e){Gi(),e(ji());var t=function(){return e(ji())};return _i.add(t),function(){_i.delete(t)}}var Wi=["defaultChecked","isChecked","isFocusable","onChange","isIndeterminate","name","value","tabIndex","aria-label","aria-labelledby","aria-invalid"];function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=io(e),n=t.isDisabled,r=t.isReadOnly,o=t.isRequired,i=t.isInvalid,s=t.id,l=t.onBlur,u=t.onFocus,c=t["aria-describedby"],d=e.defaultChecked,f=e.isChecked,p=e.isFocusable,m=e.onChange,g=e.isIndeterminate,v=e.name,h=e.value,y=e.tabIndex,b=void 0===y?void 0:y,x=e["aria-label"],w=e["aria-labelledby"],C=e["aria-invalid"],S=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),a=ke(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(i){a.e(i)}finally{a.f()}return r}(Ee(e,Wi),["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),T=gi(m),P=gi(l),O=gi(u),A=Se((0,a.useState)(!1),2),E=A[0],I=A[1],R=Se((0,a.useState)(!1),2),k=R[0],M=R[1],_=Se((0,a.useState)(!1),2),D=_[0],L=_[1],V=Se((0,a.useState)(!1),2),N=V[0],B=V[1];(0,a.useEffect)((function(){return zi(I)}),[]);var F=(0,a.useRef)(null),U=Se((0,a.useState)(!0),2),j=U[0],G=U[1],z=Se((0,a.useState)(!!d),2),W=z[0],H=z[1],K=void 0!==f,q=K?f:W,X=(0,a.useCallback)((function(e){r||n?e.preventDefault():(K||H(q?e.target.checked:!!g||e.target.checked),null==T||T(e))}),[r,n,q,K,g,T]);Pi((function(){F.current&&(F.current.indeterminate=Boolean(g))}),[g]),Oi((function(){n&&M(!1)}),[n,M]),Pi((function(){var e=F.current;if(null==e?void 0:e.form){var t=function(){H(!!d)};return e.form.addEventListener("reset",t),function(){var n;return null==(n=e.form)?void 0:n.removeEventListener("reset",t)}}}),[]);var Y=n&&!p,$=(0,a.useCallback)((function(e){" "===e.key&&B(!0)}),[B]),Z=(0,a.useCallback)((function(e){" "===e.key&&B(!1)}),[B]);Pi((function(){F.current&&(F.current.checked!==q&&H(F.current.checked))}),[F.current]);var Q=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:t,"data-active":Ne(N),"data-hover":Ne(D),"data-checked":Ne(q),"data-focus":Ne(k),"data-focus-visible":Ne(k&&E),"data-indeterminate":Ne(g),"data-disabled":Ne(n),"data-invalid":Ne(i),"data-readonly":Ne(r),"aria-hidden":!0,onMouseDown:Fe(e.onMouseDown,(function(e){k&&e.preventDefault(),B(!0)})),onMouseUp:Fe(e.onMouseUp,(function(){return B(!1)})),onMouseEnter:Fe(e.onMouseEnter,(function(){return L(!0)})),onMouseLeave:Fe(e.onMouseLeave,(function(){return L(!1)}))})}),[N,q,n,k,E,D,g,i,r]),J=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:e,"data-active":Ne(N),"data-hover":Ne(D),"data-checked":Ne(q),"data-focus":Ne(k),"data-focus-visible":Ne(k&&E),"data-indeterminate":Ne(g),"data-disabled":Ne(n),"data-invalid":Ne(i),"data-readonly":Ne(r)})}),[N,q,n,k,E,D,g,i,r]),ee=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae(Ae({},S),e),{},{ref:Fa(t,(function(e){e&&G("LABEL"===e.tagName)})),onClick:Fe(e.onClick,(function(){var e;j||(null==(e=F.current)||e.click(),requestAnimationFrame((function(){var e;null==(e=F.current)||e.focus({preventScroll:!0})})))})),"data-disabled":Ne(n),"data-checked":Ne(q),"data-invalid":Ne(i)})}),[S,n,q,i,j]),te=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:Fa(F,t),type:"checkbox",name:v,value:h,id:s,tabIndex:b,onChange:Fe(e.onChange,X),onBlur:Fe(e.onBlur,P,(function(){return M(!1)})),onFocus:Fe(e.onFocus,O,(function(){return M(!0)})),onKeyDown:Fe(e.onKeyDown,$),onKeyUp:Fe(e.onKeyUp,Z),required:o,checked:q,disabled:Y,readOnly:r,"aria-label":x,"aria-labelledby":w,"aria-invalid":C?Boolean(C):i,"aria-describedby":c,"aria-disabled":n,style:Ai})}),[v,h,s,X,P,O,$,Z,o,q,Y,r,x,w,C,i,c,n,b]),ne=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:t,onMouseDown:Fe(e.onMouseDown,Ki),"data-disabled":Ne(n),"data-checked":Ne(q),"data-invalid":Ne(i)})}),[q,n,i]);return{state:{isInvalid:i,isFocused:k,isChecked:q,isActive:N,isHovered:D,isIndeterminate:g,isDisabled:n,isReadOnly:r,isRequired:o},getRootProps:ee,getCheckboxProps:Q,getIndicatorProps:J,getInputProps:te,getLabelProps:ne,htmlProps:S}}function Ki(e){e.preventDefault(),e.stopPropagation()}var qi=["spacing","className","children","iconColor","iconSize","icon","isChecked","isDisabled","onChange","inputProps"],Xi={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},Yi={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},$i=jo({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),Zi=jo({from:{opacity:0},to:{opacity:1}}),Qi=jo({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Ji=Aa((function(e,t){var n=mi(),r=Ka("Checkbox",Ae(Ae({},n),e)),o=Rn(e),i=o.spacing,s=void 0===i?"0.5rem":i,l=o.className,u=o.children,c=o.iconColor,d=o.iconSize,f=o.icon,p=void 0===f?(0,Ea.jsx)(Ti,{}):f,m=o.isChecked,g=o.isDisabled,v=void 0===g?null==n?void 0:n.isDisabled:g,h=o.onChange,y=o.inputProps,b=Ee(o,qi),x=m;(null==n?void 0:n.value)&&o.value&&(x=n.value.includes(o.value));var w=h;(null==n?void 0:n.onChange)&&o.value&&(w=Ue(n.onChange,h));var C=Hi(Ae(Ae({},b),{},{isDisabled:v,isChecked:x,onChange:w})),S=C.state,T=C.getInputProps,P=C.getCheckboxProps,O=C.getLabelProps,A=C.getRootProps,E=function(e){var t=Se((0,a.useState)(e),2),n=t[0],r=t[1],o=Se((0,a.useState)(!1),2),i=o[0],s=o[1];return e!==n&&(s(!0),r(e)),i}(S.isChecked),I=(0,a.useMemo)((function(){return Ae({animation:E?S.isIndeterminate?"".concat(Zi," 20ms linear, ").concat(Qi," 200ms linear"):"".concat($i," 200ms linear"):void 0,fontSize:d,color:c},r.icon)}),[c,d,E,S.isIndeterminate,r.icon]),R=(0,a.cloneElement)(p,{__css:I,isIndeterminate:S.isIndeterminate,isChecked:S.isChecked});return(0,Ea.jsxs)(Oa.label,Ae(Ae({__css:Ae(Ae({},Yi),r.container),className:_e("chakra-checkbox",l)},A()),{},{children:[(0,Ea.jsx)("input",Ae({className:"chakra-checkbox__input"},T(y,t))),(0,Ea.jsx)(Oa.span,Ae(Ae({__css:Ae(Ae({},Xi),r.control),className:"chakra-checkbox__control"},P()),{},{children:R})),u&&(0,Ea.jsx)(Oa.span,Ae(Ae({className:"chakra-checkbox__label"},O()),{},{__css:Ae({marginStart:s},r.label),children:u}))]}))}));function es(e,t){var n=(0,a.useId)();return(0,a.useMemo)((function(){return e||[t,n].filter(Boolean).join("-")}),[e,t,n])}function ts(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}Ji.displayName="Checkbox";var ns=ts()?a.useLayoutEffect:a.useEffect;function rs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.useRef)(e);return ns((function(){n.current=e})),(0,a.useCallback)((function(){for(var e,t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return null==(t=n.current)?void 0:(e=t).call.apply(e,[n].concat(a))}),t)}function as(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=e.onOpen,r=e.isOpen,o=e.id,i=rs(n),s=rs(t),l=Se((0,a.useState)(e.defaultIsOpen||!1),2),u=l[0],c=l[1],d=function(e,t){var n=void 0!==e;return[n,n&&"undefined"!==typeof e?e:t]}(r,u),f=Se(d,2),p=f[0],m=f[1],g=es(o,"disclosure"),v=(0,a.useCallback)((function(){p||c(!1),null==s||s()}),[p,s]),h=(0,a.useCallback)((function(){p||c(!0),null==i||i()}),[p,i]),y=(0,a.useCallback)((function(){(m?v:h)()}),[m,h,v]);return{isOpen:!!m,onOpen:h,onClose:v,onToggle:y,isControlled:p,getButtonProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ae(Ae({},e),{},{"aria-expanded":m,"aria-controls":g,onClick:Un(e.onClick,y)})},getDisclosureProps:function(){return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{hidden:!m,id:g})}}}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function ss(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ls=Object.defineProperty,us=function(e,t,n){return function(e,t,n){t in e?ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},cs=new(function(){function e(){os(this,e),us(this,"modals"),this.modals=new Map}return ss(e,[{key:"add",value:function(e){return this.modals.set(e,this.modals.size+1),this.modals.size}},{key:"remove",value:function(e){this.modals.delete(e)}},{key:"isTopModal",value:function(e){return!!e&&this.modals.get(e)===this.modals.size}}]),e}());function ds(e,t){var n=Se((0,a.useState)(0),2),r=n[0],o=n[1];return(0,a.useEffect)((function(){var n=e.current;if(n){if(t){var r=cs.add(n);o(r)}return function(){cs.remove(n),o(0)}}}),[t,e]),r}var fs=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},ps=new WeakMap,ms=new WeakMap,gs={},vs=0,hs=function e(t){return t&&(t.host||e(t.parentNode))},ys=function(e,t,n,r){var a=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=hs(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);gs[n]||(gs[n]=new WeakMap);var o=gs[n],i=[],s=new Set,l=new Set(a);a.forEach((function e(t){t&&!s.has(t)&&(s.add(t),e(t.parentNode))}));return function e(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(s.has(t))e(t);else{var a=t.getAttribute(r),l=null!==a&&"false"!==a,u=(ps.get(t)||0)+1,c=(o.get(t)||0)+1;ps.set(t,u),o.set(t,c),i.push(t),1===u&&l&&ms.set(t,!0),1===c&&t.setAttribute(n,"true"),l||t.setAttribute(r,"true")}}))}(t),s.clear(),vs++,function(){i.forEach((function(e){var t=ps.get(e)-1,a=o.get(e)-1;ps.set(e,t),o.set(e,a),t||(ms.has(e)||e.removeAttribute(r),ms.delete(e)),a||e.removeAttribute(n)})),--vs||(ps=new WeakMap,ps=new WeakMap,ms=new WeakMap,gs={})}},bs=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||fs(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),ys(r,a,n,"aria-hidden")):function(){return null}};function xs(e){var t=e.isOpen,n=e.onClose,r=e.id,o=e.closeOnOverlayClick,i=void 0===o||o,s=e.closeOnEsc,l=void 0===s||s,u=e.useInert,c=void 0===u||u,d=e.onOverlayClick,f=e.onEsc,p=(0,a.useRef)(null),m=(0,a.useRef)(null),g=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=(0,a.useId)(),i=e||o;return(0,a.useMemo)((function(){return n.map((function(e){return"".concat(e,"-").concat(i)}))}),[i,n])}(r,"chakra-modal","chakra-modal--header","chakra-modal--body"),v=Se(g,3),h=v[0],y=v[1],b=v[2];!function(e,t){var n=e.current;(0,a.useEffect)((function(){if(e.current&&t)return bs(e.current)}),[t,e,n])}(p,t&&c);var x=ds(p,t),w=(0,a.useRef)(null),C=(0,a.useCallback)((function(e){w.current=e.target}),[]),S=(0,a.useCallback)((function(e){"Escape"===e.key&&(e.stopPropagation(),l&&(null==n||n()),null==f||f())}),[l,n,f]),T=Se((0,a.useState)(!1),2),P=T[0],O=T[1],A=Se((0,a.useState)(!1),2),E=A[0],I=A[1],R=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({role:"dialog"},e),{},{ref:Fa(t,p),id:h,tabIndex:-1,"aria-modal":!0,"aria-labelledby":P?y:void 0,"aria-describedby":E?b:void 0,onClick:Fe(e.onClick,(function(e){return e.stopPropagation()}))})}),[b,E,h,y,P]),k=(0,a.useCallback)((function(e){e.stopPropagation(),w.current===e.target&&cs.isTopModal(p.current)&&(i&&(null==n||n()),null==d||d())}),[n,i,d]),M=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:Fa(t,m),onClick:Fe(e.onClick,k),onKeyDown:Fe(e.onKeyDown,S),onMouseDown:Fe(e.onMouseDown,C)})}),[S,C,k]);return{isOpen:t,onClose:n,headerId:y,bodyId:b,setBodyMounted:I,setHeaderMounted:O,dialogRef:p,overlayRef:m,getDialogProps:R,getDialogContainerProps:M,index:x}}var ws=Se(Ba({strict:!1,name:"PortalManagerContext"}),2),Cs=ws[0],Ss=ws[1];function Ts(e){var t=e.children,n=e.zIndex;return(0,Ea.jsx)(Cs,{value:{zIndex:n},children:t})}Ts.displayName="PortalManager";var Ps=n(4164),Os=["containerRef"],As=Se(Ba({strict:!1,name:"PortalContext"}),2),Es=As[0],Is=As[1],Rs="chakra-portal",ks=function(e){return(0,Ea.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children})},Ms=function(e){var t=e.appendToParentPortal,n=e.children,r=Se((0,a.useState)(null),2),o=r[0],i=r[1],s=(0,a.useRef)(null),l=Se((0,a.useState)({}),2)[1];(0,a.useEffect)((function(){return l({})}),[]);var u=Is(),c=Ss();Pi((function(){if(o){var e=o.ownerDocument,n=t&&null!=u?u:e.body;if(n){s.current=e.createElement("div"),s.current.className=Rs,n.appendChild(s.current),l({});var r=s.current;return function(){n.contains(r)&&n.removeChild(r)}}}}),[o]);var d=(null==c?void 0:c.zIndex)?(0,Ea.jsx)(ks,{zIndex:null==c?void 0:c.zIndex,children:n}):n;return s.current?(0,Ps.createPortal)((0,Ea.jsx)(Es,{value:s.current,children:d}),s.current):(0,Ea.jsx)("span",{ref:function(e){e&&i(e)}})},_s=function(e){var t=e.children,n=e.containerRef,r=e.appendToParentPortal,o=n.current,i=null!=o?o:"undefined"!==typeof window?document.body:void 0,s=(0,a.useMemo)((function(){var e=null==o?void 0:o.ownerDocument.createElement("div");return e&&(e.className=Rs),e}),[o]),l=Se((0,a.useState)({}),2)[1];return Pi((function(){return l({})}),[]),Pi((function(){if(s&&i)return i.appendChild(s),function(){i.removeChild(s)}}),[s,i]),i&&s?(0,Ps.createPortal)((0,Ea.jsx)(Es,{value:r?s:null,children:t}),s):null};function Ds(e){var t=Ae({appendToParentPortal:!0},e),n=t.containerRef,r=Ee(t,Os);return n?(0,Ea.jsx)(_s,Ae({containerRef:n},r)):(0,Ea.jsx)(Ms,Ae({},r))}Ds.className=Rs,Ds.selector=".chakra-portal",Ds.displayName="Portal";var Ls="undefined"!==typeof document,Vs=Ls?a.useLayoutEffect:a.useEffect;function Ns(){var e=(0,a.useRef)(!1);return Vs((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var Bs=function(e){return e},Fs=function(){function e(){os(this,e),this.order=[],this.scheduled=new Set}return ss(e,[{key:"add",value:function(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}},{key:"remove",value:function(e){var t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}},{key:"clear",value:function(){this.order.length=0,this.scheduled.clear()}}]),e}();var Us=["prepare","read","update","preRender","render","postRender"];var js=function(e,t){var n=!1,r=!0,a={delta:0,timestamp:0,isProcessing:!1},o=Us.reduce((function(e,t){return e[t]=function(e){var t=new Fs,n=new Fs,r=0,a=!1,o=!1,i=new WeakSet,s={schedule:function(e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),s.add(e)&&o&&a&&(r=t.order.length),e},cancel:function(e){n.remove(e),i.delete(e)},process:function(l){if(a)o=!0;else{a=!0;var u=[n,t];if(t=u[0],(n=u[1]).clear(),r=t.order.length)for(var c=0;c<r;c++){var d=t.order[c];d(l),i.has(d)&&(s.schedule(d),e())}a=!1,o&&(o=!1,s.process(l))}}};return s}((function(){return n=!0})),e}),{}),i=function(e){return o[e].process(a)},s=function o(){var s=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(s-a.timestamp,40),1),a.timestamp=s,a.isProcessing=!0,Us.forEach(i),a.isProcessing=!1,n&&t&&(r=!1,e(o))},l=Us.reduce((function(t,i){var l=o[i];return t[i]=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(s)),l.schedule(t,o,i)},t}),{});return{schedule:l,cancel:function(e){return Us.forEach((function(t){return o[t].cancel(e)}))},state:a,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Bs,!0),Gs=js.schedule,zs=js.cancel,Ws=js.state,Hs=js.steps;var Ks=(0,a.createContext)(null);function qs(e){var t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}function Xs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function Ys(e){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ys(e)}function $s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qs(e,t){if(t&&("object"===ge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zs(e)}function Js(e){var t=$s();return function(){var n,r=Ys(e);if(t){var a=Ys(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qs(this,n)}}var el=function(e){Xs(n,e);var t=Js(n);function n(){return os(this,n),t.apply(this,arguments)}return ss(n,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(a.Component);function tl(e){var t=e.children,n=e.isPresent,r=(0,a.useId)(),o=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)((function(){var e=i.current,t=e.width,a=e.height,s=e.top,l=e.left;if(!n&&o.current&&t&&a){o.current.dataset.motionPopId=r;var u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(a,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),function(){document.head.removeChild(u)}}}),[n]),a.createElement(el,{isPresent:n,childRef:o,sizeRef:i},a.cloneElement(t,{ref:o}))}var nl=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,i=e.custom,s=e.presenceAffectsLayout,l=e.mode,u=qs(rl),c=(0,a.useId)(),d=(0,a.useMemo)((function(){return{id:c,initial:n,isPresent:r,custom:i,onExitComplete:function(e){u.set(e,!0);var t,n=ke(u.values());try{for(n.s();!(t=n.n()).done;){if(!t.value)return}}catch(r){n.e(r)}finally{n.f()}o&&o()},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}}),s?void 0:[r]);return(0,a.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[r]),a.useEffect((function(){!r&&!u.size&&o&&o()}),[r]),"popLayout"===l&&(t=a.createElement(tl,{isPresent:r},t)),a.createElement(Ks.Provider,{value:d},t)};function rl(){return new Map}var al=(0,a.createContext)({});var ol=Bs,il=Bs;var sl=function(e){return e.key||""};var ll=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,i=e.onExitComplete,s=e.exitBeforeEnter,l=e.presenceAffectsLayout,u=void 0===l||l,c=e.mode,d=void 0===c?"sync":c;il(!s,"Replace exitBeforeEnter with mode='wait'");var f,p=(0,a.useContext)(al).forceRender||function(){var e=Ns(),t=Se((0,a.useState)(0),2),n=t[0],r=t[1],o=(0,a.useCallback)((function(){e.current&&r(n+1)}),[n]);return[(0,a.useCallback)((function(){return Gs.postRender(o)}),[o]),n]}()[0],m=Ns(),g=function(e){var t=[];return a.Children.forEach(e,(function(e){(0,a.isValidElement)(e)&&t.push(e)})),t}(t),v=g,h=(0,a.useRef)(new Map).current,y=(0,a.useRef)(v),b=(0,a.useRef)(new Map).current,x=(0,a.useRef)(!0);if(Vs((function(){x.current=!1,function(e,t){e.forEach((function(e){var n=sl(e);t.set(n,e)}))}(g,b),y.current=v})),f=function(){x.current=!0,b.clear(),h.clear()},(0,a.useEffect)((function(){return function(){return f()}}),[]),x.current)return a.createElement(a.Fragment,null,v.map((function(e){return a.createElement(nl,{key:sl(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:u,mode:d},e)})));v=Re(v);for(var w=y.current.map(sl),C=g.map(sl),S=w.length,T=0;T<S;T++){var P=w[T];-1!==C.indexOf(P)||h.has(P)||h.set(P,void 0)}return"wait"===d&&h.size&&(v=[]),h.forEach((function(e,t){if(-1===C.indexOf(t)){var r=b.get(t);if(r){var o=w.indexOf(t),s=e;if(!s){s=a.createElement(nl,{key:sl(r),isPresent:!1,onExitComplete:function(){b.delete(t),h.delete(t);var e=y.current.findIndex((function(e){return e.key===t}));if(y.current.splice(e,1),!h.size){if(y.current=g,!1===m.current)return;p(),i&&i()}},custom:n,presenceAffectsLayout:u,mode:d},r),h.set(t,s)}v.splice(o,0,s)}}})),v=v.map((function(e){var t=e.key;return h.has(t)?e:a.createElement(nl,{key:sl(e),isPresent:!0,presenceAffectsLayout:u,mode:d},e)})),a.createElement(a.Fragment,null,h.size?v:v.map((function(e){return(0,a.cloneElement)(e)})))},ul=Se(Ba({name:"ModalStylesContext",errorMessage:"useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" "}),2),cl=ul[0],dl=ul[1],fl=Se(Ba({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),2),pl=fl[0],ml=fl[1],gl=function(e){var t=Ae({scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0},e),n=t.portalProps,r=t.children,a=t.autoFocus,o=t.trapFocus,i=t.initialFocusRef,s=t.finalFocusRef,l=t.returnFocusOnClose,u=t.blockScrollOnMount,c=t.allowPinchZoom,d=t.preserveScrollBarGap,f=t.motionPreset,p=t.lockFocusAcrossFrames,m=t.onCloseComplete,g=Ka("Modal",t),v=Ae(Ae({},xs(t)),{},{autoFocus:a,trapFocus:o,initialFocusRef:i,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:c,preserveScrollBarGap:d,motionPreset:f,lockFocusAcrossFrames:p});return(0,Ea.jsx)(pl,{value:v,children:(0,Ea.jsx)(cl,{value:g,children:(0,Ea.jsx)(ll,{onExitComplete:m,children:v.isOpen&&(0,Ea.jsx)(Ds,Ae(Ae({},n),{},{children:r}))})})})};gl.displayName="Modal";var vl={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},hl={position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},yl={position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},bl={position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},xl={position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}};function wl(e){var t;switch(null!=(t=null==e?void 0:e.direction)?t:"right"){case"right":default:return yl;case"left":return hl;case"bottom":return xl;case"top":return bl}}var Cl={enter:{duration:.2,ease:vl.easeOut},exit:{duration:.1,ease:vl.easeIn}},Sl=function(e,t){return Ae(Ae({},e),{},{delay:"number"===typeof t?t:null==t?void 0:t.enter})},Tl=function(e,t){return Ae(Ae({},e),{},{delay:"number"===typeof t?t:null==t?void 0:t.exit})},Pl=(0,a.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Ol=(0,a.createContext)({}),Al=(0,a.createContext)({strict:!1});function El(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Il(e){return"string"===typeof e||Array.isArray(e)}function Rl(e){return"object"===typeof e&&"function"===typeof e.start}var kl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ml=["initial"].concat(kl);function _l(e){return Rl(e.animate)||Ml.some((function(t){return Il(e[t])}))}function Dl(e){return Boolean(_l(e)||e.variants)}function Ll(e){var t=function(e,t){if(_l(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Il(n)?n:void 0,animate:Il(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(Ol)),n=t.initial,r=t.animate;return(0,a.useMemo)((function(){return{initial:n,animate:r}}),[Vl(n),Vl(r)])}function Vl(e){return Array.isArray(e)?e.join(" "):e}var Nl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={},Fl=function(e){Bl[e]={isEnabled:function(t){return Nl[e].some((function(e){return!!t[e]}))}}};for(var Ul in Nl)Fl(Ul);var jl=(0,a.createContext)({}),Gl=Symbol.for("motionComponentSymbol");function zl(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.useRender,o=e.useVisualState,i=e.Component;t&&function(e){for(var t in e)Bl[t]=Ae(Ae({},Bl[t]),e[t])}(t);var s=(0,a.forwardRef)((function(e,s){var l,u=Ae(Ae(Ae({},(0,a.useContext)(Pl)),e),{},{layoutId:Wl(e)}),c=u.isStatic,d=Ll(e),f=o(e,c);if(!c&&Ls){d.visualElement=function(e,t,n,r){var o=(0,a.useContext)(Ol).visualElement,i=(0,a.useContext)(Al),s=(0,a.useContext)(Ks),l=(0,a.useContext)(Pl).reducedMotion,u=(0,a.useRef)();r=r||i.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));var c=u.current;(0,a.useInsertionEffect)((function(){c&&c.update(n,s)}));var d=(0,a.useRef)(Boolean(window.HandoffAppearAnimations));return Vs((function(){c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())})),(0,a.useEffect)((function(){c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)})),c}(i,f,u,n);var p=(0,a.useContext)(jl),m=(0,a.useContext)(Al).strict;d.visualElement&&(l=d.visualElement.loadFeatures(u,m,t,p))}return a.createElement(Ol.Provider,{value:d},l&&d.visualElement?a.createElement(l,Ae({visualElement:d.visualElement},u)):null,r(i,e,function(e,t,n){return(0,a.useCallback)((function(r){r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):El(n)&&(n.current=r))}),[t])}(f,d.visualElement,s),f,c,d.visualElement))}));return s[Gl]=i,s}function Wl(e){var t=e.layoutId,n=(0,a.useContext)(al).id;return n&&void 0!==t?n+"-"+t:t}function Hl(e){function t(t){return zl(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Kl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ql(e){return"string"===typeof e&&!e.includes("-")&&!!(Kl.indexOf(e)>-1||/[A-Z]/.test(e))}var Xl={};var Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Yl);function Zl(e,t){var n=t.layout,r=t.layoutId;return $l.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Xl[e]||"opacity"===e)}var Ql=function(e){return Boolean(e&&e.getVelocity)},Jl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eu=Yl.length;var tu=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},nu=tu("--"),ru=tu("var(--"),au=function(e,t){return t&&"number"===typeof e?t.transform(e):e},ou=function(e,t,n){return Math.min(Math.max(n,e),t)},iu={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},su=Ae(Ae({},iu),{},{transform:function(e){return ou(0,1,e)}}),lu=Ae(Ae({},iu),{},{default:1}),uu=function(e){return Math.round(1e5*e)/1e5},cu=/(-)?([\d]*\.?[\d])+/g,du=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fu=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pu(e){return"string"===typeof e}var mu=function(e){return{test:function(t){return pu(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},gu=mu("deg"),vu=mu("%"),hu=mu("px"),yu=mu("vh"),bu=mu("vw"),xu=Ae(Ae({},vu),{},{parse:function(e){return vu.parse(e)/100},transform:function(e){return vu.transform(100*e)}}),wu=Ae(Ae({},iu),{},{transform:Math.round}),Cu={borderWidth:hu,borderTopWidth:hu,borderRightWidth:hu,borderBottomWidth:hu,borderLeftWidth:hu,borderRadius:hu,radius:hu,borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomRightRadius:hu,borderBottomLeftRadius:hu,width:hu,maxWidth:hu,height:hu,maxHeight:hu,size:hu,top:hu,right:hu,bottom:hu,left:hu,padding:hu,paddingTop:hu,paddingRight:hu,paddingBottom:hu,paddingLeft:hu,margin:hu,marginTop:hu,marginRight:hu,marginBottom:hu,marginLeft:hu,rotate:gu,rotateX:gu,rotateY:gu,rotateZ:gu,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:gu,skewX:gu,skewY:gu,distance:hu,translateX:hu,translateY:hu,translateZ:hu,x:hu,y:hu,z:hu,perspective:hu,transformPerspective:hu,opacity:su,originX:xu,originY:xu,originZ:hu,zIndex:wu,fillOpacity:su,strokeOpacity:su,numOctaves:wu};function Su(e,t,n,r){var a=e.style,o=e.vars,i=e.transform,s=e.transformOrigin,l=!1,u=!1,c=!0;for(var d in t){var f=t[d];if(nu(d))o[d]=f;else{var p=Cu[d],m=au(f,p);if($l.has(d)){if(l=!0,i[d]=m,!c)continue;f!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,s[d]=m):a[d]=m}}if(t.transform||(l||r?a.transform=function(e,t,n,r){for(var a=t.enableHardwareAcceleration,o=void 0===a||a,i=t.allowTransformNone,s=void 0===i||i,l="",u=0;u<eu;u++){var c=Yl[u];if(void 0!==e[c]){var d=Jl[c]||c;l+="".concat(d,"(").concat(e[c],") ")}}return o&&!e.z&&(l+="translateZ(0)"),l=l.trim(),r?l=r(e,n?"":l):s&&n&&(l="none"),l}(e.transform,n,c,r):a.transform&&(a.transform="none")),u){var g=s.originX,v=void 0===g?"50%":g,h=s.originY,y=void 0===h?"50%":h,b=s.originZ,x=void 0===b?0:b;a.transformOrigin="".concat(v," ").concat(y," ").concat(x)}}var Tu=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function Pu(e,t,n){for(var r in t)Ql(t[r])||Zl(r,n)||(e[r]=t[r])}function Ou(e,t,n){var r={};return Pu(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return(0,a.useMemo)((function(){var e=Tu();return Su(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Au(e,t,n){var r={},a=Ou(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}var Eu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Iu(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Eu.has(e)}var Ru,ku=function(e){return!Iu(e)};try{(Ru=require("@emotion/is-prop-valid").default)&&(ku=function(e){return e.startsWith("on")?!Iu(e):Ru(e)})}catch(xa){}function Mu(e,t,n){return"string"===typeof e?e:hu.transform(t+n*e)}var _u={offset:"stroke-dashoffset",array:"stroke-dasharray"},Du={offset:"strokeDashoffset",array:"strokeDasharray"};var Lu=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Vu(e,t,n,r,a){var o=t.attrX,i=t.attrY,s=t.attrScale,l=t.originX,u=t.originY,c=t.pathLength,d=t.pathSpacing,f=void 0===d?1:d,p=t.pathOffset,m=void 0===p?0:p;if(Su(e,Ee(t,Lu),n,a),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var g=e.attrs,v=e.style,h=e.dimensions;g.transform&&(h&&(v.transform=g.transform),delete g.transform),h&&(void 0!==l||void 0!==u||v.transform)&&(v.transformOrigin=function(e,t,n){var r=Mu(t,e.x,e.width),a=Mu(n,e.y,e.height);return"".concat(r," ").concat(a)}(h,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==o&&(g.x=o),void 0!==i&&(g.y=i),void 0!==s&&(g.scale=s),void 0!==c&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var o=a?_u:Du;e[o.offset]=hu.transform(-r);var i=hu.transform(t),s=hu.transform(n);e[o.array]="".concat(i," ").concat(s)}(g,c,f,m,!1)}}var Nu=function(){return Ae(Ae({},Tu()),{},{attrs:{}})},Bu=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Fu(e,t,n,r){var o=(0,a.useMemo)((function(){var n=Nu();return Vu(n,t,{enableHardwareAcceleration:!1},Bu(r),e.transformTemplate),Ae(Ae({},n.attrs),{},{style:Ae({},n.style)})}),[t]);if(e.style){var i={};Pu(i,e.style,e),o.style=Ae(Ae({},i),o.style)}return o}function Uu(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,r,o,i){var s=o.latestValues,l=(ql(t)?Fu:Au)(n,s,i,t),u=function(e,t,n){var r={};for(var a in e)"values"===a&&"object"===typeof e.values||(ku(a)||!0===n&&Iu(a)||!t&&!Iu(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"===typeof t,e),c=Ae(Ae(Ae({},u),l),{},{ref:r}),d=n.children,f=(0,a.useMemo)((function(){return Ql(d)?d.get():d}),[d]);return(0,a.createElement)(t,Ae(Ae({},c),{},{children:f}))}}var ju=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Gu(e,t,n,r){var a=t.style,o=t.vars;for(var i in Object.assign(e.style,a,r&&r.getProjectionStyles(n)),o)e.style.setProperty(i,o[i])}var zu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wu(e,t,n,r){for(var a in Gu(e,t,void 0,r),t.attrs)e.setAttribute(zu.has(a)?a:ju(a),t.attrs[a])}function Hu(e,t){var n=e.style,r={};for(var a in n)(Ql(n[a])||t.style&&Ql(t.style[a])||Zl(a,e))&&(r[a]=n[a]);return r}function Ku(e,t){var n=Hu(e,t);for(var r in e){if(Ql(e[r])||Ql(t[r]))n[-1!==Yl.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function qu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,a)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,a)),t}var Xu=function(e){return Array.isArray(e)},Yu=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},$u=function(e){return Xu(e)?e[e.length-1]||0:e};function Zu(e){var t=Ql(e)?e.get():e;return Yu(t)?t.toValue():t}var Qu=["transitionEnd","transition"];var Ju=function(e){return function(t,n){var r=(0,a.useContext)(Ol),o=(0,a.useContext)(Ks),i=function(){return function(e,t,n,r){var a=e.scrapeMotionValuesFromProps,o=e.createRenderState,i=e.onMount,s={latestValues:ec(t,n,r,a),renderState:o()};return i&&(s.mount=function(e){return i(t,e,s)}),s}(e,t,r,o)};return n?i():qs(i)}};function ec(e,t,n,r){var a={},o=r(e,{});for(var i in o)a[i]=Zu(o[i]);var s=e.initial,l=e.animate,u=_l(e),c=Dl(e);t&&c&&!u&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===l&&(l=t.animate));var d=!!n&&!1===n.initial,f=(d=d||!1===s)?l:s;f&&"boolean"!==typeof f&&!Rl(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=qu(e,t);if(n){var r=n.transitionEnd,o=(n.transition,Ee(n,Qu));for(var i in o){var s=o[i];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(a[i]=s)}for(var l in r)a[l]=r[l]}}));return a}var tc={useVisualState:Ju({scrapeMotionValuesFromProps:Ku,createRenderState:Nu,onMount:function(e,t,n){var r=n.renderState,a=n.latestValues;Gs.read((function(){try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),Gs.render((function(){Vu(r,a,{enableHardwareAcceleration:!1},Bu(t.tagName),e.transformTemplate),Wu(t,r)}))}})},nc={useVisualState:Ju({scrapeMotionValuesFromProps:Hu,createRenderState:Tu})};function rc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var ac=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function oc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var ic=function(e){return function(t){return ac(t)&&e(t,oc(t))}};function sc(e,t,n,r){return rc(e,t,ic(n),r)}var lc=function(e,t){return function(n){return t(e(n))}},uc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(lc)};function cc(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var dc=cc("dragHorizontal"),fc=cc("dragVertical");function pc(e){var t=!1;if("y"===e)t=fc();else if("x"===e)t=dc();else{var n=dc(),r=fc();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function mc(){var e=pc(!0);return!e||(e(),!1)}var gc=function(){function e(t){os(this,e),this.isMounted=!1,this.node=t}return ss(e,[{key:"update",value:function(){}}]),e}();function vc(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return sc(e.current,n,(function(n,a){if("touch"!==n.type&&!mc()){var o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Gs.update((function(){return o[r](n,a)}))}}),{passive:!e.getProps()[r]})}var hc=function(e){Xs(n,e);var t=Js(n);function n(){return os(this,n),t.apply(this,arguments)}return ss(n,[{key:"mount",value:function(){this.unmount=uc(vc(this.node,!0),vc(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(gc),yc=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return ss(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=uc(rc(this.node.current,"focus",(function(){return e.onFocus()})),rc(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(gc),bc=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function xc(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,oc(n))}}var wc=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).removeStartListeners=Bs,e.removeEndListeners=Bs,e.removeAccessibleListeners=Bs,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),a=sc(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),a=r.onTap,o=r.onTapCancel;Gs.update((function(){bc(e.node.current,t.target)?a&&a(t,n):o&&o(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),o=sc(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=uc(a,o),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=rc(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=rc(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&xc("up",(function(t,n){var r=e.node.getProps().onTap;r&&Gs.update((function(){return r(t,n)}))}))})),xc("down",(function(t,n){e.startPress(t,n)}))}})),n=rc(e.node.current,"blur",(function(){e.isPressing&&xc("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=uc(t,n)},e}return ss(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Gs.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mc()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&Gs.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=sc(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=rc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=uc(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(gc),Cc=["root"],Sc=new WeakMap,Tc=new WeakMap,Pc=function(e){var t=Sc.get(e.target);t&&t(e)},Oc=function(e){e.forEach(Pc)};function Ac(e,t,n){var r=function(e){var t=e.root,n=Ee(e,Cc),r=t||document;Tc.has(r)||Tc.set(r,{});var a=Tc.get(r),o=JSON.stringify(n);return a[o]||(a[o]=new IntersectionObserver(Oc,Ae({root:t},n))),a[o]}(t);return Sc.set(e,n),r.observe(e),function(){Sc.delete(e),r.unobserve(e)}}var Ec={some:0,all:1},Ic=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return ss(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,a=n.margin,o=n.amount,i=void 0===o?"some":o,s=n.once,l={root:r?r.current:void 0,rootMargin:a,threshold:"number"===typeof i?i:Ec[i]};return Ac(this.node.current,l,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),a=r.onViewportEnter,o=r.onViewportLeave,i=n?a:o;i&&i(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.viewport,o=void 0===a?{}:a;return function(e){return n[e]!==o[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(gc);var Rc={inView:{Feature:Ic},tap:{Feature:wc},focus:{Feature:yc},hover:{Feature:hc}};function kc(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Mc(e,t,n){var r=e.getProps();return qu(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var _c="data-"+ju("framerAppearId"),Dc=function(e){return 1e3*e},Lc=function(e){return e/1e3},Vc=!1,Nc=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function Bc(e){return Boolean(!e||"string"===typeof e&&Uc[e]||Nc(e)||Array.isArray(e)&&e.every(Bc))}var Fc=function(e){var t=Se(e,4),n=t[0],r=t[1],a=t[2],o=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(a,", ").concat(o,")")},Uc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fc([0,.65,.55,1]),circOut:Fc([.55,0,1,.45]),backIn:Fc([.31,.01,.66,-.59]),backOut:Fc([.33,1.53,.69,.99])};function jc(e){if(e)return Nc(e)?Fc(e):Array.isArray(e)?e.map(jc):Uc[e]}var Gc=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},zc=1e-7,Wc=12;function Hc(e,t,n,r){if(e===t&&n===r)return Bs;var a=function(t){return function(e,t,n,r,a){var o,i,s=0;do{(o=Gc(i=t+(n-t)/2,r,a)-e)>0?n=i:t=i}while(Math.abs(o)>zc&&++s<Wc);return i}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:Gc(a(e),t,r)}}var Kc=Hc(.42,0,1,1),qc=Hc(0,0,.58,1),Xc=Hc(.42,0,.58,1),Yc=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},$c=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Zc=function(e){return function(t){return 1-e(1-t)}},Qc=function(e){return 1-Math.sin(Math.acos(e))},Jc=Zc(Qc),ed=$c(Jc),td=Hc(.33,1.53,.69,.99),nd=Zc(td),rd=$c(nd),ad={linear:Bs,easeIn:Kc,easeInOut:Xc,easeOut:qc,circIn:Qc,circInOut:ed,circOut:Jc,backIn:nd,backInOut:rd,backOut:td,anticipate:function(e){return(e*=2)<1?.5*nd(e):.5*(2-Math.pow(2,-10*(e-1)))}},od=function(e){if(Array.isArray(e)){il(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=Se(e,4);return Hc(t[0],t[1],t[2],t[3])}return"string"===typeof e?(il(void 0!==ad[e],"Invalid easing type '".concat(e,"'")),ad[e]):e},id=function(e,t){return function(n){return Boolean(pu(n)&&fu.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},sd=function(e,t,n){return function(r){var a;if(!pu(r))return r;var o=Se(r.match(cu),4),i=o[0],s=o[1],l=o[2],u=o[3];return Pe(a={},e,parseFloat(i)),Pe(a,t,parseFloat(s)),Pe(a,n,parseFloat(l)),Pe(a,"alpha",void 0!==u?parseFloat(u):1),a}},ld=Ae(Ae({},iu),{},{transform:function(e){return Math.round(function(e){return ou(0,255,e)}(e))}}),ud={test:id("rgb","red"),parse:sd("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,a=e.alpha,o=void 0===a?1:a;return"rgba("+ld.transform(t)+", "+ld.transform(n)+", "+ld.transform(r)+", "+uu(su.transform(o))+")"}};var cd={test:id("#"),parse:function(e){var t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:ud.transform},dd={test:id("hsl","hue"),parse:sd("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,a=e.alpha,o=void 0===a?1:a;return"hsla("+Math.round(t)+", "+vu.transform(uu(n))+", "+vu.transform(uu(r))+", "+uu(su.transform(o))+")"}},fd={test:function(e){return ud.test(e)||cd.test(e)||dd.test(e)},parse:function(e){return ud.test(e)?ud.parse(e):dd.test(e)?dd.parse(e):cd.parse(e)},transform:function(e){return pu(e)?e:e.hasOwnProperty("red")?ud.transform(e):dd.transform(e)}},pd=function(e,t,n){return-n*e+n*t+e};function md(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var gd=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},vd=[cd,ud,dd];function hd(e){var t,n=(t=e,vd.find((function(e){return e.test(t)})));il(Boolean(n),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var r=n.parse(e);return n===dd&&(r=function(e){var t=e.hue,n=e.saturation,r=e.lightness,a=e.alpha;t/=360,r/=100;var o=0,i=0,s=0;if(n/=100){var l=r<.5?r*(1+n):r+n-r*n,u=2*r-l;o=md(u,l,t+1/3),i=md(u,l,t),s=md(u,l,t-1/3)}else o=i=s=r;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*s),alpha:a}}(r)),r}var yd=function(e,t){var n=hd(e),r=hd(t),a=Ae({},n);return function(e){return a.red=gd(n.red,r.red,e),a.green=gd(n.green,r.green,e),a.blue=gd(n.blue,r.blue,e),a.alpha=pd(n.alpha,r.alpha,e),ud.transform(a)}};var bd={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Bs},xd={regex:du,countKey:"Colors",token:"${c}",parse:fd.parse},wd={regex:cu,countKey:"Numbers",token:"${n}",parse:iu.parse};function Cd(e,t){var n,r=t.regex,a=t.countKey,o=t.token,i=t.parse,s=e.tokenised.match(r);s&&(e["num"+a]=s.length,e.tokenised=e.tokenised.replace(r,o),(n=e.values).push.apply(n,Re(s.map(i))))}function Sd(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Cd(n,bd),Cd(n,xd),Cd(n,wd),n}function Td(e){return Sd(e).values}function Pd(e){var t=Sd(e),n=t.values,r=t.numColors,a=t.numVars,o=t.tokenised,i=n.length;return function(e){for(var t=o,n=0;n<i;n++)t=n<a?t.replace(bd.token,e[n]):n<a+r?t.replace(xd.token,fd.transform(e[n])):t.replace(wd.token,uu(e[n]));return t}}var Od=function(e){return"number"===typeof e?0:e};var Ad={test:function(e){var t,n;return isNaN(e)&&pu(e)&&((null===(t=e.match(cu))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(du))||void 0===n?void 0:n.length)||0)>0},parse:Td,createTransformer:Pd,getAnimatableNone:function(e){var t=Td(e);return Pd(e)(t.map(Od))}},Ed=function(e,t){return function(n){return"".concat(n>0?t:e)}};function Id(e,t){return"number"===typeof e?function(n){return pd(e,t,n)}:fd.test(e)?yd(e,t):e.startsWith("var(")?Ed(e,t):Md(e,t)}var Rd=function(e,t){var n=Re(e),r=n.length,a=e.map((function(e,n){return Id(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=a[t](e);return n}},kd=function(e,t){var n=Ae(Ae({},e),t),r={};for(var a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=Id(e[a],t[a]));return function(e){for(var t in r)n[t]=r[t](e);return n}},Md=function(e,t){var n=Ad.createTransformer(t),r=Sd(e),a=Sd(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?uc(Rd(r.values,a.values),n):(ol(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ed(e,t))},_d=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Dd=function(e,t){return function(n){return pd(e,t,n)}};function Ld(e,t,n){for(var r,a=[],o=n||("number"===typeof(r=e[0])?Dd:"string"===typeof r?fd.test(r)?yd:Md:Array.isArray(r)?Rd:"object"===typeof r?kd:Dd),i=e.length-1,s=0;s<i;s++){var l=o(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]||Bs:t;l=uc(u,l)}a.push(l)}return a}function Vd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,a=void 0===r||r,o=n.ease,i=n.mixer,s=e.length;if(il(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=Re(e).reverse(),t=Re(t).reverse());var l=Ld(t,o,i),u=l.length,c=function(t){var n=0;if(u>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=_d(e[n],e[n+1],t);return l[n](r)};return a?function(t){return c(ou(e[0],e[s-1],t))}:c}function Nd(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var a=_d(0,t,r);e.push(pd(n,1,a))}}(t,e.length-1),t}function Bd(e){var t,n,r=e.duration,a=void 0===r?300:r,o=e.keyframes,i=e.times,s=e.ease,l=void 0===s?"easeInOut":s,u=Yc(l)?l.map(od):od(l),c={done:!1,value:o[0]},d=function(e,t){return e.map((function(e){return e*t}))}(i&&i.length===o.length?i:Nd(o),a),f=Vd(d,o,{ease:Array.isArray(u)?u:(t=o,n=u,t.map((function(){return n||Xc})).splice(0,t.length-1))});return{calculatedDuration:a,next:function(e){return c.value=f(e),c.done=e>=a,c}}}function Fd(e,t){return t?e*(1e3/t):0}var Ud=5;function jd(e,t,n){var r=Math.max(t-Ud,0);return Fd(n-e(r),t-r)}var Gd=.001,zd=.01,Wd=10,Hd=.05,Kd=1;function qd(e){var t,n,r=e.duration,a=void 0===r?800:r,o=e.bounce,i=void 0===o?.25:o,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u;ol(a<=Dc(Wd),"Spring duration must be 10 seconds or less");var d=1-i;d=ou(Hd,Kd,d),a=ou(zd,Wd,Lc(a)),d<1?(t=function(e){var t=e*d,n=t*a,r=t-l,o=Yd(e,d),i=Math.exp(-n);return Gd-r/o*i},n=function(e){var n=e*d*a,r=n*l+l,o=Math.pow(d,2)*Math.pow(e,2)*a,i=Math.exp(-n),s=Yd(Math.pow(e,2),d);return(-t(e)+Gd>0?-1:1)*((r-o)*i)/s}):(t=function(e){return Math.exp(-e*a)*((e-l)*a+1)-Gd},n=function(e){return Math.exp(-e*a)*(a*a*(l-e))});var f=function(e,t,n){for(var r=n,a=1;a<Xd;a++)r-=e(r)/t(r);return r}(t,n,5/a);if(a=Dc(a),isNaN(f))return{stiffness:100,damping:10,duration:a};var p=Math.pow(f,2)*c;return{stiffness:p,damping:2*d*Math.sqrt(c*p),duration:a}}var Xd=12;function Yd(e,t){return e*Math.sqrt(1-t*t)}var $d=["keyframes","restDelta","restSpeed"],Zd=["duration","bounce"],Qd=["stiffness","damping","mass"];function Jd(e,t){return t.some((function(t){return void 0!==e[t]}))}function ef(e){var t,n=e.keyframes,r=e.restDelta,a=e.restSpeed,o=Ee(e,$d),i=n[0],s=n[n.length-1],l={done:!1,value:i},u=function(e){var t=Ae({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Jd(e,Qd)&&Jd(e,Zd)){var n=qd(e);(t=Ae(Ae(Ae({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(o),c=u.stiffness,d=u.damping,f=u.mass,p=u.velocity,m=u.duration,g=u.isResolvedFromDuration,v=p?-Lc(p):0,h=d/(2*Math.sqrt(c*f)),y=s-i,b=Lc(Math.sqrt(c/f)),x=Math.abs(y)<5;if(a||(a=x?.01:2),r||(r=x?.005:.5),h<1){var w=Yd(b,h);t=function(e){var t=Math.exp(-h*b*e);return s-t*((v+h*b*y)/w*Math.sin(w*e)+y*Math.cos(w*e))}}else if(1===h)t=function(e){return s-Math.exp(-b*e)*(y+(v+b*y)*e)};else{var C=b*Math.sqrt(h*h-1);t=function(e){var t=Math.exp(-h*b*e),n=Math.min(C*e,300);return s-t*((v+h*b*y)*Math.sinh(n)+C*y*Math.cosh(n))/C}}return{calculatedDuration:g&&m||null,next:function(e){var n=t(e);if(g)l.done=e>=m;else{var o=v;0!==e&&(o=h<1?jd(t,e,n):0);var i=Math.abs(o)<=a,u=Math.abs(s-n)<=r;l.done=i&&u}return l.value=l.done?s:n,l}}}function tf(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,a=e.power,o=void 0===a?.8:a,i=e.timeConstant,s=void 0===i?325:i,l=e.bounceDamping,u=void 0===l?10:l,c=e.bounceStiffness,d=void 0===c?500:c,f=e.modifyTarget,p=e.min,m=e.max,g=e.restDelta,v=void 0===g?.5:g,h=e.restSpeed,y=t[0],b={done:!1,value:y},x=function(e){return void 0===p?m:void 0===m||Math.abs(p-e)<Math.abs(m-e)?p:m},w=o*r,C=y+w,S=void 0===f?C:f(C);S!==C&&(w=S-y);var T,P,O=function(e){return-w*Math.exp(-e/s)},A=function(e){return S+O(e)},E=function(e){var t=O(e),n=A(e);b.done=Math.abs(t)<=v,b.value=b.done?S:n},I=function(e){var t;(t=b.value,void 0!==p&&t<p||void 0!==m&&t>m)&&(T=e,P=ef({keyframes:[b.value,x(b.value)],velocity:jd(A,e,b.value),damping:u,stiffness:d,restDelta:v,restSpeed:h}))};return I(0),{calculatedDuration:null,next:function(e){var t=!1;return P||void 0!==T||(t=!0,E(e),I(e)),void 0!==T&&e>T?P.next(e-T):(!t&&E(e),b)}}}var nf=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return Gs.update(t,!0)},stop:function(){return zs(t)},now:function(){return Ws.isProcessing?Ws.timestamp:performance.now()}}},rf=2e4;function af(e){for(var t=0,n=e.next(t);!n.done&&t<rf;)t+=50,n=e.next(t);return t>=rf?1/0:t}var of=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],sf={decay:tf,inertia:tf,tween:Bd,keyframes:Bd,spring:ef};function lf(e){var t,n,r,a=e.autoplay,o=void 0===a||a,i=e.delay,s=void 0===i?0:i,l=e.driver,u=void 0===l?nf:l,c=e.keyframes,d=e.type,f=void 0===d?"keyframes":d,p=e.repeat,m=void 0===p?0:p,g=e.repeatDelay,v=void 0===g?0:g,h=e.repeatType,y=void 0===h?"loop":h,b=e.onPlay,x=e.onStop,w=e.onComplete,C=e.onUpdate,S=Ee(e,of),T=1,P=!1,O=function(){n=new Promise((function(e){t=e}))};O();var A,E=sf[f]||Bd;E!==Bd&&"number"!==typeof c[0]&&(A=Vd([0,100],c,{clamp:!1}),c=[0,100]);var I,R=E(Ae(Ae({},S),{},{keyframes:c}));"mirror"===y&&(I=E(Ae(Ae({},S),{},{keyframes:Re(c).reverse(),velocity:-(S.velocity||0)})));var k="idle",M=null,_=null,D=null;null===R.calculatedDuration&&m&&(R.calculatedDuration=af(R));var L=R.calculatedDuration,V=1/0,N=1/0;null!==L&&(N=(V=L+v)*(m+1)-v);var B=0,F=function(e){if(null!==_){T>0&&(_=Math.min(_,e)),T<0&&(_=Math.min(e-N/T,_));var t=(B=null!==M?M:Math.round(e-_)*T)-s*(T>=0?1:-1),n=T>=0?t<0:t>N;B=Math.max(t,0),"finished"===k&&null===M&&(B=N);var r=B,a=R;if(m){var o=B/V,i=Math.floor(o),l=o%1;!l&&o>=1&&(l=1),1===l&&i--,i=Math.min(i,m+1);var u=Boolean(i%2);u&&("reverse"===y?(l=1-l,v&&(l-=v/V)):"mirror"===y&&(a=I));var d=ou(0,1,l);B>N&&(d="reverse"===y&&u?1:0),r=d*V}var f=n?{done:!1,value:c[0]}:a.next(r);A&&(f.value=A(f.value));var p=f.done;n||null===L||(p=T>=0?B>=N:B<=0);var g=null===M&&("finished"===k||"running"===k&&p);return C&&C(f.value),g&&G(),f}},U=function(){r&&r.stop(),r=void 0},j=function(){k="idle",U(),t(),O(),_=D=null},G=function(){k="finished",w&&w(),U(),t()},z=function(){if(!P){r||(r=u(F));var e=r.now();b&&b(),null!==M?_=e-M:_&&"finished"!==k||(_=e),"finished"===k&&O(),D=_,M=null,k="running",r.start()}};o&&z();var W={then:function(e,t){return n.then(e,t)},get time(){return Lc(B)},set time(e){e=Dc(e),B=e,null===M&&r&&0!==T?_=r.now()-e/T:M=e},get duration(){var e=null===R.calculatedDuration?af(R):R.calculatedDuration;return Lc(e)},get speed(){return T},set speed(e){e!==T&&r&&(T=e,W.time=Lc(B))},get state(){return k},play:z,pause:function(){k="paused",M=B},stop:function(){P=!0,"idle"!==k&&(k="idle",x&&x(),j())},cancel:function(){null!==D&&F(D),j()},complete:function(){k="finished"},sample:function(e){return _=0,F(e)}};return W}var uf=["onUpdate","onComplete"],cf=function(e){var t;return function(){return void 0===t&&(t=e()),t}}((function(){return Object.hasOwnProperty.call(Element.prototype,"animate")})),df=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function ff(e,t,n){n.onUpdate;var r=n.onComplete,a=Ee(n,uf);if(!(cf()&&df.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;var o,i,s=!1,l=function(){i=new Promise((function(e){o=e}))};l();var u=a.keyframes,c=a.duration,d=void 0===c?300:c,f=a.ease,p=a.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!Bc(t.ease)}(t,a)){for(var m=lf(Ae(Ae({},a),{},{repeat:0,delay:0})),g={done:!1,value:u[0]},v=[],h=0;!g.done&&h<2e4;)g=m.sample(h),v.push(g.value),h+=10;p=void 0,u=v,d=h-10,f="linear"}var y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.delay,o=void 0===a?0:a,i=r.duration,s=r.repeat,l=void 0===s?0:s,u=r.repeatType,c=void 0===u?"loop":u,d=r.ease,f=r.times,p=Pe({},t,n);f&&(p.offset=f);var m=jc(d);return Array.isArray(m)&&(p.easing=m),e.animate(p,{delay:o,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:"reverse"===c?"alternate":"normal"})}(e.owner.current,t,u,Ae(Ae({},a),{},{duration:d,ease:f,times:p}));a.syncStart&&(y.startTime=Ws.isProcessing?Ws.timestamp:document.timeline?document.timeline.currentTime:performance.now());var b=function(){return y.cancel()},x=function(){Gs.update(b),o(),l()};return y.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(u,a)),r&&r(),x()},{then:function(e,t){return i.then(e,t)},attachTimeline:function(e){return y.timeline=e,y.onfinish=null,Bs},get time(){return Lc(y.currentTime||0)},set time(e){y.currentTime=Dc(e)},get speed(){return y.playbackRate},set speed(e){y.playbackRate=e},get duration(){return Lc(d)},play:function(){s||(y.play(),zs(b))},pause:function(){return y.pause()},stop:function(){if(s=!0,"idle"!==y.playState){var t=y.currentTime;if(t){var n=lf(Ae(Ae({},a),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}x()}},complete:function(){return y.finish()},cancel:x}}var pf={type:"spring",stiffness:500,damping:25,restSpeed:10},mf={type:"keyframes",duration:.8},gf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vf=function(e,t){var n=t.keyframes;return n.length>2?mf:$l.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:pf:gf},hf=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Ad.test(t)&&"0"!==t||t.startsWith("url(")))},yf=new Set(["brightness","contrast","saturate","opacity"]);function bf(e){var t=Se(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var a=Se(r.match(cu)||[],1)[0];if(!a)return e;var o=r.replace(a,""),i=yf.has(n)?1:0;return a!==r&&(i*=100),n+"("+i+o+")"}var xf=/([a-z-]*)\(.*?\)/g,wf=Ae(Ae({},Ad),{},{getAnimatableNone:function(e){var t=e.match(xf);return t?t.map(bf).join(" "):e}}),Cf=Ae(Ae({},Cu),{},{color:fd,backgroundColor:fd,outlineColor:fd,fill:fd,stroke:fd,borderColor:fd,borderTopColor:fd,borderRightColor:fd,borderBottomColor:fd,borderLeftColor:fd,filter:wf,WebkitFilter:wf}),Sf=function(e){return Cf[e]};function Tf(e,t){var n=Sf(e);return n!==wf&&(n=Ad),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Pf=function(e){return/^0[^.\s]+$/.test(e)};function Of(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Pf(e):void 0}var Af=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Ef(e,t){return e[t]||e.default||e}var If=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(a){var o=Ef(r,e)||{},i=o.delay||r.delay||0,s=r.elapsed,l=void 0===s?0:s;l-=Dc(i);var u=function(e,t,n,r){var a,o=hf(t,n);a=Array.isArray(n)?Re(n):[null,n];for(var i=void 0!==r.from?r.from:e.get(),s=void 0,l=[],u=0;u<a.length;u++)null===a[u]&&(a[u]=0===u?i:a[u-1]),Of(a[u])&&l.push(u),"string"===typeof a[u]&&"none"!==a[u]&&"0"!==a[u]&&(s=a[u]);if(o&&l.length&&s)for(var c=0;c<l.length;c++)a[l[c]]=Tf(t,s);return a}(t,e,n,o),c=u[0],d=u[u.length-1],f=hf(e,c),p=hf(e,d);ol(f===p,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(d,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(d," via the `style` property."));var m=Ae(Ae({keyframes:u,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-l,onUpdate:function(e){t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:function(){a(),o.onComplete&&o.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=Ee(e,Af);return!!Object.keys(t).length}(o)||(m=Ae(Ae({},m),vf(e,m))),m.duration&&(m.duration=Dc(m.duration)),m.repeatDelay&&(m.repeatDelay=Dc(m.repeatDelay)),!f||!p||Vc||!1===o.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,a=e.onComplete,o=function(){return r&&r(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:Bs,pause:Bs,stop:Bs,then:function(e){return e(),Promise.resolve()},cancel:Bs,complete:Bs}};return n?lf({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(Vc?Ae(Ae({},m),{},{delay:0}):m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var g=ff(t,e,m);if(g)return g}return lf(m)}};function Rf(e){return Boolean(Ql(e)&&e.add)}var kf=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Mf(e,t){-1===e.indexOf(t)&&e.push(t)}function _f(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Df=function(){function e(){os(this,e),this.subscriptions=[]}return ss(e,[{key:"add",value:function(e){var t=this;return Mf(this.subscriptions,e),function(){return _f(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var a=0;a<r;a++){var o=this.subscriptions[a];o&&o(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Lf={current:void 0},Vf=function(){function e(t){var n,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};os(this,e),this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=Ws.delta,a=Ws.timestamp;r.lastUpdated!==a&&(r.timeDelta=n,r.lastUpdated=a,Gs.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return Gs.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=a.owner}return ss(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new Df);var r=this.events[e].add(t);return"change"===e?function(){r(),Gs.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return Lf.current&&Lf.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Fd(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function Nf(e,t){return new Vf(e,t)}var Bf=function(e){return function(t){return t.test(e)}},Ff=[iu,hu,vu,gu,bu,yu,{test:function(e){return"auto"===e},parse:function(e){return e}}],Uf=function(e){return Ff.find(Bf(e))},jf=[].concat(Re(Ff),[fd,Ad]),Gf=["transitionEnd","transition"];function zf(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nf(n))}function Wf(e,t){var n=Mc(e,t),r=n?e.makeTargetAnimatable(n,!1):{},a=r.transitionEnd,o=void 0===a?{}:a,i=(r.transition,Ee(r,Gf));for(var s in i=Ae(Ae({},i),o)){zf(e,s,$u(i[s]))}}function Hf(e,t){if(t)return(t[e]||t.default||t).from}var Kf=["transition","transitionEnd"];function qf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,a=void 0===r?0:r,o=n.transitionOverride,i=n.type,s=e.makeTargetAnimatable(t),l=s.transition,u=void 0===l?e.getDefaultTransition():l,c=s.transitionEnd,d=Ee(s,Kf),f=e.getValue("willChange");o&&(u=o);var p=[],m=i&&e.animationState&&e.animationState.getState()[i],g=function(t){var n=e.getValue(t),r=d[t];if(!n||void 0===r||m&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}(m,t))return 1;var o=Ae({delay:a,elapsed:0},u);if(window.HandoffAppearAnimations&&!n.hasAnimated){var i=e.getProps()[_c];i&&(o.elapsed=window.HandoffAppearAnimations(i,t,n,Gs),o.syncStart=!0)}n.start(If(t,n,r,e.shouldReduceMotion&&$l.has(t)?{type:!1}:o));var s=n.animation;Rf(f)&&(f.add(t),s.then((function(){return f.remove(t)}))),p.push(s)};for(var v in d)g(v);return c&&Promise.all(p).then((function(){c&&Wf(e,c)})),p}function Xf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mc(e,t,n.custom),a=(r||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var i=r?function(){return Promise.all(qf(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=o,i=a.delayChildren,s=void 0===i?0:i,l=a.staggerChildren,u=a.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,i=[],s=(e.variantChildren.size-1)*r,l=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Yf).forEach((function(e,r){e.notify("AnimationStart",t),i.push(Xf(e,t,Ae(Ae({},o),{},{delay:n+l(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(i)}(e,t,s+r,l,u,n)}:function(){return Promise.resolve()},l=o.when;if(l){var u=Se("beforeChildren"===l?[i,s]:[s,i],2),c=u[0],d=u[1];return c().then((function(){return d()}))}return Promise.all([i(),s(n.delay)])}function Yf(e,t){return e.sortNodePosition(t)}var $f=["transition","transitionEnd"],Zf=Re(kl).reverse(),Qf=kl.length;function Jf(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var a=t.map((function(t){return Xf(e,t,r)}));n=Promise.all(a)}else if("string"===typeof t)n=Xf(e,t,r);else{var o="function"===typeof t?Mc(e,t,r.custom):t;n=Promise.all(qf(e,o,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function ep(e){var t=Jf(e),n={animate:tp(!0),whileInView:tp(),whileHover:tp(),whileTap:tp(),whileDrag:tp(),whileFocus:tp(),exit:tp()},r=!0,a=function(t,n){var r=Mc(e,n);if(r){r.transition;var a=r.transitionEnd,o=Ee(r,$f);t=Ae(Ae(Ae({},t),o),a)}return t};function o(o,i){for(var s=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set,d={},f=1/0,p=function(){var t=Zf[m],p=n[t],g=void 0!==s[t]?s[t]:l[t],v=Il(g),h=t===i?p.isActive:null;!1===h&&(f=m);var y=g===l[t]&&g!==s[t]&&v;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=Ae({},d),!p.isActive&&null===h||!g&&!p.prevProp||Rl(g)||"boolean"===typeof g)return 1;var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!kc(t,e);return!1}(p.prevProp,g),x=b||t===i&&p.isActive&&!y&&v||m>f&&v,w=Array.isArray(g)?g:[g],C=w.reduce(a,{});!1===h&&(C={});var S=p.prevResolvedValues,T=void 0===S?{}:S,P=Ae(Ae({},T),C),O=function(e){x=!0,c.delete(e),p.needsAnimating[e]=!0};for(var A in P){var E=C[A],I=T[A];d.hasOwnProperty(A)||(E!==I?Xu(E)&&Xu(I)?!kc(E,I)||b?O(A):p.protectedKeys[A]=!0:void 0!==E?O(A):c.add(A):void 0!==E&&c.has(A)?O(A):p.protectedKeys[A]=!0)}p.prevProp=g,p.prevResolvedValues=C,p.isActive&&(d=Ae(Ae({},d),C)),r&&e.blockInitialAnimation&&(x=!1),x&&!y&&u.push.apply(u,Re(w.map((function(e){return{animation:e,options:Ae({type:t},o)}}))))},m=0;m<Qf;m++)p();if(c.size){var g={};c.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),u.push({animation:g})}var v=Boolean(u.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(u):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,a){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(a,t);for(var l in n)n[l].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function tp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var np=function(e){Xs(n,e);var t=Js(n);function n(e){var r;return os(this,n),r=t.call(this,e),e.animationState||(e.animationState=ep(e)),r}return ss(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),Rl(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(gc),rp=0,ap=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).id=rp++,e}return ss(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,a=t.custom,o=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==o){var i=this.node.animationState.setActive("exit",!n,{custom:null!==a&&void 0!==a?a:this.node.getProps().custom});r&&!n&&i.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(gc),op={animation:{Feature:np},exit:{Feature:ap}},ip=function(e,t){return Math.abs(e-t)};var sp=function(){function e(t,n){var r=this,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(os(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=cp(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=ip(e.x,t.x),r=ip(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var a=e.point,o=Ws.timestamp;r.history.push(Ae(Ae({},a),{},{timestamp:o}));var i=r.handlers,s=i.onStart,l=i.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=lp(t,r.transformPagePoint),Gs.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,a=n.onEnd,o=n.onSessionEnd,i=cp("pointercancel"===e.type?r.lastMoveEventInfo:lp(t,r.transformPagePoint),r.history);r.startEvent&&a&&a(e,i),o&&o(e,i)}},ac(t)){this.handlers=n,this.transformPagePoint=a;var o=lp(oc(t),this.transformPagePoint),i=o.point,s=Ws.timestamp;this.history=[Ae(Ae({},i),{},{timestamp:s})];var l=n.onSessionStart;l&&l(t,cp(o,this.history)),this.removeListeners=uc(sc(window,"pointermove",this.handlePointerMove),sc(window,"pointerup",this.handlePointerUp),sc(window,"pointercancel",this.handlePointerUp))}}return ss(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}]),e}();function lp(e,t){return t?{point:t(e.point)}:e}function up(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cp(e,t){var n=e.point;return{point:n,delta:up(n,fp(t)),offset:up(n,dp(t)),velocity:pp(t,.1)}}function dp(e){return e[0]}function fp(e){return e[e.length-1]}function pp(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,a=fp(e);n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Dc(t)));)n--;if(!r)return{x:0,y:0};var o=Lc(a.timestamp-r.timestamp);if(0===o)return{x:0,y:0};var i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function mp(e){return e.max-e.min}function gp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function vp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=pd(t.min,t.max,e.origin),e.scale=mp(n)/mp(t),(gp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pd(n.min,n.max,e.origin)-e.originPoint,(gp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function hp(e,t,n,r){vp(e.x,t.x,n.x,r?r.originX:void 0),vp(e.y,t.y,n.y,r?r.originY:void 0)}function yp(e,t,n){e.min=n.min+t.min,e.max=e.min+mp(t)}function bp(e,t,n){e.min=t.min-n.min,e.max=e.min+mp(t)}function xp(e,t,n){bp(e.x,t.x,n.x),bp(e.y,t.y,n.y)}function wp(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Cp(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var a=[r,n];n=a[0],r=a[1]}return{min:n,max:r}}var Sp=.35;function Tp(e,t,n){return{min:Pp(e,t),max:Pp(e,n)}}function Pp(e,t){return"number"===typeof e?e:e[t]||0}var Op=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Ap=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function Ep(e){return[e("x"),e("y")]}function Ip(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Rp(e){return void 0===e||1===e}function kp(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Rp(t)||!Rp(n)||!Rp(r)}function Mp(e){return kp(e)||_p(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _p(e){return Dp(e.x)||Dp(e.y)}function Dp(e){return e&&"0%"!==e}function Lp(e,t,n){return n+t*(e-n)}function Vp(e,t,n,r,a){return void 0!==a&&(e=Lp(e,a,r)),Lp(e,n,r)+t}function Np(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=Vp(e.min,t,n,r,a),e.max=Vp(e.max,t,n,r,a)}function Bp(e,t){var n=t.x,r=t.y;Np(e.x,n.translate,n.scale,n.originPoint),Np(e.y,r.translate,r.scale,r.originPoint)}function Fp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Up(e,t){e.min=e.min+t,e.max=e.max+t}function jp(e,t,n){var r=Se(n,3),a=r[0],o=r[1],i=r[2],s=void 0!==t[i]?t[i]:.5,l=pd(e.min,e.max,s);Np(e,t[a],t[o],l,t.scale)}var Gp=["x","scaleX","originX"],zp=["y","scaleY","originY"];function Wp(e,t){jp(e.x,t,Gp),jp(e.y,t,zp)}function Hp(e,t){return Ip(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Kp=new WeakMap,qp=function(){function e(t){os(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ap(),this.visualElement=t}return ss(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,a=this.visualElement.presenceContext;if(!a||!1!==a.isPresent){this.panSession=new sp(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(oc(e,"page").point)},onStart:function(e,n){var r=t.getProps(),a=r.drag,o=r.dragPropagation,i=r.onDragStart;if(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=pc(a),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Ep((function(e){var n=t.getAxisMotionValue(e).get()||0;if(vu.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var a=r.layout.layoutBox[e];if(a)n=mp(a)*(parseFloat(n)/100)}}t.originPoint[e]=n})),i&&Gs.update((function(){return i(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),a=r.dragPropagation,o=r.dragDirectionLock,i=r.onDirectionLock,s=r.onDrag;if(a||t.openGlobalLock){var l=n.offset;if(o&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(l),void(null!==t.currentDirection&&i&&i(t.currentDirection));t.updateAxis("x",n.point,l),t.updateAxis("y",n.point,l),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var a=this.getProps().onDragEnd;a&&Gs.update((function(){return a(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&Xp(e,r,this.currentDirection)){var a=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,a=t.max;return void 0!==r&&e<r?e=n?pd(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?pd(a,e,n.max):Math.min(e,a)),e}(o,this.constraints[e],this.elastic[e])),a.set(o)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,a=(this.visualElement.projection||{}).layout,o=this.constraints;n&&El(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!a)&&function(e,t){var n=t.top,r=t.left,a=t.bottom,o=t.right;return{x:wp(e.x,r,o),y:wp(e.y,n,a)}}(a.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sp;return!1===e?e=0:!0===e&&(e=Sp),{x:Tp(e,"left","right"),y:Tp(e,"top","bottom")}}(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ep((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(a.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!El(t))return!1;var r=t.current;il(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var a=this.visualElement.projection;if(!a||!a.layout)return!1;var o=function(e,t,n){var r=Hp(e,n),a=t.scroll;return a&&(Up(r.x,a.offset.x),Up(r.y,a.offset.y)),r}(r,a.root,this.visualElement.getTransformPagePoint()),i=function(e,t){return{x:Cp(e.x,t.x),y:Cp(e.y,t.y)}}(a.layout.layoutBox,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!s,s&&(i=Ip(s))}return i}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,a=n.dragMomentum,o=n.dragElastic,i=n.dragTransition,s=n.dragSnapToOrigin,l=n.onDragTransitionEnd,u=this.constraints||{},c=Ep((function(n){if(Xp(n,r,t.currentDirection)){var l=u&&u[n]||{};s&&(l={min:0,max:0});var c=o?200:1e6,d=o?40:1e7,f=Ae(Ae({type:"inertia",velocity:a?e[n]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return t.startAxisValueAnimation(n,f)}}));return Promise.all(c).then(l)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(If(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;Ep((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;Ep((function(n){if(Xp(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,a=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.layoutBox[n],i=o.min,s=o.max;a.set(e[n]-pd(i,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,a=this.visualElement.projection;if(El(r)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Ep((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();o[t]=function(e,t){var n=.5,r=mp(e),a=mp(t);return a>r?n=_d(t.min,t.max-r,e.min):r>a&&(n=_d(e.min,e.max-a,t.min)),ou(0,1,n)}({min:r,max:r},e.constraints[t])}}));var i=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ep((function(t){if(Xp(t,n,null)){var r=e.getAxisMotionValue(t),a=e.constraints[t],i=a.min,s=a.max;r.set(pd(i,s,o[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){Kp.set(this.visualElement,this);var t=sc(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,a=n.dragListener;r&&(void 0===a||a)&&e.start(t)})),n=function(){El(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,a=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var o=rc(window,"resize",(function(){return e.scalePositionWithinConstraints()})),i=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(Ep((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){o(),t(),a(),i&&i()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,a=void 0!==r&&r,o=e.dragPropagation,i=void 0!==o&&o,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?Sp:u,d=e.dragMomentum,f=void 0===d||d;return Ae(Ae({},e),{},{drag:n,dragDirectionLock:a,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:f})}}]),e}();function Xp(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var Yp=function(e){Xs(n,e);var t=Js(n);function n(e){var r;return os(this,n),(r=t.call(this,e)).removeGroupControls=Bs,r.removeListeners=Bs,r.controls=new qp(e),r}return ss(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bs}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(gc),$p=function(e){return function(t,n){e&&Gs.update((function(){return e(t,n)}))}},Zp=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).removePointerDownListener=Bs,e}return ss(n,[{key:"onPointerDown",value:function(e){this.session=new sp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,a=t.onPan,o=t.onPanEnd;return{onSessionStart:$p(n),onStart:$p(r),onMove:a,onEnd:function(t,n){delete e.session,o&&Gs.update((function(){return o(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=sc(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(gc);function Qp(){var e=(0,a.useContext)(Ks);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=(0,a.useId)();(0,a.useEffect)((function(){return r(o)}),[]);return!t&&n?[!1,function(){return n&&n(o)}]:[!0]}function Jp(){return function(e){return null===e||e.isPresent}((0,a.useContext)(Ks))}var em={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var nm={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!hu.test(e))return e;e=parseFloat(e)}var n=tm(e,t.target.x),r=tm(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},rm={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,a=e,o=Ad.parse(e);if(o.length>5)return a;var i=Ad.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=u;var c=pd(l,u,.5);return"number"===typeof o[2+s]&&(o[2+s]/=c),"number"===typeof o[3+s]&&(o[3+s]/=c),i(o)}},am=function(e){Xs(n,e);var t=Js(n);function n(){return os(this,n),t.apply(this,arguments)}return ss(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,a=n.layoutGroup,o=n.switchLayoutGroup,i=n.layoutId,s=r.projection;e=im,Object.assign(Xl,e),s&&(a.group&&a.group.add(s),o&&o.register&&i&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Ae(Ae({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),em.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,a=n.visualElement,o=n.drag,i=n.isPresent,s=a.projection;return s?(s.isPresent=i,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Gs.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,a=t.projection;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(a.Component);function om(e){var t=Se(Qp(),2),n=t[0],r=t[1],o=(0,a.useContext)(al);return a.createElement(am,Ae(Ae({},e),{},{layoutGroup:o,switchLayoutGroup:(0,a.useContext)(jl),isPresent:n,safeToRemove:r}))}var im={borderRadius:Ae(Ae({},nm),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:nm,borderTopRightRadius:nm,borderBottomLeftRadius:nm,borderBottomRightRadius:nm,boxShadow:rm},sm=["TopLeft","TopRight","BottomLeft","BottomRight"],lm=sm.length,um=function(e){return"string"===typeof e?parseFloat(e):e},cm=function(e){return"number"===typeof e||hu.test(e)};function dm(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var fm=mm(0,.5,Jc),pm=mm(.5,.95,Bs);function mm(e,t,n){return function(r){return r<e?0:r>t?1:n(_d(e,t,r))}}function gm(e,t){e.min=t.min,e.max=t.max}function vm(e,t){gm(e.x,t.x),gm(e.y,t.y)}function hm(e,t,n,r,a){return e=Lp(e-=t,1/n,r),void 0!==a&&(e=Lp(e,1/a,r)),e}function ym(e,t,n,r,a){var o=Se(n,3),i=o[0],s=o[1],l=o[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(vu.test(t)&&(t=parseFloat(t),t=pd(i.min,i.max,t/100)-i.min),"number"===typeof t){var s=pd(o.min,o.max,r);e===o&&(s-=t),e.min=hm(e.min,t,n,s,a),e.max=hm(e.max,t,n,s,a)}}(e,t[i],t[s],t[l],t.scale,r,a)}var bm=["x","scaleX","originX"],xm=["y","scaleY","originY"];function wm(e,t,n,r){ym(e.x,t,bm,n?n.x:void 0,r?r.x:void 0),ym(e.y,t,xm,n?n.y:void 0,r?r.y:void 0)}function Cm(e){return 0===e.translate&&1===e.scale}function Sm(e){return Cm(e.x)&&Cm(e.y)}function Tm(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Pm(e){return mp(e.x)/mp(e.y)}var Om=function(){function e(){os(this,e),this.members=[]}return ss(e,[{key:"add",value:function(e){Mf(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(_f(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var a=this.members[r];if(!1!==a.isPresent){t=a;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function Am(e,t,n){var r="",a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(r="translate3d(".concat(a,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var i=n.rotate,s=n.rotateX,l=n.rotateY;i&&(r+="rotate(".concat(i,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),l&&(r+="rotateY(".concat(l,"deg) "))}var u=e.x.scale*t.x,c=e.y.scale*t.y;return 1===u&&1===c||(r+="scale(".concat(u,", ").concat(c,")")),r||"none"}var Em=function(e,t){return e.depth-t.depth},Im=function(){function e(){os(this,e),this.children=[],this.isDirty=!1}return ss(e,[{key:"add",value:function(e){Mf(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){_f(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(Em),this.isDirty=!1,this.children.forEach(e)}}]),e}();var Rm=["","X","Y","Z"],km=0,Mm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _m(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,a=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();os(this,e),this.id=km++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;Mm.totalNodes=Mm.resolvedTargetDeltas=Mm.recalculatedProjection=0,t.nodes.forEach(Vm),t.nodes.forEach(zm),t.nodes.forEach(Wm),t.nodes.forEach(Nm),e=Mm,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[].concat(Re(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0;for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Im)}return ss(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Df),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var a;this.isSVG=(a=e)instanceof SVGElement&&"svg"!==a.tagName,this.instance=e;var o=this.options,i=o.layoutId,s=o.layout,l=o.visualElement;if(l&&!l.current&&l.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||i)&&(this.isLayoutDirty=!0),t){var u,c=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,u&&u(),u=function(e,t){var n=performance.now(),r=function r(a){var o=a.timestamp-n;o>=t&&(zs(r),e(o-t))};return Gs.read(r,!0),function(){return zs(r)}}(c,250),em.hasAnimatedSinceResize&&(em.hasAnimatedSinceResize=!1,n.nodes.forEach(Gm))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&l&&(i||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,a=e.hasRelativeTargetChanged,o=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var i=n.options.transition||l.getDefaultTransition()||$m,s=l.getProps(),u=s.onLayoutAnimationStart,c=s.onLayoutAnimationComplete,d=!n.targetLayout||!Tm(n.targetLayout,o)||a,f=!r&&a;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||f||r&&(d||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,f);var p=Ae(Ae({},Ef(i,"layout")),{},{onPlay:u,onComplete:c});(l.shouldReduceMotion||n.options.layoutRoot)&&(p.delay=0,p.type=!1),n.startAnimation(p)}else r||Gm(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=o}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zs(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hm),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,a=r.layoutId,o=r.layout;if(void 0!==a||o){var i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Fm);this.isUpdating||this.nodes.forEach(Um),this.isUpdating=!1,this.nodes.forEach(jm),this.nodes.forEach(Dm),this.nodes.forEach(Lm),this.clearAllSnapshots();var e=performance.now();Ws.delta=ou(0,1e3/60,e-Ws.timestamp),Ws.timestamp=e,Ws.isProcessing=!0,Hs.update.process(Ws),Hs.preRender.process(Ws),Hs.render.process(Ws),Ws.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(Bm),this.sharedNodes.forEach(Km)}},{key:"scheduleUpdateProjection",value:function(){Gs.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;Gs.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ap(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:a(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(o){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Sm(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||Mp(this.latestValues)||a)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),Jm((e=r).x),Jm(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return Ap();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Up(t.x,n.offset.x),Up(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=Ap();vm(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],a=r.scroll,o=r.options;if(r!==this.root&&a&&o.layoutScroll){if(a.isRoot){vm(t,e);var i=this.root.scroll;i&&(Up(t.x,-i.offset.x),Up(t.y,-i.offset.y))}Up(t.x,a.offset.x),Up(t.y,a.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ap();vm(n,e);for(var r=0;r<this.path.length;r++){var a=this.path[r];!t&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),Mp(a.latestValues)&&Wp(n,a.latestValues)}return Mp(this.latestValues)&&Wp(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=Ap();vm(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&Mp(r.latestValues)){kp(r.latestValues)&&r.updateSnapshot();var a=Ap();vm(a,r.measurePageBox()),wm(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,a)}}return Mp(this.latestValues)&&wm(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=Ae(Ae(Ae({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var a=this.options,o=a.layout,i=a.layoutId;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=Ws.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ap(),this.relativeTargetOrigin=Ap(),xp(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),vm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var l,u,c;if(this.target||(this.target=Ap(),this.targetWithTransforms=Ap()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l=this.target,u=this.relativeTarget,c=this.relativeParent.target,yp(l.x,u.x,c.x),yp(l.y,u.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):vm(this.target,this.layout.layoutBox),Bp(this.target,this.targetDelta)):vm(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var d=this.getClosestProjectingParent();d&&Boolean(d.resumingFrom)===Boolean(this.resumingFrom)&&!d.options.layoutScroll&&d.target&&1!==this.animationProgress?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ap(),this.relativeTargetOrigin=Ap(),xp(this.relativeTargetOrigin,this.target,d.target),vm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mm.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!kp(this.parent.latestValues)&&!_p(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Ws.timestamp&&(r=!1),!r){var a=this.options,o=a.layout,i=a.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(o||i)){vm(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,l=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n.length;if(a){var o,i;t.x=t.y=1;for(var s=0;s<a;s++){i=(o=n[s]).projectionDelta;var l=o.instance;l&&l.style&&"contents"===l.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wp(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Bp(e,i)),r&&Mp(o.latestValues)&&Wp(e,o.latestValues))}t.x=Fp(t.x),t.y=Fp(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var u=t.target;if(u){this.projectionDelta||(this.projectionDelta=Op(),this.projectionDeltaWithTransform=Op());var c=this.projectionTransform;hp(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.projectionTransform=Am(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===l||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),Mm.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=Op(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,a=r?r.latestValues:{},o=Ae({},this.latestValues),i=Op();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,l=Ap(),u=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),d=!c||c.members.length<=1,f=Boolean(u&&!d&&!0===this.options.crossfade&&!this.path.some(Ym));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;qm(i.x,e.x,r),qm(i.y,e.y,r),t.setTargetDelta(i),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(xp(l,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){Xm(e.x,t.x,n.x,r),Xm(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,l,r),s&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=Ap()),vm(s,t.relativeTarget)),u&&(t.animationValues=o,function(e,t,n,r,a,o){a?(e.opacity=pd(0,void 0!==n.opacity?n.opacity:1,fm(r)),e.opacityExit=pd(void 0!==t.opacity?t.opacity:1,0,pm(r))):o&&(e.opacity=pd(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var i=0;i<lm;i++){var s="border".concat(sm[i],"Radius"),l=dm(t,s),u=dm(n,s);void 0===l&&void 0===u||(l||(l=0),u||(u=0),0===l||0===u||cm(l)===cm(u)?(e[s]=Math.max(pd(um(l),um(u),r),0),(vu.test(u)||vu.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=pd(t.rotate||0,n.rotate||0,r))}(o,a,t.latestValues,r,f,d)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gs.update((function(){em.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=Ql(e)?e:Nf(e);return r.start(If("",r,t,n)),r.animation}(0,1e3,Ae(Ae({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,a=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&eg(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Ap();var o=mp(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+o;var i=mp(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}vm(t,n),Wp(t,a),hp(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Om),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},a=0;a<Rm.length;a++){var o="rotate"+Rm[a];n[o]&&(r[o]=n[o],e.setStaticValue(o,0))}for(var i in e.render(),r)e.setStaticValue(i,r[i]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Zu(n.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none",r;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var i={};return this.options.layoutId&&(i.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,i.pointerEvents=Zu(n.pointerEvents)||""),this.hasProjected&&!Mp(this.latestValues)&&(i.transform=a?a({},""):"none",this.hasProjected=!1),i}var s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Am(this.projectionDeltaWithTransform,this.treeScale,s),a&&(r.transform=a(s,r.transform));var l=this.projectionDelta,u=l.x,c=l.y;for(var d in r.transformOrigin="".concat(100*u.origin,"% ").concat(100*c.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,Xl)if(void 0!==s[d]){var f=Xl[d],p=f.correct,m=f.applyTo,g="none"===r.transform?s[d]:p(s[d],o);if(m)for(var v=m.length,h=0;h<v;h++)r[m[h]]=g;else r[d]=g}return this.options.layoutId&&(r.pointerEvents=o===this?Zu(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Fm),this.root.sharedNodes.clear()}}]),e}()}function Dm(e){e.updateLayout()}function Lm(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,a=r.layoutBox,o=r.measuredBox,i=e.options.animationType,s=n.source!==e.layout.source;"size"===i?Ep((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=mp(t);t.min=a[e].min,t.max=t.min+r})):eg(i,n.layoutBox,a)&&Ep((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],o=mp(a[t]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+o)}));var l=Op();hp(l,a,n.layoutBox);var u=Op();s?hp(u,e.applyTransform(o,!0),n.measuredBox):hp(u,a,n.layoutBox);var c=!Sm(l),d=!1;if(!e.resumeFrom){var f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){var p=f.snapshot,m=f.layout;if(p&&m){var g=Ap();xp(g,n.layoutBox,p.layoutBox);var v=Ap();xp(v,a,m.layoutBox),Tm(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){var h=e.options.onExitComplete;h&&h()}e.options.transition=void 0}function Vm(e){Mm.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Nm(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Bm(e){e.clearSnapshot()}function Fm(e){e.clearMeasurements()}function Um(e){e.isLayoutDirty=!1}function jm(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zm(e){e.resolveTargetDelta()}function Wm(e){e.calcProjection()}function Hm(e){e.resetRotation()}function Km(e){e.removeLeadSnapshot()}function qm(e,t,n){e.translate=pd(t.translate,0,n),e.scale=pd(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xm(e,t,n,r){e.min=pd(t.min,n.min,r),e.max=pd(t.max,n.max,r)}function Ym(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var $m={duration:.45,ease:[.4,0,.1,1]},Zm=function(e){return"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e)},Qm=Zm("applewebkit/")&&!Zm("chrome/")?Math.round:Bs;function Jm(e){e.min=Qm(e.min),e.max=Qm(e.max)}function eg(e,t,n){return"position"===e||"preserve-aspect"===e&&!gp(Pm(t),Pm(n),.2)}var tg=_m({attachResizeListener:function(e,t){return rc(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),ng={current:void 0},rg=_m({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!ng.current){var e=new tg({});e.mount(window),e.setOptions({layoutScroll:!0}),ng.current=e}return ng.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),ag={pan:{Feature:Zp},drag:{Feature:Yp,ProjectionNode:rg,MeasureLayout:om}};var og=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var ig=4;function sg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;il(n<=ig,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=og.exec(e);if(!t)return[,];var n=Se(t,3);return[n[1],n[2]]}(e),a=Se(r,2),o=a[0],i=a[1];if(o){var s=window.getComputedStyle(t).getPropertyValue(o);if(s){var l=s.trim();return kf(l)?parseFloat(l):l}return ru(i)?sg(i,t,n+1):i}}function lg(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),a=e.current;if(!(a instanceof Element))return{target:r,transitionEnd:n};for(var o in n&&(n=Ae({},n)),e.values.forEach((function(e){var t=e.get();if(ru(t)){var n=sg(t,a);n&&e.set(n)}})),r){var i=r[o];if(ru(i)){var s=sg(i,a);s&&(r[o]=s,n||(n={}),void 0===n[o]&&(n[o]=i))}}return{target:r,transitionEnd:n}}var ug=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cg=function(e){return ug.has(e)},dg=function(e){return e===iu||e===hu},fg=function(e,t){return parseFloat(e.split(", ")[t])},pg=function(e,t){return function(n,r){var a=r.transform;if("none"===a||!a)return 0;var o=a.match(/^matrix3d\((.+)\)$/);if(o)return fg(o[1],t);var i=a.match(/^matrix\((.+)\)$/);return i?fg(i[1],e):0}},mg=new Set(["x","y","z"]),gg=Yl.filter((function(e){return!mg.has(e)}));var vg={width:function(e,t){var n=e.x,r=t.paddingLeft,a=void 0===r?"0":r,o=t.paddingRight,i=void 0===o?"0":o;return n.max-n.min-parseFloat(a)-parseFloat(i)},height:function(e,t){var n=e.y,r=t.paddingTop,a=void 0===r?"0":r,o=t.paddingBottom,i=void 0===o?"0":o;return n.max-n.min-parseFloat(a)-parseFloat(i)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:pg(4,13),y:pg(5,14)};vg.translateX=vg.x,vg.translateY=vg.y;var hg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Ae({},t),r=Ae({},r);var a=Object.keys(t).filter(cg),o=[],i=!1,s=[];if(a.forEach((function(a){var l=e.getValue(a);if(e.hasValue(a)){var u,c=n[a],d=Uf(c),f=t[a];if(Xu(f)){var p=f.length,m=null===f[0]?1:0;c=f[m],d=Uf(c);for(var g=m;g<p&&null!==f[g];g++)u?il(Uf(f[g])===u,"All keyframes must be of the same type"):(u=Uf(f[g]),il(u===d||dg(d)&&dg(u),"Keyframes must be of the same dimension as the current value"))}else u=Uf(f);if(d!==u)if(dg(d)&&dg(u)){var v=l.get();"string"===typeof v&&l.set(parseFloat(v)),"string"===typeof f?t[a]=parseFloat(f):Array.isArray(f)&&u===hu&&(t[a]=f.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===f)?0===c?l.set(u.transform(c)):t[a]=d.transform(f):(i||(o=function(e){var t=[];return gg.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),i=!0),s.push(a),r[a]=void 0!==r[a]?r[a]:t[a],l.jump(f))}})),s.length){var l=s.indexOf("height")>=0?window.pageYOffset:null,u=function(e,t,n){var r=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),i=o.display,s={};"none"===i&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=vg[e](r,o)})),t.render();var l=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=vg[n](l,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var n=Se(t,2),r=n[0],a=n[1];e.getValue(r).set(a)})),e.render(),Ls&&null!==l&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}};function yg(e,t,n,r){return function(e){return Object.keys(e).some(cg)}(t)?hg(e,t,n,r):{target:t,transitionEnd:r}}var bg={current:null},xg={current:!1};var wg=new WeakMap,Cg=["willChange"],Sg=["children"],Tg=Object.keys(Bl),Pg=Tg.length,Og=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ag=Ml.length,Eg=function(){function e(t){var n=this,r=t.parent,a=t.props,o=t.presenceContext,i=t.reducedMotionConfig,s=t.visualState,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};os(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return Gs.render(n.render,!1,!0)};var u=s.latestValues,c=s.renderState;this.latestValues=u,this.baseTarget=Ae({},u),this.initialValues=a.initial?Ae({},u):{},this.renderState=c,this.parent=r,this.props=a,this.presenceContext=o,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=_l(a),this.isVariantNode=Dl(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var d=this.scrapeMotionValuesFromProps(a,{}),f=d.willChange,p=Ee(d,Cg);for(var m in p){var g=p[m];void 0!==u[m]&&Ql(g)&&(g.set(u[m],!1),Rf(f)&&f.add(m))}}return ss(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,wg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),xg.current||function(){if(xg.current=!0,Ls)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return bg.current=e.matches};e.addListener(t),t()}else bg.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||bg.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in wg.delete(this.current),this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=$l.has(e),a=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&Gs.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){a(),o()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var a,o,i=this,s=(e.children,Ee(e,Sg)),l=0;l<Pg;l++){var u=Tg[l],c=Bl[u],d=c.isEnabled,f=c.Feature,p=c.ProjectionNode,m=c.MeasureLayout;p&&(a=p),d(s)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if(!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);var g=s.layoutId,v=s.layout,h=s.drag,y=s.dragConstraints,b=s.layoutScroll,x=s.layoutRoot;this.projection.setOptions({layoutId:g,layout:v,alwaysMeasureLayout:Boolean(h)||y&&El(y),visualElement:this,scheduleRender:function(){return i.scheduleRender()},animationType:"string"===typeof v?v:"both",initialPromotionConfig:r,layoutScroll:b,layoutRoot:x})}return o}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ap()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<Og.length;n++){var r=Og[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var a in t){var o=t[a],i=n[a];if(Ql(o))e.addValue(a,o),Rf(r)&&r.add(a);else if(Ql(i))e.addValue(a,Nf(o,{owner:e})),Rf(r)&&r.remove(a);else if(i!==o)if(e.hasValue(a)){var s=e.getValue(a);!s.hasAnimated&&s.set(o)}else{var l=e.getStaticValue(a);e.addValue(a,Nf(void 0!==l?l:o,{owner:e}))}}for(var u in n)void 0===t[u]&&e.removeValue(u);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<Ag;n++){var r=Ml[n],a=this.props[r];(Il(a)||!1===a)&&(t[r]=a)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Nf(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=qu(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var a=this.getBaseTargetFromProps(this.props,e);return void 0===a||Ql(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Df),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),Ig=["transition","transitionEnd"],Rg=function(e){Xs(n,e);var t=Js(n);function n(){return os(this,n),t.apply(this,arguments)}return ss(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,a=e.transitionEnd,o=Ee(e,Ig),i=t.transformValues,s=function(e,t,n){var r={};for(var a in e){var o=Hf(a,t);if(void 0!==o)r[a]=o;else{var i=n.getValue(a);i&&(r[a]=i.get())}}return r}(o,r||{},this);if(i&&(a&&(a=i(a)),o&&(o=i(o)),s&&(s=i(s))),n){!function(e,t,n){var r,a,o,i=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=i.length;if(s)for(var l=0;l<s;l++){var u=i[l],c=t[u],d=null;Array.isArray(c)&&(d=c[0]),null===d&&(d=null!==(a=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==a?a:t[u]),void 0!==d&&null!==d&&("string"===typeof d&&(kf(d)||Pf(d))?d=parseFloat(d):(o=d,!jf.find(Bf(o))&&Ad.test(c)&&(d=Tf(u,c))),e.addValue(u,Nf(d,{owner:e})),void 0===n[u]&&(n[u]=d),null!==d&&e.setBaseTarget(u,d))}}(this,o,s);var l=function(e,t,n,r){var a=lg(e,t,r);return yg(e,t=a.target,n,r=a.transitionEnd)}(this,o,s,a);a=l.transitionEnd,o=l.target}return Ae({transition:r,transitionEnd:a},o)}}]),n}(Eg);var kg=function(e){Xs(n,e);var t=Js(n);function n(){return os(this,n),t.apply(this,arguments)}return ss(n,[{key:"readValueFromInstance",value:function(e,t){if($l.has(t)){var n=Sf(t);return n&&n.default||0}var r,a=(r=e,window.getComputedStyle(r)),o=(nu(t)?a.getPropertyValue(t):a[t])||0;return"string"===typeof o?o.trim():o}},{key:"measureInstanceViewportBox",value:function(e,t){return Hp(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){Su(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Hu(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;Ql(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){Gu(e,t,n,r)}}]),n}(Rg);function Mg(){return Mg="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ys(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Mg.apply(this,arguments)}var _g=function(e){Xs(n,e);var t=Js(n);function n(){var e;return os(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return ss(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if($l.has(t)){var n=Sf(t);return n&&n.default||0}return t=zu.has(t)?t:ju(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return Ap()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Ku(e,t)}},{key:"build",value:function(e,t,n,r){Vu(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){Wu(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Bu(e.tagName),Mg(Ys(n.prototype),"mount",this).call(this,e)}}]),n}(Rg),Dg=function(e,t){return ql(e)?new _g(t,{enableHardwareAcceleration:!1}):new kg(t,{enableHardwareAcceleration:!0})},Lg={layout:{ProjectionNode:rg,MeasureLayout:om}},Vg=Ae(Ae(Ae(Ae({},op),Rc),ag),Lg),Ng=Hl((function(e,t){return function(e,t,n,r){var a=t.forwardMotionProps,o=void 0!==a&&a;return Ae(Ae({},ql(e)?tc:nc),{},{preloadedFeatures:n,useRender:Uu(o),createVisualElement:r,Component:e})}(e,t,Vg,Dg)}));var Bg=["unmountOnExit","in","className","transition","transitionEnd","delay"],Fg={enter:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.transition,r=t.transitionEnd,a=t.delay;return{opacity:1,transition:null!=(e=null==n?void 0:n.enter)?e:Sl(Cl.enter,a),transitionEnd:null==r?void 0:r.enter}},exit:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.transition,r=t.transitionEnd,a=t.delay;return{opacity:0,transition:null!=(e=null==n?void 0:n.exit)?e:Tl(Cl.exit,a),transitionEnd:null==r?void 0:r.exit}}},Ug={initial:"exit",animate:"enter",exit:"exit",variants:Fg},jg=(0,a.forwardRef)((function(e,t){var n=e.unmountOnExit,r=e.in,a=e.className,o=e.transition,i=e.transitionEnd,s=e.delay,l=Ee(e,Bg),u=r||n?"enter":"exit",c=!n||r&&n,d={transition:o,transitionEnd:i,delay:s};return(0,Ea.jsx)(ll,{custom:d,children:c&&(0,Ea.jsx)(Ng.div,Ae(Ae({ref:t,className:_e("chakra-fade",a),custom:d},Ug),{},{animate:u},l))})}));jg.displayName="Fade";var Gg=["className","transition","motionProps"],zg=Oa(Ng.div),Wg=Aa((function(e,t){var n=e.className,r=(e.transition,e.motionProps),a=Ee(e,Gg),o=_e("chakra-modal__overlay",n),i=Ae({pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh"},dl().overlay),s=ml().motionPreset,l=r||("none"===s?{}:Ug);return(0,Ea.jsx)(zg,Ae(Ae({},l),{},{__css:i,ref:t,className:o},a))}));Wg.displayName="ModalOverlay";var Hg=["unmountOnExit","in","reverse","className","offsetX","offsetY","transition","transitionEnd","delay"],Kg={initial:function(e){var t,n=e.offsetX,r=e.offsetY,a=e.transition,o=e.transitionEnd,i=e.delay;return{opacity:0,x:n,y:r,transition:null!=(t=null==a?void 0:a.exit)?t:Tl(Cl.exit,i),transitionEnd:null==o?void 0:o.exit}},enter:function(e){var t,n=e.transition,r=e.transitionEnd,a=e.delay;return{opacity:1,x:0,y:0,transition:null!=(t=null==n?void 0:n.enter)?t:Sl(Cl.enter,a),transitionEnd:null==r?void 0:r.enter}},exit:function(e){var t,n=e.offsetY,r=e.offsetX,a=e.transition,o=e.transitionEnd,i=e.reverse,s=e.delay,l={x:r,y:n};return Ae({opacity:0,transition:null!=(t=null==a?void 0:a.exit)?t:Tl(Cl.exit,s)},i?Ae(Ae({},l),{},{transitionEnd:null==o?void 0:o.exit}):{transitionEnd:Ae(Ae({},l),null==o?void 0:o.exit)})}},qg={initial:"initial",animate:"enter",exit:"exit",variants:Kg},Xg=(0,a.forwardRef)((function(e,t){var n=e.unmountOnExit,r=e.in,a=e.reverse,o=void 0===a||a,i=e.className,s=e.offsetX,l=void 0===s?0:s,u=e.offsetY,c=void 0===u?8:u,d=e.transition,f=e.transitionEnd,p=e.delay,m=Ee(e,Hg),g=!n||r&&n,v=r||n?"enter":"exit",h={offsetX:l,offsetY:c,reverse:o,transition:d,transitionEnd:f,delay:p};return(0,Ea.jsx)(ll,{custom:h,children:g&&(0,Ea.jsx)(Ng.div,Ae(Ae({ref:t,className:_e("chakra-offset-slide",i),custom:h},qg),{},{animate:v},m))})}));Xg.displayName="SlideFade";var Yg=["unmountOnExit","in","reverse","initialScale","className","transition","transitionEnd","delay"],$g={exit:function(e){var t,n=e.reverse,r=e.initialScale,a=e.transition,o=e.transitionEnd,i=e.delay;return Ae(Ae({opacity:0},n?{scale:r,transitionEnd:null==o?void 0:o.exit}:{transitionEnd:Ae({scale:r},null==o?void 0:o.exit)}),{},{transition:null!=(t=null==a?void 0:a.exit)?t:Tl(Cl.exit,i)})},enter:function(e){var t,n=e.transitionEnd,r=e.transition,a=e.delay;return{opacity:1,scale:1,transition:null!=(t=null==r?void 0:r.enter)?t:Sl(Cl.enter,a),transitionEnd:null==n?void 0:n.enter}}},Zg={initial:"exit",animate:"enter",exit:"exit",variants:$g},Qg=(0,a.forwardRef)((function(e,t){var n=e.unmountOnExit,r=e.in,a=e.reverse,o=void 0===a||a,i=e.initialScale,s=void 0===i?.95:i,l=e.className,u=e.transition,c=e.transitionEnd,d=e.delay,f=Ee(e,Yg),p=!n||r&&n,m=r||n?"enter":"exit",g={initialScale:s,reverse:o,transition:u,transitionEnd:c,delay:d};return(0,Ea.jsx)(ll,{custom:g,children:p&&(0,Ea.jsx)(Ng.div,Ae(Ae({ref:t,className:_e("chakra-offset-slide",l)},Zg),{},{animate:m,custom:g},f))})}));Qg.displayName="ScaleFade";var Jg=["preset","motionProps"],ev={slideInBottom:Ae(Ae({},qg),{},{custom:{offsetY:16,reverse:!0}}),slideInRight:Ae(Ae({},qg),{},{custom:{offsetX:16,reverse:!0}}),slideInTop:Ae(Ae({},qg),{},{custom:{offsetY:-16,reverse:!0}}),slideInLeft:Ae(Ae({},qg),{},{custom:{offsetX:-16,reverse:!0}}),scale:Ae(Ae({},Zg),{},{custom:{initialScale:.95,reverse:!0}}),none:{}},tv=Oa(Ng.section),nv=(0,a.forwardRef)((function(e,t){var n=e.preset,r=e.motionProps,a=void 0===r?function(e){return ev[e||"none"]}(n):r,o=Ee(e,Jg);return(0,Ea.jsx)(tv,Ae(Ae({ref:t},a),o))}));nv.displayName="ModalTransition";var rv="data-focus-lock",av="data-focus-lock-disabled";function ov(e,t){return function(e,t){var n=(0,a.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var iv={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},sv=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:iv}),t,t&&a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:iv}))};sv.propTypes={},sv.defaultProps={children:null};var lv=function(){return lv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},lv.apply(this,arguments)};function uv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function cv(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function dv(e){return e}function fv(e,t){void 0===t&&(t=dv);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(o)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}}}function pv(e,t){return void 0===t&&(t=dv),fv(e,t)}function mv(e){void 0===e&&(e={});var t=fv(null);return t.options=lv({async:!0,ssr:!1},e),t}var gv=pv({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),vv=pv(),hv=pv(),yv=mv({async:!0}),bv=[],xv=a.forwardRef((function(e,t){var n,r=a.useState(),o=r[0],i=r[1],s=a.useRef(),l=a.useRef(!1),c=a.useRef(null),d=e.children,f=e.disabled,p=e.noFocusGuards,m=e.persistentFocus,g=e.crossFrame,v=e.autoFocus,h=(e.allowTextSelection,e.group),y=e.className,b=e.whiteList,x=e.hasPositiveIndices,w=e.shards,C=void 0===w?bv:w,S=e.as,T=void 0===S?"div":S,P=e.lockProps,O=void 0===P?{}:P,A=e.sideCar,E=e.returnFocus,I=e.focusOptions,R=e.onActivation,k=e.onDeactivation,M=a.useState({})[0],_=a.useCallback((function(){c.current=c.current||document&&document.activeElement,s.current&&R&&R(s.current),l.current=!0}),[R]),D=a.useCallback((function(){l.current=!1,k&&k(s.current)}),[k]);(0,a.useEffect)((function(){f||(c.current=null)}),[]);var L=a.useCallback((function(e){var t=c.current;if(t&&t.focus){var n="function"===typeof E?E(t):E;if(n){var r="object"===typeof n?n:void 0;c.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[E]),V=a.useCallback((function(e){l.current&&gv.useMedium(e)}),[]),N=vv.useMedium,B=a.useCallback((function(e){s.current!==e&&(s.current=e,i(e))}),[]);var F=u(((n={})[av]=f&&"disabled",n[rv]=h,n),O),U=!0!==p,j=U&&"tail"!==p,G=ov([t,B]);return a.createElement(a.Fragment,null,U&&[a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:iv}),x?a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:iv}):null],!f&&a.createElement(A,{id:M,sideCar:yv,observed:o,disabled:f,persistentFocus:m,crossFrame:g,autoFocus:v,whiteList:b,shards:C,onActivation:_,onDeactivation:D,returnFocus:L,focusOptions:I}),a.createElement(T,u({ref:G},F,{className:y,onBlur:N,onFocus:V}),d),j&&a.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:iv}))}));xv.propTypes={},xv.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var wv=xv;var Cv=function(e,t){return function(n){var r,o=[];function i(){r=e(o.map((function(e){return e.props}))),t(r)}var s=function(e){function t(){return e.apply(this,arguments)||this}l(t,e),t.peek=function(){return r};var s=t.prototype;return s.componentDidMount=function(){o.push(this),i()},s.componentDidUpdate=function(){i()},s.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),i()},s.render=function(){return a.createElement(n,this.props)},t}(a.PureComponent);return Pe(s,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),s}},Sv=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Tv=function(e){return Array.isArray(e)?e:[e]},Pv=function(e){return Array.isArray(e)?e[0]:e},Ov=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Av=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Ev=function(e,t){return!e||Av(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(Ov(e))},Iv=function e(t,n){var r=t.get(n);if(void 0!==r)return r;var a=Ev(n,e.bind(void 0,t));return t.set(n,a),a},Rv=function e(t,n){var r=t.get(n);if(void 0!==r)return r;var a=function(e,t){return!(e&&!Av(e))||!!Dv(e)&&t(Ov(e))}(n,e.bind(void 0,t));return t.set(n,a),a},kv=function(e){return e.dataset},Mv=function(e){return"INPUT"===e.tagName},_v=function(e){return Mv(e)&&"radio"===e.type},Dv=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},Lv=function(e){var t;return Boolean(e&&(null===(t=kv(e))||void 0===t?void 0:t.focusGuard))},Vv=function(e){return!Lv(e)},Nv=function(e){return Boolean(e)},Bv=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Fv=function(e,t,n){return Sv(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(Bv)},Uv=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),jv="".concat(Uv,", [data-focus-guard]"),Gv=function e(t,n){return Sv((t.shadowRoot||t).children).reduce((function(t,r){return t.concat(r.matches(n?jv:Uv)?[r]:[],e(r))}),[])},zv=function(e,t){var n;return e instanceof HTMLIFrameElement&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?Wv([e.contentDocument.body],t):[e]},Wv=function(e,t){return e.reduce((function(e,n){var r,a=Gv(n,t),o=(r=[]).concat.apply(r,a.map((function(e){return zv(e,t)})));return e.concat(o,n.parentNode?Sv(n.parentNode.querySelectorAll(Uv)).filter((function(e){return e===n})):[])}),[])},Hv=function(e,t){return Sv(e).filter((function(e){return Iv(t,e)})).filter((function(e){return function(e){return!((Mv(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},Kv=function(e,t){return void 0===t&&(t=new Map),Sv(e).filter((function(e){return Rv(t,e)}))},qv=function(e,t,n){return Fv(Hv(Wv(e,n),t),!0,n)},Xv=function(e,t){return Fv(Hv(Wv(e),t),!1)},Yv=function(e,t){return Hv(function(e){var t=e.querySelectorAll("[".concat("data-autofocus-inside","]"));return Sv(t).map((function(e){return Wv([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},$v=function e(t,n){return t.shadowRoot?e(t.shadowRoot,n):!(void 0===Object.getPrototypeOf(t).contains||!Object.getPrototypeOf(t).contains.call(t,n))||Sv(t.children).some((function(t){var r;if(t instanceof HTMLIFrameElement){var a=null===(r=t.contentDocument)||void 0===r?void 0:r.body;return!!a&&e(a,n)}return e(t,n)}))},Zv=function e(t){if(void 0===t&&(t=document),t&&t.activeElement){var n=t.activeElement;return n.shadowRoot?e(n.shadowRoot):n instanceof HTMLIFrameElement&&function(e){try{return e()}catch(t){return}}((function(){return n.contentWindow.document}))?e(n.contentWindow.document):n}},Qv=function e(t){return t.parentNode?e(t.parentNode):t},Jv=function(e){return Tv(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(rv);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var a=r+1;a<n;a+=1){var o=e[r].compareDocumentPosition(e[a]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(a),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(Sv(Qv(t).querySelectorAll("[".concat(rv,'="').concat(n,'"]:not([').concat(av,'="disabled"])')))):[t]),e}),[])},eh=function(e,t){return void 0===t&&(t=Zv(Pv(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&Jv(e).some((function(e){return $v(e,t)||function(e,t){return Boolean(Sv(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)})))}(e,t)}))},th=function(e,t){return _v(e)&&e.name?function(e,t){return t.filter(_v).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},nh=function(e){return e[0]&&e.length>1?th(e[0],e):e[0]},rh=function(e,t){return e.length>1?e.indexOf(th(e[t],e)):t},ah="NEW_FOCUS",oh=function(e,t,n,r){var a=e.length,o=e[0],i=e[a-1],s=Lv(n);if(!(n&&e.indexOf(n)>=0)){var l=void 0!==n?t.indexOf(n):-1,u=r?t.indexOf(r):l,c=r?e.indexOf(r):-1,d=l-u,f=t.indexOf(o),p=t.indexOf(i),m=function(e){var t=new Set;return e.forEach((function(n){return t.add(th(n,e))})),e.filter((function(e){return t.has(e)}))}(t),g=(void 0!==n?m.indexOf(n):-1)-(r?m.indexOf(r):l),v=rh(e,0),h=rh(e,a-1);return-1===l||-1===c?ah:!d&&c>=0?c:l<=f&&s&&Math.abs(d)>1?h:l>=p&&s&&Math.abs(d)>1?v:d&&Math.abs(g)>1?c:l<=f?h:l>p?v:d?Math.abs(d)>1?c:(a+c+d)%a:void 0}},ih=function(e,t,n){var r,a=e.map((function(e){return e.node})),o=Kv(a.filter((r=n,function(e){var t,n=null===(t=kv(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==n&&"false"!==n||r.indexOf(e)>=0})));return o&&o.length?nh(o):nh(Kv(t))},sh=function e(t,n){return void 0===n&&(n=[]),n.push(t),t.parentNode&&e(t.parentNode.host||t.parentNode,n),n},lh=function(e,t){for(var n=sh(e),r=sh(t),a=0;a<n.length;a+=1){var o=n[a];if(r.indexOf(o)>=0)return o}return!1},uh=function(e,t,n){var r=Tv(e),a=Tv(t),o=r[0],i=!1;return a.filter(Boolean).forEach((function(e){i=lh(i||e,e)||i,n.filter(Boolean).forEach((function(e){var t=lh(o,e);t&&(i=!i||$v(t,i)?t:lh(t,i))}))})),i},ch=function(e,t){var n=Zv(Tv(e).length>0?document:Pv(e).ownerDocument),r=Jv(e).filter(Vv),a=uh(n||e,e,r),o=new Map,i=Xv(r,o),s=qv(r,o).filter((function(e){var t=e.node;return Vv(t)}));if(s[0]||(s=i)[0]){var l=Xv([a],o).map((function(e){return e.node})),u=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(Nv)}(l,s),c=u.map((function(e){return e.node})),d=oh(c,l,n,t);if(d===ah){var f=ih(i,c,function(e,t){return e.reduce((function(e,n){return e.concat(Yv(n,t))}),[])}(r,o));return f?{node:f}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===d?d:u[d]}},dh=0,fh=!1,ph=function(e,t,n){void 0===n&&(n={});var r,a,o=ch(e,t);if(!fh&&o){if(dh>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),fh=!0,void setTimeout((function(){fh=!1}),1);dh++,r=o.node,a=n.focusOptions,"focus"in r&&r.focus(a),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),dh--}};function mh(e){setTimeout(e,1)}var gh=function(){return document&&document.activeElement===document.body||function(e){void 0===e&&(e=document);var t=Zv(e);return!!t&&Sv(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(e){return $v(e,t)}))}()},vh=null,hh=null,yh=null,bh=!1,xh=function(){return!0};function wh(e,t,n,r){var a=null,o=e;do{var i=r[o];if(i.guard)i.node.dataset.focusAutoGuard&&(a=i);else{if(!i.lockItem)break;if(o!==e)return;a=null}}while((o+=n)!==t);a&&(a.node.tabIndex=0)}var Ch=function(e){return e&&"current"in e?e.current:e},Sh=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Th=function(){var e,t=!1;if(vh){var n=vh,r=n.observed,a=n.persistentFocus,o=n.autoFocus,i=n.shards,s=n.crossFrame,l=n.focusOptions,u=r||yh&&yh.portaledElement,c=document&&document.activeElement;if(u){var d=[u].concat(i.map(Ch).filter(Boolean));if(c&&!function(e){return(vh.whiteList||xh)(e)}(c)||(a||(s?Boolean(bh):"meanwhile"===bh)||!gh()||!hh&&o)&&(u&&!(eh(d)||c&&function(e,t){return t.some((function(t){return Sh(e,t,t)}))}(c,d)||(e=c,yh&&yh.portaledElement===e))&&(document&&!hh&&c&&!o?(c.blur&&c.blur(),document.body.focus()):(t=ph(d,hh,{focusOptions:l}),yh={})),bh=!1,hh=document&&document.activeElement),document){var f=document&&document.activeElement,p=function(e){var t=Jv(e).filter(Vv),n=uh(e,e,t),r=new Map,a=qv([n],r,!0),o=qv(t,r).filter((function(e){var t=e.node;return Vv(t)})).map((function(e){return e.node}));return a.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:Lv(t)}}))}(d),m=p.map((function(e){return e.node})).indexOf(f);m>-1&&(p.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),wh(m,p.length,1,p),wh(m,-1,-1,p))}}}return t},Ph=function(e){Th()&&e&&(e.stopPropagation(),e.preventDefault())},Oh=function(){return mh(Th)},Ah=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(yh={observerNode:n,portaledElement:t})},Eh=function(){bh="just",mh((function(){bh="meanwhile"}))};gv.assignSyncMedium(Ah),vv.assignMedium(Oh),hv.assignMedium((function(e){return e({moveFocusInside:ph,focusInside:eh})}));var Ih=Cv((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!vh&&(document.addEventListener("focusin",Ph),document.addEventListener("focusout",Oh),window.addEventListener("blur",Eh));var n=vh,r=n&&t&&t.id===n.id;vh=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(hh=null,r&&n.observed===t.observed||t.onActivation(),Th(),mh(Th)):(document.removeEventListener("focusin",Ph),document.removeEventListener("focusout",Oh),window.removeEventListener("blur",Eh),hh=null)}))((function(){return null})),Rh=a.forwardRef((function(e,t){return a.createElement(wv,u({sideCar:Ih,ref:t},e))})),kh=wv.propTypes||{};kh.sideCar,W(kh,["sideCar"]);Rh.propTypes={};var Mh=Rh;function _h(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function Dh(e){var t;return!!_h(e)&&e instanceof(null!=(t=e.ownerDocument.defaultView)?t:window).HTMLElement}function Lh(e){return _h(e)?e.ownerDocument:document}var Vh=function(e){return e.hasAttribute("tabindex")},Nh=function(e){return Vh(e)&&-1===e.tabIndex};function Bh(e){return!(!e.parentElement||!Bh(e.parentElement))||e.hidden}function Fh(e){if(!Dh(e)||Bh(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;var t=e.localName;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;var n={a:function(){return e.hasAttribute("href")},audio:function(){return e.hasAttribute("controls")},video:function(){return e.hasAttribute("controls")}};return t in n?n[t]():!!function(e){var t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||Vh(e)}var Uh,jh=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),Gh=function(e){return e.offsetWidth>0&&e.offsetHeight>0};function zh(e){var t=Array.from(e.querySelectorAll(jh));return t.unshift(e),t.filter((function(e){return Fh(e)&&Gh(e)}))}var Wh=null!=(Uh=Mh.default)?Uh:Mh,Hh=function(e){var t=e.initialFocusRef,n=e.finalFocusRef,r=e.contentRef,o=e.restoreFocus,i=e.children,s=e.isDisabled,l=e.autoFocus,u=e.persistentFocus,c=e.lockFocusAcrossFrames,d=(0,a.useCallback)((function(){if(null==t?void 0:t.current)t.current.focus();else if(null==r?void 0:r.current){0===zh(r.current).length&&requestAnimationFrame((function(){var e;null==(e=r.current)||e.focus()}))}}),[t,r]),f=(0,a.useCallback)((function(){var e;null==(e=null==n?void 0:n.current)||e.focus()}),[n]),p=o&&!n;return(0,Ea.jsx)(Wh,{crossFrame:c,persistentFocus:u,autoFocus:l,disabled:s,onActivation:d,onDeactivation:f,returnFocus:p,children:i})};Hh.displayName="FocusLock";var Kh="right-scroll-bar-position",qh="width-before-scroll-bar",Xh=mv(),Yh=function(){},$h=a.forwardRef((function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:Yh,onWheelCapture:Yh,onTouchMoveCapture:Yh}),o=r[0],i=r[1],s=e.forwardProps,l=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,h=e.as,y=void 0===h?"div":h,b=e.gapMode,x=uv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,C=ov([n,t]),S=lv(lv({},x),o);return a.createElement(a.Fragment,null,d&&a.createElement(w,{sideCar:Xh,removeScrollBar:c,shards:f,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),s?a.cloneElement(a.Children.only(l),lv(lv({},S),{ref:C})):a.createElement(y,lv({},S,{className:u,ref:C}),l))}));$h.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},$h.classNames={fullWidth:qh,zeroRight:Kh};var Zh,Qh=function(e){var t=e.sideCar,n=uv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,lv({},n))};Qh.isSideCarExport=!0;function Jh(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Zh||n.nc;return t&&e.setAttribute("nonce",t),e}var ey=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=Jh())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ty=function(){var e=function(){var e=ey();return function(t,n){a.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},ny={left:0,top:0,right:0,gap:0},ry=function(e){return parseInt(e||"",10)||0},ay=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return ny;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[ry(n),ry(r),ry(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},oy=ty(),iy=function(e,t,n,r){var a=e.left,o=e.top,i=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Kh," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(qh," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Kh," .").concat(Kh," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(qh," .").concat(qh," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},sy=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=void 0===r?"margin":r,i=a.useMemo((function(){return ay(o)}),[o]);return a.createElement(oy,{styles:iy(i,!t,o,n?"":"!important")})},ly=!1;if("undefined"!==typeof window)try{var uy=Object.defineProperty({},"passive",{get:function(){return ly=!0,!0}});window.addEventListener("test",uy,uy),window.removeEventListener("test",uy,uy)}catch(wJ){ly=!1}var cy=!!ly&&{passive:!1},dy=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},fy=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),py(e,r)){var a=my(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},py=function(e,t){return"v"===e?function(e){return dy(e,"overflowY")}(t):function(e){return dy(e,"overflowX")}(t)},my=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},gy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vy=function(e){return[e.deltaX,e.deltaY]},hy=function(e){return e&&"current"in e?e.current:e},yy=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},by=0,xy=[];function wy(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var Cy,Sy=(Cy=function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),o=a.useState(by++)[0],i=a.useState(ty)[0],s=a.useRef(e);a.useEffect((function(){s.current=e}),[e]),a.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=cv([e.lockRef.current],(e.shards||[]).map(hy),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var a,o=gy(e),i=n.current,l="deltaX"in e?e.deltaX:i[0]-o[0],u="deltaY"in e?e.deltaY:i[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=fy(d,c);if(!f)return!0;if(f?a=d:(a="v"===d?"h":"v",f=fy(d,c)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||u)&&(r.current=a),!a)return!0;var p=r.current||a;return function(e,t,n,r,a){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=o*r,s=n.target,l=t.contains(s),u=!1,c=i>0,d=0,f=0;do{var p=my(e,s),m=p[0],g=p[1]-p[2]-o*m;(m||g)&&py(e,s)&&(d+=g,f+=m),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(c&&(a&&Math.abs(d)<1||!a&&i>d)||!c&&(a&&Math.abs(f)<1||!a&&-i>f))&&(u=!0),u}(p,t,e,"h"===p?l:u,!0)}),[]),u=a.useCallback((function(e){var n=e;if(xy.length&&xy[xy.length-1]===i){var r="deltaY"in n?vy(n):gy(n),a=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a}))[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var o=(s.current.shards||[]).map(hy).filter(Boolean).filter((function(e){return e.contains(n.target)}));(o.length>0?l(n,o[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),c=a.useCallback((function(e,n,r,a){var o={name:e,delta:n,target:r,should:a,shadowParent:wy(r)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),d=a.useCallback((function(e){n.current=gy(e),r.current=void 0}),[]),f=a.useCallback((function(t){c(t.type,vy(t),t.target,l(t,e.lockRef.current))}),[]),p=a.useCallback((function(t){c(t.type,gy(t),t.target,l(t,e.lockRef.current))}),[]);a.useEffect((function(){return xy.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,cy),document.addEventListener("touchmove",u,cy),document.addEventListener("touchstart",d,cy),function(){xy=xy.filter((function(e){return e!==i})),document.removeEventListener("wheel",u,cy),document.removeEventListener("touchmove",u,cy),document.removeEventListener("touchstart",d,cy)}}),[]);var m=e.removeScrollBar,g=e.inert;return a.createElement(a.Fragment,null,g?a.createElement(i,{styles:yy(o)}):null,m?a.createElement(sy,{gapMode:e.gapMode}):null)},Xh.useMedium(Cy),Qh),Ty=a.forwardRef((function(e,t){return a.createElement($h,lv({},e,{ref:t,sideCar:Sy}))}));Ty.classNames=$h.classNames;var Py=Ty;function Oy(e){var t=ml(),n=t.autoFocus,r=t.trapFocus,o=t.dialogRef,i=t.initialFocusRef,s=t.blockScrollOnMount,l=t.allowPinchZoom,u=t.finalFocusRef,c=t.returnFocusOnClose,d=t.preserveScrollBarGap,f=t.lockFocusAcrossFrames,p=t.isOpen,m=Se(Qp(),2),g=m[0],v=m[1];(0,a.useEffect)((function(){!g&&v&&setTimeout(v)}),[g,v]);var h=ds(o,p);return(0,Ea.jsx)(Hh,{autoFocus:n,isDisabled:!r,initialFocusRef:i,finalFocusRef:u,restoreFocus:c,contentRef:o,lockFocusAcrossFrames:f,children:(0,Ea.jsx)(Py,{removeScrollBar:!d,allowPinchZoom:l,enabled:1===h&&s,forwardProps:!0,children:e.children})})}var Ay=["className","children","containerProps","motionProps"],Ey=Aa((function(e,t){var n=e.className,r=e.children,a=e.containerProps,o=e.motionProps,i=Ee(e,Ay),s=ml(),l=s.getDialogProps,u=s.getDialogContainerProps,c=l(i,t),d=u(a),f=_e("chakra-modal__content",n),p=dl(),m=Ae({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},p.dialog),g=Ae({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0},p.dialogContainer),v=ml().motionPreset;return(0,Ea.jsx)(Oy,{children:(0,Ea.jsx)(Oa.div,Ae(Ae({},d),{},{className:"chakra-modal__content-container",tabIndex:-1,__css:g,children:(0,Ea.jsx)(nv,Ae(Ae({preset:v,motionProps:o,className:f},c),{},{__css:m,children:r}))}))})}));Ey.displayName="ModalContent";var Iy=["className"],Ry=Aa((function(e,t){var n=e.className,r=Ee(e,Iy),o=ml(),i=o.headerId,s=o.setHeaderMounted;(0,a.useEffect)((function(){return s(!0),function(){return s(!1)}}),[s]);var l=_e("chakra-modal__header",n),u=Ae({flex:0},dl().header);return(0,Ea.jsx)(Oa.header,Ae(Ae({ref:t,className:l,id:i},r),{},{__css:u}))}));Ry.displayName="ModalHeader";var ky=["children","isDisabled","__css"];function My(e){return(0,Ea.jsx)(xo,Ae(Ae({focusable:"false","aria-hidden":!0},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})}))}var _y=Aa((function(e,t){var n=Ha("CloseButton",e),r=Rn(e),a=r.children,o=r.isDisabled,i=r.__css,s=Ee(r,ky);return(0,Ea.jsx)(Oa.button,Ae(Ae({type:"button","aria-label":"Close",ref:t,disabled:o,__css:Ae(Ae(Ae({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),n),i)},s),{},{children:a||(0,Ea.jsx)(My,{width:"1em",height:"1em"})}))}));_y.displayName="CloseButton";var Dy=["onClick","className"],Ly=Aa((function(e,t){var n=e.onClick,r=e.className,a=Ee(e,Dy),o=ml().onClose,i=_e("chakra-modal__close-btn",r),s=dl();return(0,Ea.jsx)(_y,Ae({ref:t,__css:s.closeButton,className:i,onClick:Fe(n,(function(e){e.stopPropagation(),o()}))},a))}));Ly.displayName="ModalCloseButton";var Vy=["className"],Ny=Aa((function(e,t){var n=e.className,r=Ee(e,Vy),o=ml(),i=o.bodyId,s=o.setBodyMounted;(0,a.useEffect)((function(){return s(!0),function(){return s(!1)}}),[s]);var l=_e("chakra-modal__body",n),u=dl();return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,className:l,id:i},r),{},{__css:u.body}))}));Ny.displayName="ModalBody";var By=["className"],Fy=Aa((function(e,t){var n=e.className,r=Ee(e,By),a=_e("chakra-modal__footer",n),o=Ae({display:"flex",alignItems:"center",justifyContent:"flex-end"},dl().footer);return(0,Ea.jsx)(Oa.footer,Ae(Ae({ref:t},r),{},{__css:o,className:a}))}));Fy.displayName="ModalFooter";var Uy=["className","align","decoration","casing"],jy=Aa((function(e,t){var n=Ha("Text",e),r=Rn(e),a=(r.className,r.align,r.decoration,r.casing,Ee(r,Uy)),o=function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,Ea.jsx)(Oa.p,Ae(Ae(Ae({ref:t,className:_e("chakra-text",e.className)},o),a),{},{__css:n}))}));jy.displayName="Text";var Gy=["isOpen","onClose","placement","children"],zy=Se(Ba(),2),Wy=zy[0],Hy=zy[1],Ky={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function qy(e){var t,n=e.isOpen,r=e.onClose,a=e.placement,o=void 0===a?"right":a,i=e.children,s=Ee(e,Gy),l=ja(),u=null==(t=l.components)?void 0:t.Drawer,c=function(e,t){var n,r;if(e)return null!=(r=null==(n=Ky[e])?void 0:n[t])?r:e}(o,l.direction);return(0,Ea.jsx)(Wy,{value:{placement:c},children:(0,Ea.jsx)(gl,Ae(Ae({isOpen:n,onClose:r,styleConfig:u},s),{},{children:i}))})}var Xy=["direction","style","unmountOnExit","in","className","transition","transitionEnd","delay","motionProps"],Yy={exit:{duration:.15,ease:vl.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},$y={exit:function(e){var t,n=e.direction,r=e.transition,a=e.transitionEnd,o=e.delay;return Ae(Ae({},wl({direction:n}).exit),{},{transition:null!=(t=null==r?void 0:r.exit)?t:Tl(Yy.exit,o),transitionEnd:null==a?void 0:a.exit})},enter:function(e){var t,n=e.direction,r=e.transitionEnd,a=e.transition,o=e.delay;return Ae(Ae({},wl({direction:n}).enter),{},{transition:null!=(t=null==a?void 0:a.enter)?t:Sl(Yy.enter,o),transitionEnd:null==r?void 0:r.enter})}},Zy=(0,a.forwardRef)((function(e,t){var n=e.direction,r=void 0===n?"right":n,a=e.style,o=e.unmountOnExit,i=e.in,s=e.className,l=e.transition,u=e.transitionEnd,c=e.delay,d=e.motionProps,f=Ee(e,Xy),p=wl({direction:r}),m=Object.assign({position:"fixed"},p.position,a),g=!o||i&&o,v=i||o?"enter":"exit",h={transitionEnd:u,transition:l,direction:r,delay:c};return(0,Ea.jsx)(ll,{custom:h,children:g&&(0,Ea.jsx)(Ng.div,Ae(Ae({},f),{},{ref:t,initial:"exit",className:_e("chakra-slide",s),animate:v,exit:"exit",custom:h,variants:$y,style:m},d))})}));Zy.displayName="Slide";var Qy=["className","children","motionProps","containerProps"],Jy=Oa(Zy),eb=Aa((function(e,t){var n=e.className,r=e.children,a=e.motionProps,o=e.containerProps,i=Ee(e,Qy),s=ml(),l=s.getDialogProps,u=s.getDialogContainerProps,c=s.isOpen,d=l(i,t),f=u(o),p=_e("chakra-modal__content",n),m=dl(),g=Ae({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},m.dialog),v=Ae({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0},m.dialogContainer),h=Hy().placement;return(0,Ea.jsx)(Oy,{children:(0,Ea.jsx)(Oa.div,Ae(Ae({},f),{},{className:"chakra-modal__content-container",__css:v,children:(0,Ea.jsx)(Jy,Ae(Ae({motionProps:a,direction:h,in:c,className:p},d),{},{__css:g,children:r}))}))})}));eb.displayName="DrawerContent";var tb=["className","rows"];var nb=["h","minH","height","minHeight"],rb=Aa((function(e,t){var n=Ha("Textarea",e),r=Rn(e),a=r.className,o=r.rows,i=oo(Ee(r,tb)),s=o?function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),a=ke(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(wJ){a.e(wJ)}finally{a.f()}return r}(n,nb):n;return(0,Ea.jsx)(Oa.textarea,Ae(Ae({ref:t,rows:o},i),{},{className:_e("chakra-textarea",a),__css:s}))}));function ab(e,t,n,r){var o=gi(n);return(0,a.useEffect)((function(){var a="function"===typeof e?e():null!=e?e:document;if(n&&a)return a.addEventListener(t,o,r),function(){a.removeEventListener(t,o,r)}}),[t,e,r,o,n]),function(){var n="function"===typeof e?e():null!=e?e:document;null==n||n.removeEventListener(t,o,r)}}function ob(e){var t=e.isOpen,n=e.ref,r=Se((0,a.useState)(t),2),o=r[0],i=r[1],s=Se((0,a.useState)(!1),2),l=s[0],u=s[1];return(0,a.useEffect)((function(){l||(i(t),u(!0))}),[t,l,o]),ab((function(){return n.current}),"animationend",(function(){i(t)})),{present:!(!t&&!o),onComplete:function(){var e,t=function(e){var t,n;return null!=(n=null==(t=Lh(e))?void 0:t.defaultView)?n:window}(n.current),r=new t.CustomEvent("animationend",{bubbles:!0});null==(e=n.current)||e.dispatchEvent(r)}}}rb.displayName="Textarea";var ib=function(){return"undefined"!==typeof window};var sb=function(e){return ib()&&e.test(function(){var e,t=navigator.userAgentData;return null!=(e=null==t?void 0:t.platform)?e:navigator.platform}())},lb=function(){return sb(/mac|iphone|ipad|ipod/i)&&(e=/apple/i,ib()&&e.test(navigator.vendor));var e};function ub(e){var t=e.current;if(!t)return!1;var n,r=function(e){return Lh(e).activeElement}(t);return!!r&&(!t.contains(r)&&!(!((n=r)&&Dh(n)&&Fh(n))||Nh(n)))}var cb={preventScroll:!0,shouldFocus:!1};var db=function(e,t){return{var:e,varRef:t?"var(".concat(e,", ").concat(t,")"):"var(".concat(e,")")}},fb={arrowShadowColor:db("--popper-arrow-shadow-color"),arrowSize:db("--popper-arrow-size","8px"),arrowSizeHalf:db("--popper-arrow-size-half"),arrowBg:db("--popper-arrow-bg"),transformOrigin:db("--popper-transform-origin"),arrowOffset:db("--popper-arrow-offset")};var pb={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},mb={scroll:!0,resize:!0};var gb={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;return function(){var e=t.elements.reference;t.elements.popper.style.width="".concat(e.offsetWidth,"px")}}},vb={name:"transformOrigin",enabled:!0,phase:"write",fn:function(e){var t=e.state;hb(t)},effect:function(e){var t=e.state;return function(){hb(t)}}},hb=function(e){var t;e.elements.popper.style.setProperty(fb.transformOrigin.var,(t=e.placement,pb[t]))},yb={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;bb(t)}},bb=function(e){var t;if(e.placement){var n=xb(e.placement);if((null==(t=e.elements)?void 0:t.arrow)&&n){var r,a;Object.assign(e.elements.arrow.style,(Pe(r={},n.property,n.value),Pe(r,"width",fb.arrowSize.varRef),Pe(r,"height",fb.arrowSize.varRef),Pe(r,"zIndex",-1),r));var o=(Pe(a={},fb.arrowSizeHalf.var,"calc(".concat(fb.arrowSize.varRef," / 2 - 1px)")),Pe(a,fb.arrowOffset.var,"calc(".concat(fb.arrowSizeHalf.varRef," * -1)")),a);for(var i in o)e.elements.arrow.style.setProperty(i,o[i])}}},xb=function(e){return e.startsWith("top")?{property:"bottom",value:fb.arrowOffset.varRef}:e.startsWith("bottom")?{property:"top",value:fb.arrowOffset.varRef}:e.startsWith("left")?{property:"right",value:fb.arrowOffset.varRef}:e.startsWith("right")?{property:"left",value:fb.arrowOffset.varRef}:void 0},wb={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(e){var t=e.state;Cb(t)},effect:function(e){var t=e.state;return function(){Cb(t)}}},Cb=function(e){if(e.elements.arrow){var t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(t){var n,r=(n=e.placement).includes("top")?"1px 1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("bottom")?"-1px -1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("right")?"-1px 1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("left")?"1px -1px 0px 0 var(--popper-arrow-shadow-color)":void 0;r&&t.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(t.style,{transform:"rotate(45deg)",background:fb.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})}}},Sb={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Tb={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Pb(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ob(e){return e instanceof Pb(e).Element||e instanceof Element}function Ab(e){return e instanceof Pb(e).HTMLElement||e instanceof HTMLElement}function Eb(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Pb(e).ShadowRoot||e instanceof ShadowRoot)}var Ib=Math.max,Rb=Math.min,kb=Math.round;function Mb(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function _b(){return!/^((?!chrome|android).)*safari/i.test(Mb())}function Db(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;t&&Ab(e)&&(a=e.offsetWidth>0&&kb(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&kb(r.height)/e.offsetHeight||1);var i=(Ob(e)?Pb(e):window).visualViewport,s=!_b()&&n,l=(r.left+(s&&i?i.offsetLeft:0))/a,u=(r.top+(s&&i?i.offsetTop:0))/o,c=r.width/a,d=r.height/o;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Lb(e){var t=Pb(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Vb(e){return e?(e.nodeName||"").toLowerCase():null}function Nb(e){return((Ob(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bb(e){return Db(Nb(e)).left+Lb(e).scrollLeft}function Fb(e){return Pb(e).getComputedStyle(e)}function Ub(e){var t=Fb(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function jb(e,t,n){void 0===n&&(n=!1);var r=Ab(t),a=Ab(t)&&function(e){var t=e.getBoundingClientRect(),n=kb(t.width)/e.offsetWidth||1,r=kb(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Nb(t),i=Db(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Vb(t)||Ub(o))&&(s=function(e){return e!==Pb(e)&&Ab(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Lb(e);var t}(t)),Ab(t)?((l=Db(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Bb(o))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function Gb(e){var t=Db(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zb(e){return"html"===Vb(e)?e:e.assignedSlot||e.parentNode||(Eb(e)?e.host:null)||Nb(e)}function Wb(e){return["html","body","#document"].indexOf(Vb(e))>=0?e.ownerDocument.body:Ab(e)&&Ub(e)?e:Wb(zb(e))}function Hb(e,t){var n;void 0===t&&(t=[]);var r=Wb(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Pb(r),i=a?[o].concat(o.visualViewport||[],Ub(r)?r:[]):r,s=t.concat(i);return a?s:s.concat(Hb(zb(i)))}function Kb(e){return["table","td","th"].indexOf(Vb(e))>=0}function qb(e){return Ab(e)&&"fixed"!==Fb(e).position?e.offsetParent:null}function Xb(e){for(var t=Pb(e),n=qb(e);n&&Kb(n)&&"static"===Fb(n).position;)n=qb(n);return n&&("html"===Vb(n)||"body"===Vb(n)&&"static"===Fb(n).position)?t:n||function(e){var t=/firefox/i.test(Mb());if(/Trident/i.test(Mb())&&Ab(e)&&"fixed"===Fb(e).position)return null;var n=zb(e);for(Eb(n)&&(n=n.host);Ab(n)&&["html","body"].indexOf(Vb(n))<0;){var r=Fb(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Yb="top",$b="bottom",Zb="right",Qb="left",Jb="auto",ex=[Yb,$b,Zb,Qb],tx="start",nx="end",rx="clippingParents",ax="viewport",ox="popper",ix="reference",sx=ex.reduce((function(e,t){return e.concat([t+"-"+tx,t+"-"+nx])}),[]),lx=[].concat(ex,[Jb]).reduce((function(e,t){return e.concat([t,t+"-"+tx,t+"-"+nx])}),[]),ux=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function cx(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function dx(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var fx={placement:"bottom",modifiers:[],strategy:"absolute"};function px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function mx(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?fx:a;return function(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fx,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:a,setOptions:function(n){var s="function"===typeof n?n(a.options):n;u(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:Ob(e)?Hb(e):e.contextElement?Hb(e.contextElement):[],popper:Hb(t)};var c=function(e){var t=cx(e);return ux.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=c.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:a,name:t,instance:l,options:r}),u=function(){};i.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(px(t,n)){a.rects={reference:jb(t,Xb(n),"fixed"===a.options.strategy),popper:Gb(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,u=o.options,c=void 0===u?{}:u,d=o.name;"function"===typeof i&&(a=i({state:a,options:c,name:d,instance:l})||a)}else a.reset=!1,r=-1}}},update:dx((function(){return new Promise((function(e){l.forceUpdate(),e(a)}))})),destroy:function(){u(),s=!0}};if(!px(e,t))return l;function u(){i.forEach((function(e){return e()})),i=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var gx={passive:!0};var vx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,s=void 0===i||i,l=Pb(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,gx)})),s&&l.addEventListener("resize",n.update,gx),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,gx)})),s&&l.removeEventListener("resize",n.update,gx)}},data:{}};function hx(e){return e.split("-")[0]}function yx(e){return e.split("-")[1]}function bx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function xx(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?hx(a):null,i=a?yx(a):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Yb:t={x:s,y:n.y-r.height};break;case $b:t={x:s,y:n.y+n.height};break;case Zb:t={x:n.x+n.width,y:l};break;case Qb:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?bx(o):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case tx:t[u]=t[u]-(n[c]/2-r[c]/2);break;case nx:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var wx={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=xx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Cx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sx(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=i.x,p=void 0===f?0:f,m=i.y,g=void 0===m?0:m,v="function"===typeof c?c({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var h=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),b=Qb,x=Yb,w=window;if(u){var C=Xb(n),S="clientHeight",T="clientWidth";if(C===Pb(n)&&"static"!==Fb(C=Nb(n)).position&&"absolute"===s&&(S="scrollHeight",T="scrollWidth"),a===Yb||(a===Qb||a===Zb)&&o===nx)x=$b,g-=(d&&C===w&&w.visualViewport?w.visualViewport.height:C[S])-r.height,g*=l?1:-1;if(a===Qb||(a===Yb||a===$b)&&o===nx)b=Zb,p-=(d&&C===w&&w.visualViewport?w.visualViewport.width:C[T])-r.width,p*=l?1:-1}var P,O=Object.assign({position:s},u&&Cx),A=!0===c?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:kb(n*a)/a||0,y:kb(r*a)/a||0}}({x:p,y:g},Pb(n)):{x:p,y:g};return p=A.x,g=A.y,l?Object.assign({},O,((P={})[x]=y?"0":"",P[b]=h?"0":"",P.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",P)):Object.assign({},O,((t={})[x]=y?g+"px":"",t[b]=h?p+"px":"",t.transform="",t))}var Tx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:hx(t.placement),variation:yx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Sx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Px={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];Ab(a)&&Vb(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ab(r)&&Vb(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Ox={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=lx.reduce((function(e,n){return e[n]=function(e,t,n){var r=hx(e),a=[Qb,Yb].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[Qb,Zb].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,o),e}),{}),s=i[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},Ax={left:"right",right:"left",bottom:"top",top:"bottom"};function Ex(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ax[e]}))}var Ix={start:"end",end:"start"};function Rx(e){return e.replace(/start|end/g,(function(e){return Ix[e]}))}function kx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Eb(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _x(e,t,n){return t===ax?Mx(function(e,t){var n=Pb(e),r=Nb(e),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;var u=_b();(u||!u&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s+Bb(e),y:l}}(e,n)):Ob(t)?function(e,t){var n=Db(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Mx(function(e){var t,n=Nb(e),r=Lb(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=Ib(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Ib(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+Bb(e),l=-r.scrollTop;return"rtl"===Fb(a||n).direction&&(s+=Ib(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:s,y:l}}(Nb(e)))}function Dx(e,t,n,r){var a="clippingParents"===t?function(e){var t=Hb(zb(e)),n=["absolute","fixed"].indexOf(Fb(e).position)>=0&&Ab(e)?Xb(e):e;return Ob(n)?t.filter((function(e){return Ob(e)&&kx(e,n)&&"body"!==Vb(e)})):[]}(e):[].concat(t),o=[].concat(a,[n]),i=o[0],s=o.reduce((function(t,n){var a=_x(e,n,r);return t.top=Ib(a.top,t.top),t.right=Rb(a.right,t.right),t.bottom=Rb(a.bottom,t.bottom),t.left=Ib(a.left,t.left),t}),_x(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Lx(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Vx(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Nx(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.strategy,i=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?rx:s,u=n.rootBoundary,c=void 0===u?ax:u,d=n.elementContext,f=void 0===d?ox:d,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,v=void 0===g?0:g,h=Lx("number"!==typeof v?v:Vx(v,ex)),y=f===ox?ix:ox,b=e.rects.popper,x=e.elements[m?y:f],w=Dx(Ob(x)?x:x.contextElement||Nb(e.elements.popper),l,c,i),C=Db(e.elements.reference),S=xx({reference:C,element:b,strategy:"absolute",placement:a}),T=Mx(Object.assign({},b,S)),P=f===ox?T:C,O={top:w.top-P.top+h.top,bottom:P.bottom-w.bottom+h.bottom,left:w.left-P.left+h.left,right:P.right-w.right+h.right},A=e.modifiersData.offset;if(f===ox&&A){var E=A[a];Object.keys(O).forEach((function(e){var t=[Zb,$b].indexOf(e)>=0?1:-1,n=[Yb,$b].indexOf(e)>=0?"y":"x";O[e]+=E[n]*t}))}return O}var Bx={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=void 0===p||p,g=n.allowedAutoPlacements,v=t.options.placement,h=hx(v),y=l||(h===v||!m?[Ex(v)]:function(e){if(hx(e)===Jb)return[];var t=Ex(e);return[Rx(e),t,Rx(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(hx(n)===Jb?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?lx:l,c=yx(r),d=c?s?sx:sx.filter((function(e){return yx(e)===c})):ex,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=Nx(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[hx(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),x=t.rects.reference,w=t.rects.popper,C=new Map,S=!0,T=b[0],P=0;P<b.length;P++){var O=b[P],A=hx(O),E=yx(O)===tx,I=[Yb,$b].indexOf(A)>=0,R=I?"width":"height",k=Nx(t,{placement:O,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),M=I?E?Zb:Qb:E?$b:Yb;x[R]>w[R]&&(M=Ex(M));var _=Ex(M),D=[];if(o&&D.push(k[A]<=0),s&&D.push(k[M]<=0,k[_]<=0),D.every((function(e){return e}))){T=O,S=!1;break}C.set(O,D)}if(S)for(var L=function(e){var t=b.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},V=m?3:1;V>0;V--){if("break"===L(V))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Fx(e,t,n){return Ib(e,Rb(t,n))}var Ux={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,m=n.tetherOffset,g=void 0===m?0:m,v=Nx(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),h=hx(t.placement),y=yx(t.placement),b=!y,x=bx(h),w="x"===x?"y":"x",C=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,P="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,O="number"===typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(C){if(o){var I,R="y"===x?Yb:Qb,k="y"===x?$b:Zb,M="y"===x?"height":"width",_=C[x],D=_+v[R],L=_-v[k],V=p?-T[M]/2:0,N=y===tx?S[M]:T[M],B=y===tx?-T[M]:-S[M],F=t.elements.arrow,U=p&&F?Gb(F):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G=j[R],z=j[k],W=Fx(0,S[M],U[M]),H=b?S[M]/2-V-W-G-O.mainAxis:N-W-G-O.mainAxis,K=b?-S[M]/2+V+W+z+O.mainAxis:B+W+z+O.mainAxis,q=t.elements.arrow&&Xb(t.elements.arrow),X=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,Y=null!=(I=null==A?void 0:A[x])?I:0,$=_+K-Y,Z=Fx(p?Rb(D,_+H-Y-X):D,_,p?Ib(L,$):L);C[x]=Z,E[x]=Z-_}if(s){var Q,J="x"===x?Yb:Qb,ee="x"===x?$b:Zb,te=C[w],ne="y"===w?"height":"width",re=te+v[J],ae=te-v[ee],oe=-1!==[Yb,Qb].indexOf(h),ie=null!=(Q=null==A?void 0:A[w])?Q:0,se=oe?re:te-S[ne]-T[ne]-ie+O.altAxis,le=oe?te+S[ne]+T[ne]-ie-O.altAxis:ae,ue=p&&oe?function(e,t,n){var r=Fx(e,t,n);return r>n?n:r}(se,te,le):Fx(p?se:re,te,p?le:ae);C[w]=ue,E[w]=ue-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};var jx={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=hx(n.placement),l=bx(s),u=[Qb,Zb].indexOf(s)>=0?"height":"width";if(o&&i){var c=function(e,t){return Lx("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Vx(e,ex))}(a.padding,n),d=Gb(o),f="y"===l?Yb:Qb,p="y"===l?$b:Zb,m=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],g=i[l]-n.rects.reference[l],v=Xb(o),h=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=m/2-g/2,b=c[f],x=h-d[u]-c[p],w=h/2-d[u]/2+y,C=Fx(b,w,x),S=l;n.modifiersData[r]=((t={})[S]=C,t.centerOffset=C-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&kx(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gx(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zx(e){return[Yb,Zb,$b,Qb].some((function(t){return e[t]>=0}))}var Wx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=Nx(t,{elementContext:"reference"}),s=Nx(t,{altBoundary:!0}),l=Gx(i,r),u=Gx(s,a,o),c=zx(l),d=zx(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},Hx=mx({defaultModifiers:[vx,wx,Tx,Px,Ox,Bx,Ux,jx,Wx]}),Kx=["size","shadowColor","bg","style"];function qx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,n=void 0===t||t,r=e.modifiers,o=e.placement,i=void 0===o?"bottom":o,s=e.strategy,l=void 0===s?"absolute":s,u=e.arrowPadding,c=void 0===u?8:u,d=e.eventListeners,f=void 0===d||d,p=e.offset,m=e.gutter,g=void 0===m?8:m,v=e.flip,h=void 0===v||v,y=e.boundary,b=void 0===y?"clippingParents":y,x=e.preventOverflow,w=void 0===x||x,C=e.matchWidth,S=e.direction,T=void 0===S?"ltr":S,P=(0,a.useRef)(null),O=(0,a.useRef)(null),A=(0,a.useRef)(null),E=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",a=(null==(t=Sb[e])?void 0:t[r])||e;return"ltr"===r?a:null!=(n=Tb[e])?n:a}(i,T),I=(0,a.useRef)((function(){})),R=(0,a.useCallback)((function(){var e,t;n&&P.current&&O.current&&(null==(e=I.current)||e.call(I),A.current=Hx(P.current,O.current,{placement:E,modifiers:[wb,yb,vb,Ae(Ae({},gb),{},{enabled:!!C}),Ae({name:"eventListeners"},(t=f,"object"===typeof t?{enabled:!0,options:Ae(Ae({},mb),t)}:{enabled:t,options:mb})),{name:"arrow",options:{padding:c}},{name:"offset",options:{offset:null!=p?p:[0,g]}},{name:"flip",enabled:!!h,options:{padding:8}},{name:"preventOverflow",enabled:!!w,options:{boundary:b}}].concat(Re(null!=r?r:[])),strategy:l}),A.current.forceUpdate(),I.current=A.current.destroy)}),[E,n,r,C,f,c,p,g,h,w,b,l]);(0,a.useEffect)((function(){return function(){var e;P.current||O.current||(null==(e=A.current)||e.destroy(),A.current=null)}}),[]);var k=(0,a.useCallback)((function(e){P.current=e,R()}),[R]),M=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Fa(k,e)})}),[k]),_=(0,a.useCallback)((function(e){O.current=e,R()}),[R]),D=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:Fa(_,t),style:Ae(Ae({},e.style),{},{position:l,minWidth:C?void 0:"max-content",inset:"0 auto auto 0"})})}),[l,_,C]),L=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.size,e.shadowColor,e.bg,e.style;return Ae(Ae({},Ee(e,Kx)),{},{ref:t,"data-popper-arrow":"",style:Xx(e)})}),[]),V=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:e,"data-popper-arrow-inner":""})}),[]);return{update:function(){var e;null==(e=A.current)||e.update()},forceUpdate:function(){var e;null==(e=A.current)||e.forceUpdate()},transformOrigin:fb.transformOrigin.varRef,referenceRef:k,popperRef:_,getPopperProps:D,getArrowProps:L,getArrowInnerProps:V,getReferenceProps:M}}function Xx(e){var t=e.size,n=e.shadowColor,r=e.bg,a=Ae(Ae({},e.style),{},{position:"absolute"});return t&&(a["--popper-arrow-size"]=t),n&&(a["--popper-arrow-shadow-color"]=n),r&&(a["--popper-arrow-bg"]=r),a}var Yx=["closeOnBlur","closeOnEsc","initialFocusRef","id","returnFocusOnClose","autoFocus","arrowSize","arrowShadowColor","trigger","openDelay","closeDelay","isLazy","lazyBehavior","computePositionOnMount"],$x={click:"click",hover:"hover"};function Zx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.closeOnBlur,n=void 0===t||t,r=e.closeOnEsc,o=void 0===r||r,i=e.initialFocusRef,s=e.id,l=e.returnFocusOnClose,u=void 0===l||l,c=e.autoFocus,d=void 0===c||c,f=e.arrowSize,p=e.arrowShadowColor,m=e.trigger,g=void 0===m?$x.click:m,v=e.openDelay,h=void 0===v?200:v,y=e.closeDelay,b=void 0===y?200:y,x=e.isLazy,w=e.lazyBehavior,C=void 0===w?"unmount":w,S=e.computePositionOnMount,T=Ee(e,Yx),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=e.onOpen,r=e.isOpen,o=e.id,i=gi(n),s=gi(t),l=Se((0,a.useState)(e.defaultIsOpen||!1),2),u=l[0],c=l[1],d=void 0!==r?r:u,f=void 0!==r,p=(0,a.useId)(),m=null!=o?o:"disclosure-".concat(p),g=(0,a.useCallback)((function(){f||c(!1),null==s||s()}),[f,s]),v=(0,a.useCallback)((function(){f||c(!0),null==i||i()}),[f,i]),h=(0,a.useCallback)((function(){d?g():v()}),[d,v,g]);return{isOpen:d,onOpen:v,onClose:g,onToggle:h,isControlled:f,getButtonProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ae(Ae({},e),{},{"aria-expanded":d,"aria-controls":m,onClick:function(t){var n;null==(n=e.onClick)||n.call(e,t),h()}})},getDisclosureProps:function(){return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{hidden:!d,id:m})}}}(e),O=P.isOpen,A=P.onClose,E=P.onOpen,I=P.onToggle,R=(0,a.useRef)(null),k=(0,a.useRef)(null),M=(0,a.useRef)(null),_=(0,a.useRef)(!1),D=(0,a.useRef)(!1);O&&(D.current=!0);var L=Se((0,a.useState)(!1),2),V=L[0],N=L[1],B=Se((0,a.useState)(!1),2),F=B[0],U=B[1],j=(0,a.useId)(),G=null!=s?s:j,z=Se(["popover-trigger","popover-content","popover-header","popover-body"].map((function(e){return"".concat(e,"-").concat(G)})),4),W=z[0],H=z[1],K=z[2],q=z[3],X=qx(Ae(Ae({},T),{},{enabled:O||!!S})),Y=X.referenceRef,$=X.getArrowProps,Z=X.getPopperProps,Q=X.getArrowInnerProps,J=X.forceUpdate,ee=ob({isOpen:O,ref:M});!function(e){var t=e.ref,n=e.elements,r=e.enabled,a=function(){var e,n;return null!=(n=null==(e=t.current)?void 0:e.ownerDocument)?n:document};ab(a,"pointerdown",(function(e){if(lb()&&r){var o=e.target,i=(null!=n?n:[t]).some((function(e){var t="current"in e?e.current:e;return(null==t?void 0:t.contains(o))||t===o}));a().activeElement!==o&&i&&(e.preventDefault(),o.focus())}}))}({enabled:O,ref:k}),function(e,t){var n=t.shouldFocus,r=t.visible,a=t.focusRef,o=n&&!r;Oi((function(){if(o&&!ub(e)){var t,n=(null==a?void 0:a.current)||e.current;return n?(t=requestAnimationFrame((function(){n.focus({preventScroll:!0})})),function(){cancelAnimationFrame(t)}):void 0}}),[o,e,a])}(M,{focusRef:k,visible:O,shouldFocus:u&&g===$x.click}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cb,n=t.focusRef,r=t.preventScroll,o=t.shouldFocus,i=t.visible,s="current"in e?e.current:e,l=o&&i,u=(0,a.useRef)(l),c=(0,a.useRef)(i);Pi((function(){!c.current&&i&&(u.current=l),c.current=i}),[i,l]);var d=(0,a.useCallback)((function(){if(i&&s&&u.current&&(u.current=!1,!s.contains(document.activeElement)))if(null==n?void 0:n.current)requestAnimationFrame((function(){var e;null==(e=n.current)||e.focus({preventScroll:r})}));else{var e=zh(s);e.length>0&&requestAnimationFrame((function(){e[0].focus({preventScroll:r})}))}}),[i,r,s,n]);Oi((function(){d()}),[d]),ab(s,"transitionend",d)}(M,{focusRef:i,visible:O,shouldFocus:d&&g===$x.click});var te=function(e){var t=e.wasSelected,n=e.enabled,r=e.isSelected,a=e.mode;return!n||!!r||!("keepMounted"!==(void 0===a?"unmount":a)||!t)}({wasSelected:D.current,enabled:x,mode:C,isSelected:ee.present}),ne=(0,a.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Ae(Ae({},t),{},{style:Ae(Ae({},t.style),{},(e={transformOrigin:fb.transformOrigin.varRef},Pe(e,fb.arrowSize.var,f?"".concat(f,"px"):void 0),Pe(e,fb.arrowShadowColor.var,p),e)),ref:Fa(M,r),children:te?t.children:null,id:H,tabIndex:-1,role:"dialog",onKeyDown:Fe(t.onKeyDown,(function(e){o&&"Escape"===e.key&&A()})),onBlur:Fe(t.onBlur,(function(e){var t=Jx(e),r=Qx(M.current,t),a=Qx(k.current,t);O&&n&&(!r&&!a)&&A()})),"aria-labelledby":V?K:void 0,"aria-describedby":F?q:void 0});return g===$x.hover&&(a.role="tooltip",a.onMouseEnter=Fe(t.onMouseEnter,(function(){_.current=!0})),a.onMouseLeave=Fe(t.onMouseLeave,(function(e){null!==e.nativeEvent.relatedTarget&&(_.current=!1,setTimeout((function(){return A()}),b))}))),a}),[te,H,V,K,F,q,g,o,A,O,n,b,p,f]),re=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Z(Ae(Ae({},e),{},{style:Ae({visibility:O?"visible":"hidden"},e.style)}),t)}),[O,Z]),ae=(0,a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},e),{},{ref:Fa(t,R,Y)})}),[R,Y]),oe=(0,a.useRef)(),ie=(0,a.useRef)(),se=(0,a.useCallback)((function(e){null==R.current&&Y(e)}),[Y]),le=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Ae(Ae({},e),{},{ref:Fa(k,t,se),id:W,"aria-haspopup":"dialog","aria-expanded":O,"aria-controls":H});return g===$x.click&&(r.onClick=Fe(e.onClick,I)),g===$x.hover&&(r.onFocus=Fe(e.onFocus,(function(){void 0===oe.current&&E()})),r.onBlur=Fe(e.onBlur,(function(e){var t=Jx(e),r=!Qx(M.current,t);O&&n&&r&&A()})),r.onKeyDown=Fe(e.onKeyDown,(function(e){"Escape"===e.key&&A()})),r.onMouseEnter=Fe(e.onMouseEnter,(function(){_.current=!0,oe.current=window.setTimeout((function(){return E()}),h)})),r.onMouseLeave=Fe(e.onMouseLeave,(function(){_.current=!1,oe.current&&(clearTimeout(oe.current),oe.current=void 0),ie.current=window.setTimeout((function(){!1===_.current&&A()}),b)}))),r}),[W,O,H,g,se,I,E,n,A,h,b]);(0,a.useEffect)((function(){return function(){oe.current&&clearTimeout(oe.current),ie.current&&clearTimeout(ie.current)}}),[]);var ue=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{id:K,ref:Fa(e,(function(e){N(!!e)}))})}),[K]),ce=(0,a.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ae(Ae({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{id:q,ref:Fa(e,(function(e){U(!!e)}))})}),[q]);return{forceUpdate:J,isOpen:O,onAnimationComplete:ee.onComplete,onClose:A,getAnchorProps:ae,getArrowProps:$,getArrowInnerProps:Q,getPopoverPositionerProps:re,getPopoverProps:ne,getTriggerProps:le,getHeaderProps:ue,getBodyProps:ce}}function Qx(e,t){return e===t||(null==e?void 0:e.contains(t))}function Jx(e){var t,n=e.currentTarget.ownerDocument.activeElement;return null!=(t=e.relatedTarget)?t:n}var ew=Se(Ba({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),2),tw=ew[0],nw=ew[1],rw=Se(Ba({name:"PopoverStylesContext",errorMessage:"usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Popover />\" "}),2),aw=rw[0],ow=rw[1],iw=["children"];function sw(e){var t=Ka("Popover",e),n=Rn(e),r=n.children,a=Ee(n,iw),o=ja(),i=Zx(Ae(Ae({},a),{},{direction:o.direction}));return(0,Ea.jsx)(tw,{value:i,children:(0,Ea.jsx)(aw,{value:t,children:Le(r,{isOpen:i.isOpen,onClose:i.onClose,forceUpdate:i.forceUpdate})})})}function lw(e){var t=a.Children.only(e.children),n=nw().getTriggerProps;return(0,a.cloneElement)(t,n(t.props,t.ref))}sw.displayName="Popover",lw.displayName="PopoverTrigger";var uw=["variants"];function cw(e){if(e)return{enter:Ae(Ae({},e.enter),{},{visibility:"visible"}),exit:Ae(Ae({},e.exit),{},{transitionEnd:{visibility:"hidden"}})}}var dw={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},fw=Oa(Ng.section),pw=Aa((function(e,t){var n=e.variants,r=void 0===n?dw:n,a=Ee(e,uw),o=nw().isOpen;return(0,Ea.jsx)(fw,Ae({ref:t,variants:cw(r),initial:!1,animate:o?"enter":"exit"},a))}));pw.displayName="PopoverTransition";var mw=["rootProps","motionProps"],gw=Aa((function(e,t){var n=e.rootProps,r=e.motionProps,a=Ee(e,mw),o=nw(),i=o.getPopoverProps,s=o.getPopoverPositionerProps,l=o.onAnimationComplete,u=ow(),c=Ae({position:"relative",display:"flex",flexDirection:"column"},u.content);return(0,Ea.jsx)(Oa.div,Ae(Ae({},s(n)),{},{__css:u.popper,className:"chakra-popover__popper",children:(0,Ea.jsx)(pw,Ae(Ae(Ae({},r),i(a,t)),{},{onAnimationComplete:Ue(l,a.onAnimationComplete),className:_e("chakra-popover__content",e.className),__css:c}))}))}));gw.displayName="PopoverContent";var vw=function(e,t){return t?"".concat(e,".").concat(t,", ").concat(t):void 0};function hw(e){var t,n=e.bg,r=e.bgColor,a=e.backgroundColor,o=e.shadow,i=e.boxShadow,s=e.shadowColor,l=nw(),u=l.getArrowProps,c=l.getArrowInnerProps,d=ow(),f=null!=(t=null!=n?n:r)?t:a,p=null!=o?o:i;return(0,Ea.jsx)(Oa.div,Ae(Ae({},u()),{},{className:"chakra-popover__arrow-positioner",children:(0,Ea.jsx)(Oa.div,Ae(Ae({className:_e("chakra-popover__arrow",e.className)},c(e)),{},{__css:Ae({"--popper-arrow-shadow-color":vw("colors",s),"--popper-arrow-bg":vw("colors",f),"--popper-arrow-shadow":vw("shadows",p)},d.arrow)}))}))}hw.displayName="PopoverArrow";var yw=Aa((function(e,t){var n=nw().onClose,r=ow();return(0,Ea.jsx)(_y,Ae({size:"sm",onClick:n,className:_e("chakra-popover__close-btn",e.className),__css:r.closeButton,ref:t},e))}));yw.displayName="PopoverCloseButton";var bw=Aa((function(e,t){var n=nw().getHeaderProps,r=ow();return(0,Ea.jsx)(Oa.header,Ae(Ae({},n(e,t)),{},{className:_e("chakra-popover__header",e.className),__css:r.header}))}));bw.displayName="PopoverHeader";var xw=Aa((function(e,t){var n=nw().getBodyProps,r=ow();return(0,Ea.jsx)(Oa.div,Ae(Ae({},n(e,t)),{},{className:_e("chakra-popover__body",e.className),__css:r.body}))}));xw.displayName="PopoverBody";var ww={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cw=a.createContext&&a.createContext(ww),Sw=function(){return Sw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Sw.apply(this,arguments)},Tw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Pw(e){return e&&e.map((function(e,t){return a.createElement(e.tag,Sw({key:t},e.attr),Pw(e.child))}))}function Ow(e){return function(t){return a.createElement(Aw,Sw({attr:Sw({},e.attr)},t),Pw(e.child))}}function Aw(e){var t=function(t){var n,r=e.attr,o=e.size,i=e.title,s=Tw(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",Sw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Sw(Sw({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==Cw?a.createElement(Cw.Consumer,null,(function(e){return t(e)})):t(ww)}function Ew(e){return Ow({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M337.509 305.372h-17.501l-6.571-5.486c20.791-25.232 33.922-57.054 33.922-93.257C347.358 127.632 283.896 64 205.135 64 127.452 64 64 127.632 64 206.629s63.452 142.628 142.225 142.628c35.011 0 67.831-13.167 92.991-34.008l6.561 5.487v17.551L415.18 448 448 415.086 337.509 305.372zm-131.284 0c-54.702 0-98.463-43.887-98.463-98.743 0-54.858 43.761-98.742 98.463-98.742 54.7 0 98.462 43.884 98.462 98.742 0 54.856-43.762 98.743-98.462 98.743z"}}]})(e)}var Iw=["htmlWidth","htmlHeight","alt"],Rw=Aa((function(e,t){var n=e.htmlWidth,r=e.htmlHeight,a=e.alt,o=Ee(e,Iw);return(0,Ea.jsx)("img",Ae({width:n,height:r,ref:t,alt:a},o))}));Rw.displayName="NativeImage";var kw=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin","fallbackStrategy","referrerPolicy"];var Mw=Aa((function(e,t){var n=e.fallbackSrc,r=e.fallback,o=e.src,i=e.srcSet,s=e.align,l=e.fit,u=e.loading,c=e.ignoreFallback,d=e.crossOrigin,f=e.fallbackStrategy,p=void 0===f?"beforeLoadOrError":f,m=e.referrerPolicy,g=Ee(e,kw),v=null!=u||c||!(void 0!==n||void 0!==r),h=function(e){var t=e.loading,n=e.src,r=e.srcSet,o=e.onLoad,i=e.onError,s=e.crossOrigin,l=e.sizes,u=e.ignoreFallback,c=Se((0,a.useState)("pending"),2),d=c[0],f=c[1];(0,a.useEffect)((function(){f(n?"loading":"pending")}),[n]);var p=(0,a.useRef)(),m=(0,a.useCallback)((function(){if(n){g();var e=new Image;e.src=n,s&&(e.crossOrigin=s),r&&(e.srcset=r),l&&(e.sizes=l),t&&(e.loading=t),e.onload=function(e){g(),f("loaded"),null==o||o(e)},e.onerror=function(e){g(),f("failed"),null==i||i(e)},p.current=e}}),[n,s,r,l,o,i,t]),g=function(){p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)};return Pi((function(){if(!u)return"loading"===d&&m(),function(){g()}}),[d,m,u]),u?"loaded":d}(Ae(Ae({},e),{},{crossOrigin:d,ignoreFallback:v})),y=function(e,t){return"loaded"!==e&&"beforeLoadOrError"===t||"failed"===e&&"onError"===t}(h,p),b=Ae({ref:t,objectFit:l,objectPosition:s},v?g:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),a=ke(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(wJ){a.e(wJ)}finally{a.f()}return r}(g,["onError","onLoad"]));return y?r||(0,Ea.jsx)(Oa.img,Ae({as:Rw,className:"chakra-image__placeholder",src:n},b)):(0,Ea.jsx)(Oa.img,Ae({as:Rw,src:o,srcSet:i,crossOrigin:d,loading:u,referrerPolicy:m,className:"chakra-image"},b))}));Mw.displayName="Image";var _w=n.p+"static/media/test.a2432fc04b2d034f1c07.jpg",Dw=n.p+"static/media/fallbackimg.cfadf3908da8868218ee.jpg";function Lw(e,t,n){return Lw=$s()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&s(a,n.prototype),a},Lw.apply(null,arguments)}function Vw(e){var t="function"===typeof Map?new Map:void 0;return Vw=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Lw(e,arguments,Ys(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},Vw(e)}var Nw="undefined"==typeof window;!function(){if(!Nw){var e=window.navigator,t=e.userAgent,n=e.platform,r=e.maxTouchPoints,a=/(iphone|ipod|ipad)/i.test(t),o="iPad"===n||"MacIntel"===n&&r>0&&!window.MSStream;/android/i.test(t),/Version\/12.+Safari/.test(t)}}();Error;var Bw;!function(e){e.TRUE="true",e.FALSE="false",e.AUTO="auto"}(Bw||(Bw={}));var Fw,Uw=Bw,jw=(Uw.TRUE,{gpuTier:void 0,detectGPUConfig:{},rendering:{useCPURendering:!1,preferSizeOverAccuracy:!1,useNorm16Texture:!1,strictZSpacingForVolumeViewport:!0}});function Gw(){return jw.rendering.useCPURendering}function zw(){return jw}!function(e){e.CACHE_SIZE_EXCEEDED="CACHE_SIZE_EXCEEDED",e.IMAGE_LOAD_ERROR="IMAGE_LOAD_ERROR",e.CAMERA_MODIFIED="CORNERSTONE_CAMERA_MODIFIED",e.CAMERA_RESET="CORNERSTONE_CAMERA_RESET",e.VOI_MODIFIED="CORNERSTONE_VOI_MODIFIED",e.DISPLAY_AREA_MODIFIED="CORNERSTONE_DISPLAY_AREA_MODIFIED",e.ELEMENT_DISABLED="CORNERSTONE_ELEMENT_DISABLED",e.ELEMENT_ENABLED="CORNERSTONE_ELEMENT_ENABLED",e.IMAGE_RENDERED="CORNERSTONE_IMAGE_RENDERED",e.IMAGE_VOLUME_MODIFIED="CORNERSTONE_IMAGE_VOLUME_MODIFIED",e.IMAGE_VOLUME_LOADING_COMPLETED="CORNERSTONE_IMAGE_VOLUME_LOADING_COMPLETED",e.IMAGE_LOADED="CORNERSTONE_IMAGE_LOADED",e.IMAGE_LOAD_FAILED="CORNERSTONE_IMAGE_LOAD_FAILED",e.VOLUME_VIEWPORT_NEW_VOLUME="CORNERSTONE_VOLUME_VIEWPORT_NEW_VOLUME",e.VOLUME_LOADED="CORNERSTONE_VOLUME_LOADED",e.VOLUME_LOADED_FAILED="CORNERSTONE_VOLUME_LOADED_FAILED",e.IMAGE_CACHE_IMAGE_ADDED="CORNERSTONE_IMAGE_CACHE_IMAGE_ADDED",e.IMAGE_CACHE_IMAGE_REMOVED="CORNERSTONE_IMAGE_CACHE_IMAGE_REMOVED",e.VOLUME_CACHE_VOLUME_ADDED="CORNERSTONE_VOLUME_CACHE_VOLUME_ADDED",e.VOLUME_CACHE_VOLUME_REMOVED="CORNERSTONE_VOLUME_CACHE_VOLUME_REMOVED",e.STACK_NEW_IMAGE="CORNERSTONE_STACK_NEW_IMAGE",e.VOLUME_NEW_IMAGE="CORNERSTONE_VOLUME_NEW_IMAGE",e.PRE_STACK_NEW_IMAGE="CORNERSTONE_PRE_STACK_NEW_IMAGE",e.IMAGE_SPACING_CALIBRATED="CORNERSTONE_IMAGE_SPACING_CALIBRATED",e.IMAGE_LOAD_PROGRESS="CORNERSTONE_IMAGE_LOAD_PROGRESS",e.STACK_VIEWPORT_NEW_STACK="CORNERSTONE_STACK_VIEWPORT_NEW_STACK",e.STACK_VIEWPORT_SCROLL="CORNERSTONE_STACK_VIEWPORT_SCROLL",e.GEOMETRY_CACHE_GEOMETRY_ADDED="CORNERSTONE_GEOMETRY_CACHE_GEOMETRY_ADDED",e.VOLUME_SCROLL_OUT_OF_BOUNDS="CORNERSTONE_VOLUME_SCROLL_OUT_OF_BOUNDS"}(Fw||(Fw={}));var Ww=Fw,Hw={},Kw={get:function(e){return Hw[e]},set:function(e){var t=e.id;Hw[t]=e},delete:function(e){return delete Hw[e]},getAll:function(){var e=Object.keys(Hw).map((function(e){return Hw[e]}));return e.sort((function(e,t){return"_"===e.id[0]&&"_"!==t.id[0]?1:"_"!==e.id[0]&&"_"===t.id[0]?-1:0})),e}},qw=Kw,Xw=function(){function e(){os(this,e),this.listeners={}}return ss(e,[{key:"reset",value:function(){this.listeners={}}},{key:"addEventListener",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(this.listeners[e])for(var n=this.listeners[e],r=n.length,a=0;a<r;a++)if(n[a]===t)return void n.splice(a,1)}},{key:"dispatchEvent",value:function(e){if(this.listeners[e.type]){for(var t=this.listeners[e.type].slice(),n=t.length,r=0;r<n;r++)t[r].call(this,e);return!e.defaultPrevented}}}]),e}(),Yw=new Xw;function $w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yw,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)throw new Error("Event type was not defined");var r=new CustomEvent(t,{detail:n,cancelable:!0});return e.dispatchEvent(r)}function Zw(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function Qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jw(e,t){if(e){if("string"===typeof e)return Qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qw(e,t):void 0}}function eC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wJ){s=!0,a=wJ}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Jw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tC(e){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tC(e)}function nC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rC(e){return function(e){if(Array.isArray(e))return Qw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aC(e,t){return aC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aC(e,t)}function oC(e,t,n){return oC=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&aC(a,n.prototype),a},oC.apply(null,arguments)}var iC=n(8262),sC=n.n(iC),lC=n(1772);function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var cC=n.n(lC)()(),dC={vtkObject:function(){return null}};function fC(e){if(null===e||void 0===e)return e;if(e.isA)return e;if(!e.vtkClass)return cC.console&&cC.console.error&&cC.console.error("Invalid VTK object"),null;var t=dC[e.vtkClass];if(!t)return cC.console&&cC.console.error&&cC.console.error("No vtk class found for Object of type ".concat(e.vtkClass)),null;var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uC(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);Object.keys(n).forEach((function(e){n[e]&&"object"===tC(n[e])&&n[e].vtkClass&&(n[e]=fC(n[e]))}));var r=t(n);return r&&r.modified&&r.modified(),r}function pC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gC(e,t,n){return t&&mC(e.prototype,t),n&&mC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vC(e){return vC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vC(e)}function hC(){return hC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vC(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},hC.apply(this,arguments)}function yC(e,t){if(t&&("object"===tC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bC(e){var t="function"===typeof Map?new Map:void 0;return bC=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oC(e,arguments,vC(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),aC(r,e)},bC(e)}function xC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vC(e);if(t){var a=vC(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yC(this,n)}}fC.register=function(e,t){dC[e]=t};var wC=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}(n,e);var t=xC(n);function n(){return pC(this,n),t.apply(this,arguments)}return gC(n,[{key:"push",value:function(){for(var e=0;e<arguments.length;e++)this.includes(arguments[e])||hC(vC(n.prototype),"push",this).call(this,arguments[e]);return this.length}}]),n}(bC(Array));function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CC(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TC=0,PC=Symbol("void");var OC={};function AC(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach((function(e){OC[e]=AC})),cC.console=console.hasOwnProperty("log")?console:OC;var EC={debug:AC,error:cC.console.error||AC,info:cC.console.info||AC,log:cC.console.log||AC,warn:cC.console.warn||AC};function IC(){EC.debug.apply(EC,arguments)}function RC(){EC.error.apply(EC,arguments)}function kC(){EC.warn.apply(EC,arguments)}var MC={};var _C=Object.create(null);_C.Float32Array=Float32Array,_C.Float64Array=Float64Array,_C.Uint8Array=Uint8Array,_C.Int8Array=Int8Array,_C.Uint16Array=Uint16Array,_C.Int16Array=Int16Array,_C.Uint32Array=Uint32Array,_C.Int32Array=Int32Array,_C.Uint8ClampedArray=Uint8ClampedArray;try{_C.BigInt64Array=BigInt64Array,_C.BigUint64Array=BigUint64Array}catch(CJ){}function DC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oC(_C[e]||Float64Array,n)}function LC(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=_C[e]||Float64Array).from.apply(t,r)}function VC(e){return e.charAt(0).toUpperCase()+e.slice(1)}function NC(e){return VC("_"===e[0]?e.slice(1):e)}function BC(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=[].concat(e[t]))}))}function FC(e){return e&&e.isA?e.getState():e}function UC(e){setTimeout(e,0)}function jC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};BC(t);var n=[];if(Number.isInteger(t.mtime)||(t.mtime=++TC),"classHierarchy"in t){if(!(t.classHierarchy instanceof wC)){for(var r=new wC,a=0;a<t.classHierarchy.length;a++)r.push(t.classHierarchy[a]);t.classHierarchy=r}}else t.classHierarchy=new wC("vtkObject");function o(e){n[e]=null}return e.isDeleted=function(){return!!t.deleted},e.modified=function(r){t.deleted?RC("instance deleted - cannot call any method"):r&&r<e.getMTime()||(t.mtime=++TC,n.forEach((function(t){return t&&t(e)})))},e.onModified=function(e){if(t.deleted)return RC("instance deleted - cannot call any method"),null;var r=n.length;return n.push(e),function(e){return Object.freeze({unsubscribe:function(){o(e)}})}(r)},e.getMTime=function(){return t.mtime},e.isA=function(e){for(var n=t.classHierarchy.length;n--;)if(t.classHierarchy[n]===e)return!0;return!1},e.getClassName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.classHierarchy[t.classHierarchy.length-1-e]},e.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1;return Object.keys(n).forEach((function(i){var s=a?null:e["set".concat(VC(i))];s&&Array.isArray(n[i])&&s.length>1?o=s.apply(void 0,rC(n[i]))||o:s?o=s(n[i])||o:(-1!==["mtime"].indexOf(i)||r||kC("Warning: Set value to model directly ".concat(i,", ").concat(n[i])),o=t[i]!==n[i]||o,t[i]=n[i])})),o},e.get=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return t;var a={};return n.forEach((function(e){a[e]=t[e]})),a},e.getReferenceByName=function(e){return t[e]},e.delete=function(){Object.keys(t).forEach((function(e){return delete t[e]})),n.forEach((function(e,t){return o(t)})),t.deleted=!0},e.getState=function(){if(t.deleted)return null;var n=SC(SC({},t),{},{vtkClass:e.getClassName()});Object.keys(n).forEach((function(e){null===n[e]||void 0===n[e]||"_"===e[0]?delete n[e]:n[e].isA?n[e]=n[e].getState():Array.isArray(n[e])&&(n[e]=n[e].map(FC))}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r},e.shallowCopy=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.getClassName()!==e.getClassName())throw new Error("Cannot ShallowCopy ".concat(n.getClassName()," into ").concat(e.getClassName()));var a=n.get(),o=Object.keys(t).sort();Object.keys(a).sort().forEach((function(e){var n=o.indexOf(e);-1===n?r&&IC("add ".concat(e," in shallowCopy")):o.splice(n,1),t[e]=a[e]})),o.length&&r&&IC("Untouched keys: ".concat(o.join(", "))),e.modified()},e.toJSON=function(){return e.getState()},e}var GC={object:function(e,t,n){return function(){return SC({},t[n.name])}}};function zC(e,t,n){n.forEach((function(n){if("object"===tC(n)){var r=GC[n.type];e["get".concat(NC(n.name))]=r?r(e,t,n):function(){return t[n.name]}}else e["get".concat(NC(n))]=function(){return t[n]}}))}var WC={enum:function(e,t,n){var r="_on".concat(NC(n.name),"Changed");return function(a){if("string"===typeof a){if(void 0!==n.enum[a])return t[n.name]!==n.enum[a]&&(t[n.name]=n.enum[a],e.modified(),!0);throw RC("Set Enum with invalid argument ".concat(n,", ").concat(a)),new RangeError("Set Enum with invalid string argument")}if("number"===typeof a){if(t[n.name]!==a){if(-1!==Object.keys(n.enum).map((function(e){return n.enum[e]})).indexOf(a)){var o,i=t[n.name];return t[n.name]=a,null===(o=t[r])||void 0===o||o.call(t,e,t,a,i),e.modified(),!0}throw RC("Set Enum outside numeric range ".concat(n,", ").concat(a)),new RangeError("Set Enum outside numeric range")}return!1}throw RC("Set Enum with invalid argument (String/Number) ".concat(n,", ").concat(a)),new TypeError("Set Enum with invalid argument (String/Number)")}},object:function(e,t,n){var r="_on".concat(NC(n.name),"Changed");return function(a){if(!sC()(t[n.name],a)){var o,i=t[n.name];return t[n.name]=a,null===(o=t[r])||void 0===o||o.call(t,e,t,a,i),e.modified(),!0}return!1}}};function HC(e){if("object"===tC(e)){var t=WC[e.type];if(t)return function(n,r){return t(n,r,e)};throw RC("No setter for field ".concat(e)),new TypeError("No setter for field")}return function(t,n){var r="_on".concat(NC(e),"Changed");return function(a){if(n.deleted)return RC("instance deleted - cannot call any method"),!1;if(n[e]!==a){var o,i=n[e.name];return n[e]=a,null===(o=n[r])||void 0===o||o.call(n,t,n,a,i),t.modified(),!0}return!1}}}function KC(e,t,n){n.forEach((function(n){"object"===tC(n)?e["set".concat(NC(n.name))]=HC(n)(e,t):e["set".concat(NC(n))]=HC(n)(e,t)}))}function qC(e,t,n){zC(e,t,n),KC(e,t,n)}function XC(e,t,n){n.forEach((function(n){e["get".concat(NC(n))]=function(){return t[n]?Array.from(t[n]):t[n]},e["get".concat(NC(n),"ByReference")]=function(){return t[n]}}))}function YC(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach((function(n){if(t[n]&&r&&t[n].length!==r)throw new RangeError("Invalid initial number of values for array (".concat(n,")"));var o="_on".concat(NC(n),"Changed");e["set".concat(NC(n))]=function(){if(t.deleted)return RC("instance deleted - cannot call any method"),!1;for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];var u,c=s,d=!1;if(1===c.length&&(null==c[0]||c[0].length>=0)&&(c=c[0],d=!0),null==c)u=t[n]!==c;else{if(r&&c.length!==r){if(!(c.length<r&&void 0!==a))throw new RangeError("Invalid number of values for array setter (".concat(n,")"));for(c=Array.from(c),d=!1;c.length<r;)c.push(a)}u=null==t[n]||t[n].length!==c.length;for(var f=0;!u&&f<c.length;++f)u=t[n][f]!==c[f];u&&d&&(c=Array.from(c))}if(u){var p,m=t[n.name];t[n]=c,null===(p=t[o])||void 0===p||p.call(t,e,t,c,m),e.modified()}return u},e["set".concat(NC(n),"From")]=function(e){var r=t[n];e.forEach((function(e,t){r[t]=e}))}}))}function $C(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;XC(e,t,n),YC(e,t,n,r,a)}function ZC(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];void 0!==t[a]&&(t["_".concat(a)]=t[a],delete t[a])}}function QC(e,t,n,r){function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.deleted?RC("instance deleted - cannot call any method"):r>=t.numberOfInputs?RC("algorithm ".concat(e.getClassName()," only has ").concat(t.numberOfInputs," input ports. To add more input ports, use addInputData()")):(t.inputData[r]!==n||t.inputConnection[r])&&(t.inputData[r]=n,t.inputConnection[r]=null,e.modified&&e.modified())}function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.deleted)RC("instance deleted - cannot call any method");else{if(r>=t.numberOfInputs){var a="algorithm ".concat(e.getClassName()," only has ");return a+="".concat(t.numberOfInputs),void RC(a+=" input ports. To add more input ports, use addInputConnection()")}t.inputData[r]=null,t.inputConnection[r]=n}}function i(){for(var e=t.numberOfInputs;e&&!t.inputData[e-1]&&!t.inputConnection[e-1];)e--;return e===t.numberOfInputs&&t.numberOfInputs++,e}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.deleted?(RC("instance deleted - cannot call any method"),null):(e.shouldUpdate()&&e.update(),t.output[n])}if(t.inputData?t.inputData=t.inputData.map(fC):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(fC):t.inputConnection=[],t.output?t.output=t.output.map(fC):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(fC):t.inputArrayToProcess=[],t.numberOfInputs=n,e.shouldUpdate=function(){for(var n=e.getMTime(),a=1/0,o=r;o--;){if(!t.output[o]||t.output[o].isDeleted())return!0;var i=t.output[o].getMTime();if(i<n)return!0;i<a&&(a=i)}for(o=t.numberOfInputs;o--;){var s,l;if(null!==(s=t.inputConnection[o])&&void 0!==s&&s.filter.shouldUpdate()||(null===(l=e.getInputData(o))||void 0===l?void 0:l.getMTime())>a)return!0}return!1},t.numberOfInputs){for(var l=t.numberOfInputs;l--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=a,e.setInputConnection=o,e.addInputData=function(e){t.deleted?RC("instance deleted - cannot call any method"):a(e,i())},e.addInputConnection=function(e){t.deleted?RC("instance deleted - cannot call any method"):o(e,i())},e.getInputData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]},e.getInputConnection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]}}r&&(e.getOutputData=s,e.getOutputPort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(){return s(t)};return n.filter=e,n}),e.update=function(){var n=[];if(t.numberOfInputs)for(var r=0;r<t.numberOfInputs;)n[r]=e.getInputData(r),r++;e.shouldUpdate()&&e.requestData&&e.requestData(n,t.output)},e.getNumberOfInputPorts=function(){return t.numberOfInputs},e.getNumberOfOutputPorts=function(){return r||t.output.length},e.getInputArrayToProcess=function(e){var n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r["get".concat(n.fieldAssociation)]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:a}}}var JC=Symbol("Event abort");function eS(e,t){var n=function(){var t={};return e(t,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Object.freeze(t)};return t&&fC.register(t,n),n}function tS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return!!e})).map((function(e){return e.apply(void 0,n)}))}}function nS(e){return e&&e.isA&&e.isA("vtkObject")}function rS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.keystore=Object.assign(t.keystore||{},n),e.setKey=function(e,n){t.keystore[e]=n},e.getKey=function(e){return t.keystore[e]},e.getAllKeys=function(){return Object.keys(t.keystore)},e.deleteKey=function(e){return delete t.keystore[e]},e.clearKeystore=function(){return e.getAllKeys().forEach((function(e){return delete t.keystore[e]}))}}var aS=1,oS="__root__";var iS={algo:QC,capitalize:VC,chain:tS,debounce:function(e,t,n){var r,a=this,o=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var l=a,u=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(l,i)}),t),u&&e.apply(l,i)};return o.cancel=function(){return clearTimeout(r)},o},enumToString:function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))},event:function(e,t,n){var r=[],a=e.delete,o=1;function i(e){for(var t=0;t<r.length;++t){if(eC(r[t],1)[0]===e)return void r.splice(t,1)}}e["invoke".concat(NC(n))]=function(){var n=arguments;if(t.deleted)RC("instance deleted - cannot call any method");else for(var a=r.slice(),o=function(t){var r=eC(a[t],3),o=r[1],i=r[2];if(!o)return"continue";if(i<0)setTimeout((function(){return o.apply(e,n)}),1-i);else if(o.apply(e,n)===JC)return"break"},i=0;i<a.length;++i){var s=o(i);if("continue"!==s&&"break"===s)break}},e["on".concat(NC(n))]=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.apply)return console.error("Invalid callback for event ".concat(n)),null;if(t.deleted)return RC("instance deleted - cannot call any method"),null;var s=o++;return r.push([s,e,a]),r.sort((function(e,t){return t[2]-e[2]})),function(e){return Object.freeze({unsubscribe:function(){i(e)}})}(s)},e.delete=function(){a(),r.forEach((function(e){return i(eC(e,1)[0])}))}},EVENT_ABORT:JC,formatBytesToProperUnit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=["TB","GB","MB","KB"],a=Number(e),o="B";a>n;)a/=n,o=r.pop();return"".concat(a.toFixed(t)," ").concat(o)},formatNumbersWithThousandSeparator:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=[],r=e;r>1e3;)n.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(t)},get:zC,getArray:XC,getCurrentGlobalMTime:function(){return TC},getStateArrayMapFunc:FC,isVtkObject:nS,keystore:rS,measurePromiseExecution:function(e,t){var n=performance.now();e.finally((function(){var e=performance.now()-n;t(e)}))},moveToProtected:ZC,newInstance:eS,newTypedArray:DC,newTypedArrayFrom:LC,normalizeWheel:function(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,a=10*n,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(1===e.deltaMode?(r*=40,a*=40):(r*=800,a*=800)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}},obj:jC,proxy:function(e,t){rS(e,t);var n=e.delete;t.proxyId="".concat(aS++),t.ui=JSON.parse(JSON.stringify(t.ui||[])),zC(e,t,["proxyId","proxyGroup","proxyName"]),qC(e,t,["proxyManager"]);var r={},a={};function o(e,t){a[t]||(a[t]=[]);for(var n=a[t],i=0;i<e.length;i++)n.push(e[i].name),r[e[i].name]=e[i],e[i].children&&e[i].children.length&&o(e[i].children,e[i].name)}function i(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oS,r=[],o=t.proxyId,s=function(){return a[arguments.length>0&&void 0!==arguments[0]?arguments[0]:oS]}(n)||[],l=0;l<s.length;l++){var u=s[l],c=e["get".concat(NC(u))],d={id:o,name:u,value:c?c():void 0},f=i(u);f.length&&(d.children=f),r.push(d)}return r}o(t.ui,oS),e.updateUI=function(n){t.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach((function(e){return delete r[e]})),Object.keys(a).forEach((function(e){return delete a[e]})),o(t.ui,oS),e.modified()},e.updateProxyProperty=function(e,t){var n=r[e];n?Object.assign(n,t):r[e]=SC({},t)},e.activate=function(){if(t.proxyManager){var n="setActive".concat(NC(e.getProxyGroup().slice(0,-1)));t.proxyManager[n]&&t.proxyManager[n](e)}},t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=function(e,n){n in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[n]=[]),t.propertyLinkSubscribers[n].push(e)},e.gcPropertyLinks=function(n){for(var r=t.propertyLinkSubscribers[n]||[];r.length;)r.pop().unbind(e)},t.propertyLinkMap={},e.getPropertyLink=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.propertyLinkMap[e])return t.propertyLinkMap[e];var r=null,a=[],o=0,i=!1;function s(n){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i)return null;var l=[],u=null;for(o=a.length;o--;){var c=a[o];c.instance===n?u=c:l.push(c)}if(!u)return null;var d=u.instance["get".concat(NC(u.propertyName))]();if(!function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}(d,r)||s){for(r=d,i=!0;l.length;){var f=l.pop();f.instance.set(nC({},f.propertyName,r))}i=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=d),d}function l(e,t){var n=[];for(o=a.length;o--;){var r=a[o];r.instance!==e||r.propertyName!==t&&void 0!==t||(r.subscription.unsubscribe(),n.push(o))}for(;n.length;)a.splice(n.pop(),1)}var u={bind:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.onModified(s),u=a[0];return a.push({instance:n,propertyName:r,subscription:i}),o&&(t.propertyLinkMap[e].persistent&&void 0!==t.propertyLinkMap[e].value?n.set(nC({},r,t.propertyLinkMap[e].value)):u&&s(u.instance,!0)),{unsubscribe:function(){return l(n,r)}}},unbind:l,unsubscribe:function(){for(;a.length;)a.pop().subscription.unsubscribe()},persistent:n};return t.propertyLinkMap[e]=u,u},e.listPropertyNames=function(){return i().map((function(e){return e.name}))},e.getPropertyByName=function(e){return i().find((function(t){return t.name===e}))},e.getPropertyDomainByName=function(e){return(r[e]||{}).domain},e.getProxySection=function(){return{id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:i()}},e.delete=function(){for(var r=Object.keys(t.propertyLinkMap),a=r.length;a--;)t.propertyLinkMap[r[a]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),n()},e.getState=function(){return null},UC((function(){if(t.links)for(var n=0;n<t.links.length;n++){var r=t.links[n],a=r.link,o=r.property,i=r.persistent,s=r.updateOnBind;if("application"===r.type){var l=t.proxyManager.getPropertyLink(a,i);e.registerPropertyLinkForGC(l,"application"),l.bind(e,o,s)}}}))},proxyPropertyMapping:function(e,t,n){for(var r=e.delete,a=[],o=Object.keys(n),i=o.length;i--;){var s=o[i],l=n[s],u=l.modelKey,c=l.property,d=l.modified,f=void 0===d||d,p=NC(c),m=NC(s);e["get".concat(m)]=t[u]["get".concat(p)],e["set".concat(m)]=t[u]["set".concat(p)],f&&a.push(t[u].onModified(e.modified))}e.delete=function(){for(;a.length;)a.pop().unsubscribe();r()}},proxyPropertyState:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.this=e;for(var a=Object.keys(r),o=a.length,i=function(){var i=a[o];t[i]=r[i];var s=n[i];e["set".concat(NC(i))]=function(n){n!==t[i]&&(t[i]=n,function(e){for(var n=Object.keys(e),r=n.length;r--;){var a=n[r];t[a].set(e[a])}}(s[n]),e.modified())}};o--;)i();a.length&&zC(e,t,a)},safeArrays:BC,set:KC,setArray:YC,setGet:qC,setGetArray:$C,setImmediate:UC,setLoggerFunction:function(e,t){EC[e]&&(EC[e]=t||AC)},throttle:function(e,t){var n=!1,r=null;function a(){n=!1,null!==r&&(o.apply(void 0,rC(r)),r=null)}function o(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];n?r=i:(n=!0,e.apply(void 0,i),setTimeout(a,t))}return o},traverseInstanceTree:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(nS(t)){if(a.indexOf(t)>=0)return r;a.push(t);var o=n(t);void 0!==o&&r.push(o);var i=t.get();Object.keys(i).forEach((function(t){var o=i[t];Array.isArray(o)?o.forEach((function(t){e(t,n,r,a)})):e(o,n,r,a)}))}return r},TYPED_ARRAYS:_C,uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},VOID:PC,vtkDebugMacro:IC,vtkErrorMacro:RC,vtkInfoMacro:function(){EC.info.apply(EC,arguments)},vtkLogMacro:function(){EC.log.apply(EC,arguments)},vtkOnceErrorMacro:function(e){MC[e]||(EC.error(e),MC[e]=!0)},vtkWarningMacro:kC};function sS(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function lS(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){sS(o,r,a,i,s,"next",e)}function s(e){sS(o,r,a,i,s,"throw",e)}i(void 0)}))}}var uS=n(9109),cS=n.n(uS),dS={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},fS={DefaultDataType:dS.FLOAT,DataTypeByteSize:{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},VtkDataTypes:dS},pS=navigator.gpu?"WebGPU":"WebGL",mS=Object.create(null);function gS(e,t){mS[e]=t}function vS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mS[e]&&mS[e](t)}var hS={defaultViewAPI:pS,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function yS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hS,n),iS.obj(e,t),iS.setGet(e,t,["interactor","numberOfLayers","_views","defaultViewAPI"]),iS.get(e,t,["neverRendered"]),iS.getArray(e,t,["renderers"]),iS.moveToProtected(e,t,["views"]),iS.event(e,t,"completion"),function(e,t){t.classHierarchy.push("vtkRenderWindow"),e.addRenderer=function(n){e.hasRenderer(n)||(n.setRenderWindow(e),t.renderers.push(n),e.modified())},e.removeRenderer=function(n){t.renderers=t.renderers.filter((function(e){return e!==n})),e.modified()},e.hasRenderer=function(e){return-1!==t.renderers.indexOf(e)},e.newAPISpecificView=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vS(e||t.defaultViewAPI,n)},e.addView=function(n){e.hasView(n)||(n.setRenderable(e),t._views.push(n),e.modified())},e.removeView=function(n){t._views=t._views.filter((function(e){return e!==n})),e.modified()},e.hasView=function(e){return-1!==t._views.indexOf(e)},e.preRender=function(){t.renderers.forEach((function(e){e.isActiveCameraCreated()||e.resetCamera()}))},e.render=function(){e.preRender(),t.interactor?t.interactor.render():t._views.forEach((function(e){return e.traverseAllPasses()}))},e.getStatistics=function(){var e={propCount:0,invisiblePropCount:0};return t.renderers.forEach((function(t){t.getViewProps().forEach((function(t){if(t.getVisibility()){e.propCount+=1;var n=t.getMapper&&t.getMapper();if(n&&n.getPrimitiveCount){var r=n.getPrimitiveCount();Object.keys(r).forEach((function(t){e[t]||(e[t]=0),e[t]+=r[t]}))}}else e.invisiblePropCount+=1}))})),e.str=Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])})).join("\n"),e},e.captureImages=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iS.setImmediate(e.render),t._views.map((function(e){return e.captureNextImage?e.captureNextImage(n,r):void 0})).filter((function(e){return!!e}))}}(e,t)}var bS={newInstance:iS.newInstance(yS,"vtkRenderWindow"),extend:yS,registerViewConstructor:gS,listViewAPIs:function(){return Object.keys(mS)},newAPISpecificView:vS},xS={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},wS={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},CS={Wrap:xS,Filter:wS},SS=new Float32Array(1),TS=new Int32Array(SS.buffer);var PS={fromHalf:function(e){var t=(32768&e)>>15,n=(31744&e)>>10,r=1023&e;return 0===n?(t?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):31===n?r?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))},toHalf:function(e){SS[0]=e;var t=TS[0],n=t>>16&32768,r=t>>12&2047,a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(255===a?0:1)&&8388607&t):a<113?n|=((r|=2048)>>114-a)+(r>>113-a&1):(n|=a-112<<10|r>>1,n+=1&r)}},OS=n(6699),AS=n.n(OS),ES=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],IS=[1,0,0,0,1,0,0,0,1],RS=1e-6,kS=1e-12,MS=iS.vtkErrorMacro,_S=iS.vtkWarningMacro,DS=0,LS=20;function VS(e){return function(){return MS("vtkMath::".concat(e," - NOT IMPLEMENTED"))}}function NS(e,t,n,r){for(var a,o=0;o<t;o++)a=e[n*t+o],e[n*t+o]=e[r*t+o],e[r*t+o]=a}function BS(e,t,n,r){for(var a,o=0;o<t;o++)a=e[o*t+n],e[o*t+n]=e[o*t+r],e[o*t+r]=a}function FS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Array(e),n=0;n<e;++n)t[n]=0;return t}var US=function(){return Math.PI};function jS(e){return e/180*Math.PI}function GS(e){return 180*e/Math.PI}var zS=Math.round,WS=Math.floor,HS=Math.ceil,KS=Math.min,qS=Math.max;function XS(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.length;r<a;r+=t)e[r]<n&&(n=e[r]);return n}function YS(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=-1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.length;r<a;r+=t)n<e[r]&&(n=e[r]);return n}function $S(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0,r=-1/0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.length;a<o;a+=t)e[a]<n&&(n=e[a]),r<e[a]&&(r=e[a]);return[n,r]}var ZS=VS("ceilLog2"),QS=VS("factorial");function JS(e){for(var t=1;t<e;)t*=2;return t}function eT(e){return e===JS(e)}function tT(e,t){for(var n=1,r=1;r<=t;++r)n*=(e-r+1)/r;return Math.floor(n)}function nT(e,t){if(e<t)return 0;for(var n=FS(t),r=0;r<t;++r)n[r]=r;return n}function rT(e,t,n){for(var r=0,a=t-1;a>=0;--a)if(n[a]<e-t+a){for(var o=n[a]+1;a<t;)n[a++]=o++;r=1;break}return r}function aT(e){AS()("".concat(e),{global:!0}),DS=e}function oT(){return DS}function iT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)-e)*Math.random()}var sT=VS("gaussian");function lT(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function uT(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function cT(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e}function dT(e,t){return e[0]*=t,e[1]*=t,e}function fT(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r[2]=e[2]+t[2]*n,r}function pT(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function mT(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gT(e,t,n){n[0]=e[0]*t[0],n[1]=e[0]*t[1],n[2]=e[0]*t[2],n[3]=e[1]*t[0],n[4]=e[1]*t[1],n[5]=e[1]*t[2],n[6]=e[2]*t[0],n[7]=e[2]*t[1],n[8]=e[2]*t[2]}function vT(e,t,n){var r=e[1]*t[2]-e[2]*t[1],a=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];return n[0]=r,n[1]=a,n[2]=o,n}function hT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:for(var n=0,r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}function yT(e){var t=hT(e);return 0!==t&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function bT(e,t,n,r){var a,o,i,s=e[0]*e[0],l=e[1]*e[1],u=e[2]*e[2],c=Math.sqrt(s+l+u);s>l&&s>u?(a=0,o=1,i=2):l>u?(a=1,o=2,i=0):(a=2,o=0,i=1);var d=e[a]/c,f=e[o]/c,p=e[i]/c,m=Math.sqrt(d*d+p*p);if(0!==r){var g=Math.sin(r),v=Math.cos(r);t&&(t[a]=(p*v-d*f*g)/m,t[o]=g*m,t[i]=(-d*v-f*p*g)/m),n&&(n[a]=(-p*g-d*f*v)/m,n[o]=v*m,n[i]=(d*g-f*p*v)/m)}else t&&(t[a]=p/m,t[o]=0,t[i]=-d/m),n&&(n[a]=-d*f/m,n[o]=m,n[i]=-f*p/m)}function xT(e,t,n){var r=mT(t,t);if(0===r)return n[0]=0,n[1]=0,n[2]=0,!1;for(var a=mT(e,t)/r,o=0;o<3;o++)n[o]=t[o];return cT(n,a),!0}function wT(e,t){return e[0]*t[0]+e[1]*t[1]}function CT(e,t,n){var r=wT(t,t);if(0===r)return n[0]=0,n[1]=0,!1;for(var a=wT(e,t)/r,o=0;o<2;o++)n[o]=t[o];return dT(n,a),!0}function ST(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function TT(e,t){var n=[0,0,0];return vT(e,t,n),Math.atan2(hT(n),mT(e,t))}function PT(e,t,n){var r=Math.abs(e-n);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-Math.pow(r,2)/(2*t))}function OT(e,t,n){var r=Math.abs(e-n);return Math.exp(-Math.pow(r,2)/(2*t))}function AT(e,t,n){n[0]=e[0]*t[0],n[1]=e[0]*t[1],n[2]=e[1]*t[0],n[3]=e[1]*t[1]}function ET(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function IT(e){var t=ET(e);return 0!==t&&(e[0]/=t,e[1]/=t),t}function RT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 2===t.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}function kT(e,t){for(var n,r,a,o=[0,0,0],i=0;i<3;i++)a=Math.abs(e[3*i]),(r=Math.abs(e[3*i+1]))>a&&(a=r),(r=Math.abs(e[3*i+2]))>a&&(a=r),o[i]=1/a;a=o[0]*Math.abs(e[0]),n=0,(r=o[1]*Math.abs(e[3]))>=a&&(a=r,n=1),(r=o[2]*Math.abs(e[6]))>=a&&(n=2),0!==n&&(NS(e,3,n,0),o[n]=o[0]),t[0]=n,e[3]/=e[0],e[6]/=e[0],e[4]-=e[3]*e[1],e[7]-=e[6]*e[1],a=o[1]*Math.abs(e[4]),n=1,(r=o[2]*Math.abs(e[7]))>=a&&(n=2,NS(e,3,1,2),o[2]=o[1]),t[1]=n,e[7]/=e[4],e[5]-=e[3]*e[2],e[8]-=e[6]*e[2]+e[7]*e[5],t[2]=2}function MT(e,t,n){var r=n[t[0]];n[t[0]]=n[0],n[0]=r,r=n[t[1]],n[t[1]]=n[1],n[1]=r-e[3]*n[0],r=n[t[2]],n[t[2]]=n[2],n[2]=r-e[6]*n[0]-e[7]*n[1],n[2]/=e[8],n[1]=(n[1]-e[5]*n[2])/e[4],n[0]=(n[0]-e[1]*n[1]-e[2]*n[2])/e[0]}function _T(e,t,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=+RT(s,c,l,d),p=-RT(i,u,l,d),m=+RT(i,u,s,c),g=-RT(a,c,o,d),v=+RT(r,u,o,d),h=-RT(r,u,a,c),y=+RT(a,s,o,l),b=-RT(r,i,o,l),x=+RT(r,i,a,s),w=r*f+a*p+o*m,C=f*t[0]+g*t[1]+y*t[2],S=p*t[0]+v*t[1]+b*t[2],T=m*t[0]+h*t[1]+x*t[2];n[0]=C/w,n[1]=S/w,n[2]=T/w}function DT(e,t,n){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],a=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],o=e[6]*t[0]+e[7]*t[1]+e[8]*t[2];n[0]=r,n[1]=a,n[2]=o}function LT(e,t,n){for(var r=rC(e),a=rC(t),o=0;o<3;o++)n[o]=r[0]*a[o]+r[1]*a[o+3]+r[2]*a[o+6],n[o+3]=r[3]*a[o]+r[4]*a[o+3]+r[5]*a[o+6],n[o+6]=r[6]*a[o]+r[7]*a[o+3]+r[8]*a[o+6]}function VT(e,t,n,r,a,o,i){r!==a&&MS("Number of columns of A must match number of rows of B.");for(var s=rC(e),l=rC(t),u=0;u<n;u++)for(var c=0;c<o;c++){i[u*o+c]=0;for(var d=0;d<r;d++)i[u*o+c]+=s[u*r+d]*l[c+o*d]}}function NT(e,t){var n;n=e[3],t[3]=e[1],t[1]=n,n=e[6],t[6]=e[2],t[2]=n,n=e[7],t[7]=e[5],t[5]=n,t[0]=e[0],t[4]=e[4],t[8]=e[8]}function BT(e,t){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=+RT(i,u,s,c),f=-RT(o,l,s,c),p=+RT(o,l,i,u),m=-RT(r,u,a,c),g=+RT(n,l,a,c),v=-RT(n,l,r,u),h=+RT(r,i,a,s),y=-RT(n,o,a,s),b=+RT(n,o,r,i),x=n*d+r*f+a*p;0===x&&_S("Matrix has 0 determinant"),t[0]=d/x,t[3]=f/x,t[6]=p/x,t[1]=m/x,t[4]=g/x,t[7]=v/x,t[2]=h/x,t[5]=y/x,t[8]=b/x}function FT(e){return e[0]*e[4]*e[8]+e[3]*e[7]*e[2]+e[6]*e[1]*e[5]-e[0]*e[7]*e[5]-e[3]*e[1]*e[8]-e[6]*e[4]*e[2]}function UT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RS;if(e.length!==t.length)return!1;return e.every((function(e,r){return Math.abs(e-t[r])<=n}))}var jT=UT;function GT(e){for(var t=0;t<3;t++)e[3*t]=e[3*t+1]=e[3*t+2]=0,e[3*t+t]=1}function zT(e,t){for(var n=0;n<e;n++){for(var r=0;r<e;r++)t[n*e+r]=0;t[n*e+n]=1}return t}function WT(e){return jT(e,ES,arguments.length>1&&void 0!==arguments[1]?arguments[1]:RS)}function HT(e){return jT(e,IS,arguments.length>1&&void 0!==arguments[1]?arguments[1]:RS)}function KT(e,t){var n=e[0]*e[0],r=e[0]*e[1],a=e[0]*e[2],o=e[0]*e[3],i=e[1]*e[1],s=e[2]*e[2],l=e[3]*e[3],u=e[1]*e[2],c=e[1]*e[3],d=e[2]*e[3],f=i+s+l,p=1/(n+f),m=(n-f)*p;p*=2,t[0]=i*p+m,t[3]=(u+o)*p,t[6]=(c-a)*p,t[1]=(u-o)*p,t[4]=s*p+m,t[7]=(d+r)*p,t[2]=(c+a)*p,t[5]=(d-r)*p,t[8]=l*p+m}function qT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!"".concat(e).includes("e"))return+"".concat(Math.round("".concat(e,"e+").concat(t)),"e-").concat(t);var n="".concat(e).split("e"),r="";return+n[1]+t>0&&(r="+"),+"".concat(Math.round("".concat(+n[0],"e").concat(r).concat(+n[1]+t)),"e-").concat(t)}function XT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[0]=qT(e[0],n),t[1]=qT(e[1],n),t[2]=qT(e[2],n),t}function YT(e,t,n,r){var a,o,i,s,l,u,c,d,f,p,m,g,v,h,y,b,x=FS(t),w=FS(t),C=function(e,t,n){h=e[t],v=e[n],e[t]=h-g*(v+h*p),e[n]=v+g*(h-v*p)};for(zT(t,r),l=0;l<t;l++)x[l]=n[l]=e[l+l*t],w[l]=0;for(a=0;a<LS;a++){for(m=0,l=0;l<t-1;l++)for(s=l+1;s<t;s++)m+=Math.abs(e[l*t+s]);if(0===m)break;for(c=a<3?.2*m/(t*t):0,l=0;l<t-1;l++)for(s=l+1;s<t;s++)if(h=100*Math.abs(e[l*t+s]),a>3&&Math.abs(n[l])+h===Math.abs(n[l])&&Math.abs(n[s])+h===Math.abs(n[s]))e[l*t+s]=0;else if(Math.abs(e[l*t+s])>c){for(v=n[s]-n[l],Math.abs(v)+h===Math.abs(v)?f=e[l*t+s]/v:(d=.5*v/e[l*t+s],f=1/(Math.abs(d)+Math.sqrt(1+d*d)),d<0&&(f=-f)),y=1/Math.sqrt(1+f*f),p=(g=f*y)/(1+y),v=f*e[l*t+s],w[l]-=v,w[s]+=v,n[l]-=v,n[s]+=v,e[l*t+s]=0,o=0;o<=l-1;o++)C(e,o*t+l,o*t+s);for(o=l+1;o<=s-1;o++)C(e,l*t+o,o*t+s);for(o=s+1;o<t;o++)C(e,l*t+o,s*t+o);for(o=0;o<t;o++)C(r,o*t+l,o*t+s)}for(l=0;l<t;l++)x[l]+=w[l],n[l]=x[l],w[l]=0}if(a>=LS)return _S("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(o=0;o<t-1;o++){for(b=n[i=o],a=o+1;a<t;a++)(n[a]>=b||Math.abs(n[a]-b)<kS)&&(b=n[i=a]);i!==o&&(n[i]=n[o],n[o]=b,BS(r,t,o,i))}var S=(t>>1)+(1&t);for(u=0,a=0;a<t*t;a++)r[a]>=0&&u++;if(u<S)for(a=0;a<t;a++)r[a*t+o]*=-1;return 1}function $T(e,t){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n[0]=e[0]+e[4]+e[8],n[5]=e[0]-e[4]-e[8],n[10]=-e[0]+e[4]-e[8],n[15]=-e[0]-e[4]+e[8],n[1]=n[4]=e[7]-e[5],n[2]=n[8]=e[2]-e[6],n[3]=n[12]=e[3]-e[1],n[6]=n[9]=e[3]+e[1],n[7]=n[13]=e[2]+e[6],n[11]=n[14]=e[7]+e[5];var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];YT([].concat(n),4,[0,0,0,0],r),t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12]}function ZT(e,t,n){var r=e[0]*t[0],a=e[0]*t[1],o=e[0]*t[2],i=e[0]*t[3],s=e[1]*t[0],l=e[1]*t[1],u=e[1]*t[2],c=e[1]*t[3],d=e[2]*t[0],f=e[2]*t[1],p=e[2]*t[2],m=e[2]*t[3],g=e[3]*t[0],v=e[3]*t[1],h=e[3]*t[2],y=e[3]*t[3];n[0]=r-l-p-y,n[1]=a+s+m-h,n[2]=o-c+d+v,n[3]=i+u-f+g}function QT(e,t){for(var n=0;n<9;n++)t[n]=e[n];for(var r,a=FS(3),o=FS(3),i=0;i<3;i++){var s=Math.abs(t[3*i]),l=Math.abs(t[3*i+1]),u=Math.abs(t[3*i+2]);r=u>(r=l>s?l:s)?u:r,a[i]=1,0!==r&&(a[i]/=r)}var c=Math.abs(t[0])*a[0],d=Math.abs(t[3])*a[1],f=Math.abs(t[6])*a[2];o[0]=0,d>=(r=c)&&(r=d,o[0]=1),f>=r&&(o[0]=2),0!==o[0]&&(BS(t,3,o[0],0),a[o[0]]=a[0]);var p=Math.abs(t[4])*a[1],m=Math.abs(t[7])*a[2];o[1]=1,m>=(r=p)&&(o[1]=2,BS(t,3,1,2)),o[2]=2;var g=0;if(FT(t)<0){g=1;for(var v=0;v<9;v++)t[v]=-t[v]}var h=FS(4);if($T(t,h),KT(h,t),g)for(var y=0;y<9;y++)t[y]=-t[y];1!==o[1]&&BS(t,3,o[1],1),0!==o[0]&&BS(t,3,o[0],0)}function JT(e,t,n){var r,a,o,i,s,l;if(YT(rC(e),3,t,n),t[0]!==t[1]||t[0]!==t[2]){for(NT(n,n),r=0;r<3;r++)if(t[(r+1)%3]===t[(r+2)%3]){for(l=Math.abs(n[3*r]),i=0,a=1;a<3;a++)l<(s=Math.abs(n[3*r+a]))&&(l=s,i=a);i!==r&&(s=t[i],t[i]=t[r],t[r]=s,NS(n,3,r,i)),n[3*i+i]<0&&(n[3*i]=-n[3*i],n[3*i+1]=-n[3*i+1],n[3*i+2]=-n[3*i+2]),o=(i+2)%3,n[3*(a=(i+1)%3)]=0,n[3*a+1]=0,n[3*a+2]=0,n[3*a+a]=1;var u=vT([n[3*i],n[3*i+1],n[3*i+2]],[n[3*a],n[3*a+1],n[3*a+2]],[]);yT(u);for(var c=vT(u,[n[3*i],n[3*i+1],n[3*i+2]],[]),d=0;d<3;d++)n[3*o+d]=u[d],n[3*a+d]=c[d];return void NT(n,n)}for(l=Math.abs(n[0]),i=0,r=1;r<3;r++)l<(s=Math.abs(n[3*r]))&&(l=s,i=r);if(0!==i){var f=t[i];t[i]=t[0],t[0]=f,NS(n,3,i,0)}if(Math.abs(n[4])<Math.abs(n[7])){var p=t[2];t[2]=t[1],t[1]=p,NS(n,3,1,2)}for(r=0;r<2;r++)n[3*r+r]<0&&(n[3*r]=-n[3*r],n[3*r+1]=-n[3*r+1],n[3*r+2]=-n[3*r+2]);FT(n)<0&&(n[6]=-n[6],n[7]=-n[7],n[8]=-n[8]),NT(n,n)}else GT(n)}function eP(e,t,n,r){var a,o=rC(e),i=FT(o);if(i<0)for(a=0;a<9;a++)o[a]=-o[a];QT(o,t),NT(o,o),LT(o,t,r),JT(r,n,r),LT(t,r,t),NT(r,r),i<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function tP(e,t,n){var r,a,o,i,s,l,u,c=0,d=FS(n);for(r=0;r<n;r++){for(i=0,a=0;a<n;a++)(u=Math.abs(e[r*n+a]))>i&&(i=u);if(0===i)return _S("Unable to factor linear system"),0;d[r]=1/i}for(a=0;a<n;a++){for(r=0;r<a;r++){for(s=e[r*n+a],o=0;o<r;o++)s-=e[r*n+o]*e[o*n+a];e[r*n+a]=s}for(i=0,r=a;r<n;r++){for(s=e[r*n+a],o=0;o<a;o++)s-=e[r*n+o]*e[o*n+a];e[r*n+a]=s,(l=d[r]*Math.abs(s))>=i&&(i=l,c=r)}if(a!==c){for(o=0;o<n;o++)l=e[c*n+o],e[c*n+o]=e[a*n+o],e[a*n+o]=l;d[c]=d[a]}if(t[a]=c,Math.abs(e[a*n+a])<=kS)return _S("Unable to factor linear system"),0;if(a!==n-1)for(l=1/e[a*n+a],r=a+1;r<n;r++)e[r*n+a]*=l}return 1}function nP(e,t,n,r){var a,o,i,s,l;for(i=-1,a=0;a<r;a++){if(l=n[s=t[a]],n[s]=n[a],i>=0)for(o=i;o<=a-1;o++)l-=e[a*r+o]*n[o];else 0!==l&&(i=a);n[a]=l}for(a=r-1;a>=0;a--){for(l=n[a],o=a+1;o<r;o++)l-=e[a*r+o]*n[o];n[a]=l/e[a*r+a]}}function rP(e,t,n){if(2===n){var r=FS(2),a=RT(e[0],e[1],e[2],e[3]);return 0===a?0:(r[0]=(e[3]*t[0]-e[1]*t[1])/a,r[1]=(-e[2]*t[0]+e[0]*t[1])/a,t[0]=r[0],t[1]=r[1],1)}if(1===n)return 0===e[0]?0:(t[0]/=e[0],1);var o=FS(n);return 0===tP(e,o,n)?0:(nP(e,o,t,n),1)}function aP(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||FS(n),o=r||FS(n);if(0===tP(e,a,n))return null;for(var i=0;i<n;i++){for(var s=0;s<n;s++)o[s]=0;o[i]=1,nP(e,a,o,n);for(var l=0;l<n;l++)t[l*n+i]=o[l]}return t}function oP(e,t){for(var n=+Number.MAX_VALUE,r=-Number.MAX_VALUE,a=0;a<t;a++)for(var o=a;o<t;o++)Math.abs(e[a*t+o])>r&&(r=Math.abs(e[a*t+o]));for(var i=0;i<t;i++)Math.abs(e[i*t+i])<n&&(n=Math.abs(e[i*t+i]));return 0===n?Number.MAX_VALUE:r/n}function iP(e,t,n){return YT(e,3,t,n)}function sP(e,t,n,r){if(e<n)return _S("Insufficient number of samples. Underdetermined."),0;var a,o,i,s=FS(n*n),l=FS(n),u=FS(n*n);for(i=0;i<e;i++)for(a=0;a<n;a++)for(o=a;o<n;o++)s[a*n+o]+=t[i*n+a]*t[i*n+o];for(a=0;a<n;a++)for(o=0;o<a;o++)s[a*n+o]=s[o*n+a];for(YT(s,n,l,u),a=0;a<n;a++)r[a]=u[a*n+n-1];return 1}function lP(e,t,n,r,a,o){var i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(e<n||e<a)return _S("Insufficient number of samples. Underdetermined."),0;var s,l,u,c,d=FS(a),f=1,p=0,m=0;if(i){for(u=0;u<a;u++)d[u]=1;for(l=0;l<e;l++)for(u=0;u<a;u++)Math.abs(r[l*a+u])>kS&&(f=0,d[u]=0);if(f&&1===a)return _S("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),sP(e,t,n,o);if(f)m=1;else for(u=0;u<a;u++)d[u]&&(m=1)}m&&(p=sP(e,t,n,s=FS(n)));var g=FS(n*n),v=FS(n*n),h=FS(n*a);for(c=0;c<e;c++)for(l=0;l<n;l++){for(u=l;u<n;u++)g[l*n+u]+=t[c*n+l]*t[c*n+u];for(u=0;u<a;u++)h[l*a+u]+=t[c*n+l]*r[c*a+u]}for(l=0;l<n;l++)for(u=0;u<l;u++)g[l*n+u]=g[u*n+l];var y=aP(g,v,n);if(y)for(l=0;l<n;l++)for(u=0;u<a;u++)for(o[l*a+u]=0,c=0;c<n;c++)o[l*a+u]+=v[l*n+c]*h[c*a+u];if(m)for(u=0;u<a;u++)if(d[u])for(l=0;l<n;l++)o[l*a+u]=s[l*a];return m?p&&y:y}function uP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,.5,1];switch(e.length){case 3:return t[0]=17*parseInt(e[0],16)/255,t[1]=17*parseInt(e[1],16)/255,t[2]=17*parseInt(e[2],16)/255,t;case 4:return t[0]=17*parseInt(e[1],16)/255,t[1]=17*parseInt(e[2],16)/255,t[2]=17*parseInt(e[3],16)/255,t;case 6:return t[0]=parseInt(e.substr(0,2),16)/255,t[1]=parseInt(e.substr(2,2),16)/255,t[2]=parseInt(e.substr(4,2),16)/255,t;case 7:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t;case 9:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t[3]=parseInt(e.substr(7,2),16)/255,t;default:return t}}function cP(e,t){var n,r,a=eC(e,3),o=a[0],i=a[1],s=a[2],l=1/6,u=o,c=o;i>u?u=i:i<c&&(c=i),s>u?u=s:s<c&&(c=s);var d=u;(r=d>0?(u-c)/u:0)>0?(n=o===u?l*(i-s)/(u-c):i===u?1/3+l*(s-o)/(u-c):2/3+l*(o-i)/(u-c))<0&&(n+=1):n=0,t[0]=n,t[1]=r,t[2]=d}function dP(e,t){var n,r,a,o=eC(e,3),i=o[0],s=o[1],l=o[2],u=1/3,c=1/6,d=2/3,f=5/6;i>c&&i<=u?(r=1,n=(u-i)/c,a=0):i>u&&i<=.5?(r=1,a=(i-u)/c,n=0):i>.5&&i<=d?(a=1,r=(d-i)/c,n=0):i>d&&i<=f?(a=1,n=(i-d)/c,r=0):i>f&&i<=1?(n=1,a=(1-i)/c,r=0):(n=1,r=i/c,a=0),n=s*n+(1-s),r=s*r+(1-s),a=s*a+(1-s),n*=l,r*=l,a*=l,t[0]=n,t[1]=r,t[2]=a}function fP(e,t){var n=eC(e,3),r=(n[0]+16)/116,a=n[1]/500+r,o=r-n[2]/200;r=Math.pow(r,3)>.008856?Math.pow(r,3):(r-16/116)/7.787,a=Math.pow(a,3)>.008856?Math.pow(a,3):(a-16/116)/7.787,o=Math.pow(o,3)>.008856?Math.pow(o,3):(o-16/116)/7.787;t[0]=.9505*a,t[1]=1*r,t[2]=1.089*o}function pP(e,t){var n=eC(e,3),r=n[0]/.9505,a=n[1]/1,o=n[2]/1.089;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t[0]=116*a-16,t[1]=500*(r-a),t[2]=200*(a-o)}function mP(e,t){var n=eC(e,3),r=n[0],a=n[1],o=n[2],i=3.2406*r+-1.5372*a+-.4986*o,s=-.9689*r+1.8758*a+.0415*o,l=.0557*r+-.204*a+1.057*o;i>.0031308?i=1.055*Math.pow(i,1/2.4)-.055:i*=12.92,s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,l>.0031308?l=1.055*Math.pow(l,1/2.4)-.055:l*=12.92;var u=i;u<s&&(u=s),u<l&&(u=l),u>1&&(i/=u,s/=u,l/=u),i<0&&(i=0),s<0&&(s=0),l<0&&(l=0),t[0]=i,t[1]=s,t[2]=l}function gP(e,t){var n=eC(e,3),r=n[0],a=n[1],o=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,o>.04045?o=Math.pow((o+.055)/1.055,2.4):o/=12.92,t[0]=.4124*r+.3576*a+.1805*o,t[1]=.2126*r+.7152*a+.0722*o,t[2]=.0193*r+.1192*a+.9505*o}function vP(e,t){var n=[0,0,0];gP(e,n),pP(n,t)}function hP(e,t){var n=[0,0,0];fP(e,n),mP(n,t)}function yP(e){return e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1,e}function bP(e){return!(e[1]-e[0]<0)}function xP(e,t,n){return n[0]=Math.min(e[0],t[0]),n[1]=Math.max(e[0],t[0]),n[2]=Math.min(e[1],t[1]),n[3]=Math.max(e[1],t[1]),n[4]=Math.min(e[2],t[2]),n[5]=Math.max(e[2],t[2]),n}function wP(e,t,n){return e<t?t:e>n?n:e}function CP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0];return r[0]=wP(e[0],t[0],n[0]),r[1]=wP(e[1],t[1],n[1]),r[2]=wP(e[2],t[2],n[2]),r}function SP(e,t){var n=0;return t[0]!==t[1]&&(n=((n=e<t[0]?t[0]:e>t[1]?t[1]:e)-t[0])/(t[1]-t[0])),n}var TP=VS("GetScalarTypeFittingRange"),PP=VS("GetAdjustedScalarRange");function OP(e,t){if(!e||!t)return 0;for(var n=0;n<6;n+=2)if(e[n]<t[n]||e[n]>t[n+1]||e[n+1]<t[n]||e[n+1]>t[n+1])return 0;return 1}function AP(e,t,n){if(!e||!t)return 0;for(var r=0;r<6;r+=2)if(e[r]+n[r/2]<t[r]||e[r]-n[r/2]>t[r+1]||e[r+1]+n[r/2]<t[r]||e[r+1]-n[r/2]>t[r+1])return 0;return 1}function EP(e,t,n){if(!e||!t||!n)return 0;for(var r=0;r<3;r++)if(e[r]+n[r]<t[2*r]||e[r]-n[r]>t[2*r+1])return 0;return 1}function IP(e,t,n,r){for(var a=FS(3),o=FS(3),i=FS(3),s=FS(3),l=FS(3),u=FS(3),c=0;c<3;++c)a[c]=e[c]-t[c],o[c]=t[c]-n[c],i[c]=n[c]-e[c],s[c]=-a[c],l[c]=-o[c],u[c]=-i[c];var d=hT(s),f=hT(l),p=hT(i),m=FS(3);vT(a,o,m);for(var g=hT(m),v=d*f*p/(2*g),h=2*g*g,y=f*f*mT(a,u)/h,b=p*p*mT(s,o)/h,x=d*d*mT(i,l)/h,w=0;w<3;++w)r[w]=y*e[w]+b*t[w]+x*n[w];return v}var RP=1/0,kP=-1/0,MP=function(e){return!Number.isFinite(e)},_P=Number.isFinite,DP=Number.isNaN,LP=DP;function VP(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function NP(e){for(var t=-1,n=-1,r=0;r<e.length;r++){var a=Math.abs(e[r]);a>t&&(n=r,t=a)}return n}function BP(e){var t=Math.floor(255*e);return t>15?t.toString(16):"0".concat(t.toString(16))}function FP(e){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#").concat(e.map(BP).join(""))}function UP(e){return Math.round(255*e)}function jP(e){return 3===e.length?"rgb(".concat(e.map(UP).join(", "),")"):"rgba(".concat(UP(e[0]||0),", ").concat(UP(e[1]||0),", ").concat(UP(e[2]||0),", ").concat(e[3]||0,")")}var GP={Pi:US,radiansFromDegrees:jS,degreesFromRadians:GS,round:zS,floor:WS,ceil:HS,ceilLog2:ZS,min:KS,max:qS,arrayMin:XS,arrayMax:YS,arrayRange:$S,isPowerOfTwo:eT,nearestPowerOfTwo:JS,factorial:QS,binomial:tT,beginCombination:nT,nextCombination:rT,randomSeed:aT,getSeed:oT,random:iT,gaussian:sT,add:lT,subtract:uT,multiplyScalar:cT,multiplyScalar2D:dT,multiplyAccumulate:fT,multiplyAccumulate2D:pT,dot:mT,outer:gT,cross:vT,norm:hT,normalize:yT,perpendiculars:bT,projectVector:xT,projectVector2D:CT,distance2BetweenPoints:ST,angleBetweenVectors:TT,gaussianAmplitude:PT,gaussianWeight:OT,dot2D:wT,outer2D:AT,norm2D:ET,normalize2D:IT,determinant2x2:RT,LUFactor3x3:kT,LUSolve3x3:MT,linearSolve3x3:_T,multiply3x3_vect3:DT,multiply3x3_mat3:LT,multiplyMatrix:VT,transpose3x3:NT,invert3x3:BT,identity3x3:GT,identity:zT,isIdentity:WT,isIdentity3x3:HT,determinant3x3:FT,quaternionToMatrix3x3:KT,areEquals:UT,areMatricesEqual:jT,roundNumber:qT,roundVector:XT,matrix3x3ToQuaternion:$T,multiplyQuaternion:ZT,orthogonalize3x3:QT,diagonalize3x3:JT,singularValueDecomposition3x3:eP,solveLinearSystem:rP,invertMatrix:aP,luFactorLinearSystem:tP,luSolveLinearSystem:nP,estimateMatrixCondition:oP,jacobi:iP,jacobiN:YT,solveHomogeneousLeastSquares:sP,solveLeastSquares:lP,hex2float:uP,rgb2hsv:cP,hsv2rgb:dP,lab2xyz:fP,xyz2lab:pP,xyz2rgb:mP,rgb2xyz:gP,rgb2lab:vP,lab2rgb:hP,uninitializeBounds:yP,areBoundsInitialized:bP,computeBoundsFromPoints:xP,clampValue:wP,clampVector:CP,clampAndNormalizeValue:SP,getScalarTypeFittingRange:TP,getAdjustedScalarRange:PP,extentIsWithinOtherExtent:OP,boundsIsWithinOtherBounds:AP,pointIsWithinBounds:EP,solve3PointCircle:IP,inf:RP,negInf:kP,isInf:MP,isNan:DP,isNaN:DP,isFinite:_P,createUninitializedBounds:VP,getMajorAxisIndex:NP,floatToHex2:BP,floatRGB2HexCode:FP,float2CssRGBA:jP};function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HP=RC;function KP(e,t,n){var r,a,o,i,s=e.length;if(0===s)return{min:Number.MAX_VALUE,max:-Number.MAX_VALUE};for(a=r=e[t],i=t;i<s;i+=n)(o=e[i])<r?r=o:o>a&&(a=o);return{min:r,max:a}}function qP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(t<0&&n>1){for(var r=e.length/n,a=new Float64Array(r),o=0,i=0;o<r;++o){for(var s,l=i+n;i<l;++i)a[o]+=e[i]*e[i];a[s=o]=Math.pow(a[s],.5)}return KP(a,0,1)}return KP(e,t<0?0:t,n)}function XP(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||[];n.length<=t;)n.push(null);return n}function YP(e){return Object.prototype.toString.call(e).slice(8,-1)}var $P={computeRange:qP,createRangeHelper:function(){var e=Number.MAX_VALUE,t=-Number.MAX_VALUE,n=0,r=0;return{add:function(a){e>a&&(e=a),t<a&&(t=a),n++,r+=a},get:function(){return{min:e,max:t,count:n,sum:r,mean:r/n}},getRange:function(){return{min:e,max:t}}}},fastComputeRange:KP,getDataType:YP,getMaxNorm:function(e){for(var t=e.getNumberOfComponents(),n=0,r=new Array(t),a=0;a<e.getNumberOfTuples();++a){e.getTuple(a,r);var o=hT(r,t);o>n&&(n=o)}return n}};var ZP={name:"",numberOfComponents:1,dataType:fS.DefaultDataType,rangeTuple:[0,0]};function QP(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,ZP,r),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");(t.values?Array.isArray(t.values)&&(t.values=LC(t.dataType,t.values)):t.values=DC(t.dataType,t.size),t.values)&&(t.size=null!==(n=t.size)&&void 0!==n?n:t.values.length,t.dataType=YP(t.values));jC(e,t),KC(e,t,["name","numberOfComponents"]),function(e,t){function n(n){if(n<0)return!1;var r=e.getNumberOfComponents(),a=t.values.length/(r>0?r:1);if(n===a)return!0;if(n>a){var o=t.values;return t.values=DC(t.dataType,(n+a)*r),t.values.set(o),!0}return t.size>n*r&&(t.size=n*r,e.dataChange()),!0}t.classHierarchy.push("vtkDataArray"),e.dataChange=function(){t.ranges=null,e.modified()},e.resize=function(r){n(r);var a=r*e.getNumberOfComponents();return t.size!==a&&(t.size=a,e.dataChange(),!0)},e.initialize=function(){e.resize(0)},e.getElementComponentSize=function(){return t.values.BYTES_PER_ELEMENT},e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(n,r,a){a!==t.values[n*t.numberOfComponents+r]&&(t.values[n*t.numberOfComponents+r]=a,e.dataChange())},e.getValue=function(n){var r=n/t.numberOfComponents,a=n%t.numberOfComponents;return e.getComponent(r,a)},e.setValue=function(n,r){var a=n/t.numberOfComponents,o=n%t.numberOfComponents;e.setComponent(a,o,r)},e.getData=function(){return t.size===t.values.length?t.values:t.values.subarray(0,t.size)},e.getRange=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=n<0?t.numberOfComponents:n,a=null;return t.ranges||(t.ranges=XP(t.ranges,t.numberOfComponents)),(a=t.ranges[r])?(t.rangeTuple[0]=a.min,t.rangeTuple[1]=a.max,t.rangeTuple):(a=qP(e.getData(),n,t.numberOfComponents),t.ranges[r]=a,t.rangeTuple[0]=a.min,t.rangeTuple[1]=a.max,t.rangeTuple)},e.setRange=function(e,n){t.ranges||(t.ranges=XP(t.ranges,t.numberOfComponents));var r={min:e.min,max:e.max};return t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple},e.setTuple=function(e,n){for(var r=e*t.numberOfComponents,a=0;a<t.numberOfComponents;a++)t.values[r+a]=n[a]},e.setTuples=function(e,n){for(var r=e*t.numberOfComponents,a=Math.min(n.length,t.size-r),o=0;o<a;)t.values[r++]=n[o++]},e.insertTuple=function(r,a){return t.size<=r*t.numberOfComponents&&(t.size=(r+1)*t.numberOfComponents,n(r+1)),e.setTuple(r,a),r},e.insertTuples=function(r,a){var o=r+a.length/t.numberOfComponents;return t.size<o*t.numberOfComponents&&(t.size=o*t.numberOfComponents,n(o)),e.setTuples(r,a),o},e.insertNextTuple=function(n){var r=t.size/t.numberOfComponents;return e.insertTuple(r,n)},e.insertNextTuples=function(n){var r=t.size/t.numberOfComponents;return e.insertTuples(r,n)},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.numberOfComponents||1,a=e*r;switch(r){case 4:n[3]=t.values[a+3];case 3:n[2]=t.values[a+2];case 2:n[1]=t.values[a+1];case 1:n[0]=t.values[a];break;default:for(var o=r-1;o>=0;--o)n[o]=t.values[a+o]}return n},e.getTuples=function(n,r){var a=(null!==n&&void 0!==n?n:0)*t.numberOfComponents,o=(null!==r&&void 0!==r?r:e.getNumberOfTuples())*t.numberOfComponents,i=e.getData().subarray(a,o);return i.length>0?i:null},e.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.size},e.getNumberOfTuples=function(){return t.size/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return JP({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkDataArray".concat(e.getMTime())),t.name},e.setData=function(n,r){t.values=n,t.size=n.length,t.dataType=YP(n),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!==0&&(t.numberOfComponents=1),e.dataChange()},e.getState=function(){if(t.deleted)return null;var n=WP(WP({},t),{},{vtkClass:e.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach((function(e){n[e]||delete n[e]}));var r={};return Object.keys(n).sort().forEach((function(e){r[e]=n[e]})),r.mtime&&delete r.mtime,r},e.deepCopy=function(t){e.shallowCopy(t),e.setData(t.getData().slice())},e.interpolateTuple=function(n,r,a,o,i,s){var l=t.numberOfComponents||1;l===r.getNumberOfComponents()&&l===o.getNumberOfComponents()||HP("numberOfComponents must match");var u=r.getTuple(a),c=o.getTuple(i),d=[];switch(d.length=l,l){case 4:d[3]=u[3]+(c[3]-u[3])*s;case 3:d[2]=u[2]+(c[2]-u[2])*s;case 2:d[1]=u[1]+(c[1]-u[1])*s;case 1:d[0]=u[0]+(c[0]-u[0])*s;break;default:for(var f=0;f<l;f++)d[f]=u[f]+(c[f]-u[f])*s}return e.insertTuple(n,d)}}(e,t)}var JP=eS(QP,"vtkDataArray"),eO=WP(WP({newInstance:JP,extend:QP},$P),fS),tO=iS.vtkErrorMacro;var nO={renderable:null,myFactory:null,children:[],visited:!1};function rO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,nO,n),iS.obj(e,t),iS.event(e,t,"event"),t._renderableChildMap=new Map,iS.get(e,t,["visited"]),iS.setGet(e,t,["_parent","renderable","myFactory"]),iS.getArray(e,t,["children"]),iS.moveToProtected(e,t,["parent"]),function(e,t){t.classHierarchy.push("vtkViewNode"),e.build=function(e){},e.render=function(e){},e.traverse=function(n){var r=n.getTraverseOperation(),a=e[r];if(a)a(n);else{e.apply(n,!0);for(var o=0;o<t.children.length;o++)t.children[o].traverse(n);e.apply(n,!1)}},e.apply=function(t,n){var r=e[t.getOperation()];r&&r(n,t)},e.getViewNodeFor=function(n){if(t.renderable===n)return e;for(var r=0;r<t.children.length;++r){var a=t.children[r].getViewNodeFor(n);if(a)return a}},e.getFirstAncestorOfType=function(e){return t._parent?t._parent.isA(e)?t._parent:t._parent.getFirstAncestorOfType(e):null},e.addMissingNode=function(n){if(n){var r=t._renderableChildMap.get(n);if(void 0!==r)r.setVisited(!0);else{var a=e.createViewNode(n);a&&(a.setParent(e),a.setVisited(!0),t._renderableChildMap.set(n,a),t.children.push(a))}}},e.addMissingNodes=function(n){if(n&&n.length)for(var r=0;r<n.length;++r){var a=n[r],o=t._renderableChildMap.get(a);if(void 0!==o)o.setVisited(!0);else{var i=e.createViewNode(a);i&&(i.setParent(e),i.setVisited(!0),t._renderableChildMap.set(a,i),t.children.push(i))}}},e.addMissingChildren=function(n){if(n&&n.length)for(var r=0;r<n.length;++r){var a=n[r];-1===t.children.indexOf(a)&&(a.setParent(e),t.children.push(a)),a.setVisited(!0)}},e.prepareNodes=function(){for(var e=0;e<t.children.length;++e)t.children[e].setVisited(!1)},e.setVisited=function(e){t.visited=e},e.removeUnusedNodes=function(){for(var e=null,n=0;n<t.children.length;++n){var r=t.children[n];if(r.getVisited())r.setVisited(!1);else{var a=r.getRenderable();a&&t._renderableChildMap.delete(a),e||(e=[]),e.push(r),r.delete()}}e&&(t.children=t.children.filter((function(t){return!e.includes(t)})))},e.createViewNode=function(e){if(!t.myFactory)return tO("Cannot create view nodes without my own factory"),null;var n=t.myFactory.createNode(e);return n&&n.setRenderable(e),n};var n=e.delete;e.delete=function(){for(var e=0;e<t.children.length;e++)t.children[e].delete();n()}}(e,t)}var aO={newInstance:iS.newInstance(rO,"vtkViewNode"),extend:rO,PASS_TYPES:["Build","Render"]};var oO={};function iO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oO,n),iS.obj(e,t),function(e,t){t.overrides||(t.overrides={}),t.classHierarchy.push("vtkViewNodeFactory"),e.createNode=function(n){if(n.isDeleted())return null;for(var r=0,a=n.getClassName(r++),o=!1,i=Object.keys(t.overrides);a&&!o;)-1!==i.indexOf(a)?o=!0:a=n.getClassName(r++);if(!o)return null;var s=t.overrides[a]();return s.setMyFactory(e),s},e.registerOverride=function(e,n){t.overrides[e]=n}}(e,t)}var sO={newInstance:iS.newInstance(iO,"vtkViewNodeFactory"),extend:iO},lO=Object.create(null);function uO(e,t){lO[e]=t}var cO={};function dO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,cO,n),t.overrides=lO,sO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkOpenGLViewNodeFactory")}(0,t)}var fO={newInstance:iS.newInstance(dO,"vtkOpenGLViewNodeFactory"),extend:dO};function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mO=CS.Wrap,gO=CS.Filter,vO=eO.VtkDataTypes,hO=IC,yO=RC,bO=kC,xO=PS.toHalf;function wO(e,t){function n(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],o=t.width*t.height*t.components;if(r&&(o*=t.depth),e!==vO.FLOAT&&t.openGLDataType===t.context.FLOAT)for(var i=0;i<n.length;i++)if(n[i]){var s=n[i].length>o?n[i].subarray(0,o):n[i];a.push(new Float32Array(s))}else a.push(null);if(e!==vO.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE)for(var l=0;l<n.length;l++)if(n[l]){var u=n[l].length>o?n[l].subarray(0,o):n[l];a.push(new Uint8Array(u))}else a.push(null);var c=!1;if(t._openGLRenderWindow.getWebgl2())c=t.openGLDataType===t.context.HALF_FLOAT;else{var d=t.context.getExtension("OES_texture_half_float");c=d&&t.openGLDataType===d.HALF_FLOAT_OES}if(c)for(var f=0;f<n.length;f++)if(n[f]){for(var p=new Uint16Array(o),m=n[f],g=0;g<o;g++)p[g]=xO(m[g]);a.push(p)}else a.push(null);if(0===a.length)for(var v=0;v<n.length;v++)a.push(n[v]);return a}function r(e){if(t._openGLRenderWindow.getWebgl2())return e;var n=[],r=t.width,a=t.height,o=t.components;if(e&&(!eT(r)||!eT(a)))for(var i=t.context.getExtension("OES_texture_half_float"),s=JS(r),l=JS(a),u=s*l*t.components,c=0;c<e.length;c++)if(null!==e[c]){var d=null,f=a/l,p=r/s,m=!1;t.openGLDataType===t.context.FLOAT?d=new Float32Array(u):i&&t.openGLDataType===i.HALF_FLOAT_OES?(d=new Uint16Array(u),m=!0):d=new Uint8Array(u);for(var g=0;g<l;g++){var v=g*s*o,h=g*f,y=Math.floor(h),b=Math.ceil(h);b>=a&&(b=a-1);var x=h-y,w=1-x;y=y*r*o,b=b*r*o;for(var C=0;C<s;C++){var S=C*o,T=C*p,P=Math.floor(T),O=Math.ceil(T);O>=r&&(O=r-1);var A=T-P;P*=o,O*=o;for(var E=0;E<o;E++)d[v+S+E]=m?PS.toHalf(PS.fromHalf(e[c][y+P+E])*w*(1-A)+PS.fromHalf(e[c][y+O+E])*w*A+PS.fromHalf(e[c][b+P+E])*x*(1-A)+PS.fromHalf(e[c][b+O+E])*x*A):e[c][y+P+E]*w*(1-A)+e[c][y+O+E]*w*A+e[c][b+P+E]*x*(1-A)+e[c][b+O+E]*x*A}}n.push(d),t.width=s,t.height=l}else n.push(null);if(0===n.length)for(var I=0;I<e.length;I++)n.push(e[I]);return n}function a(e){var n;return!!t._openGLRenderWindow&&(!(t.resizable||null!==(n=t.renderable)&&void 0!==n&&n.getResizable())&&(!!t._openGLRenderWindow.getWebgl2()&&(!(t._openGLRenderWindow.getGLInformations().RENDERER.value.match(/WebKit/gi)&&navigator.platform.match(/Mac/gi)&&t.oglNorm16Ext)||e!==vO.UNSIGNED_SHORT&&e!==vO.SHORT)))}function o(n,r){for(var a=n.getNumberOfComponents(),o=n.getDataType(),i=n.getData(),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=eC(n.getRange(u),2),d=c[0],f=c[1];s[u]=d,l[u]=f}var p=function(e,t,n){for(var r=new Array(n),a=new Array(n),o=0;o<n;++o)r[o]=e[o],a[o]=t[o]-e[o]||1;return{scale:a,offset:r}}(s,l,a);return function(n,r,a,o){e.getOpenGLDataType(n);var i=!1;if(t._openGLRenderWindow.getWebgl2())i=t.openGLDataType===t.context.HALF_FLOAT;else{var s=t.context.getExtension("OES_texture_half_float");i=s&&t.openGLDataType===s.HALF_FLOAT_OES}var l=i&&(function(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=t[n]+r;if(r<-2048||r>2048||a<-2048||a>2048)return!1}return!0}(r,a)||o);t.useHalfFloat=l}(o,p.offset,p.scale,r),t.useHalfFloat||e.getOpenGLDataType(o,!0),{numComps:a,dataType:o,data:i,scaleOffsets:p}}t.classHierarchy.push("vtkOpenGLTexture"),e.render=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(n?t._openGLRenderWindow=n:(t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t._openGLRenderWindow=t._openGLRenderer.getParent()),t.context=t._openGLRenderWindow.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(gO.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(gO.LINEAR),e.setMagnificationFilter(gO.LINEAR)):(e.setMinificationFilter(gO.NEAREST),e.setMagnificationFilter(gO.NEAREST)),t.renderable.getRepeat()&&(e.setWrapR(mO.REPEAT),e.setWrapS(mO.REPEAT),e.setWrapT(mO.REPEAT)),t.renderable.getInputData()&&t.renderable.setImage(null),!t.handle||t.renderable.getMTime()>t.textureBuildTime.getMTime()){if(null!==t.renderable.getImage()&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(gO.LINEAR_MIPMAP_LINEAR)),t.renderable.getImage()&&t.renderable.getImageLoaded()&&(e.create2DFromImage(t.renderable.getImage()),e.activate(),e.sendParameters(),t.textureBuildTime.modified())),null!==t.renderable.getCanvas()){t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(gO.LINEAR_MIPMAP_LINEAR));var r=t.renderable.getCanvas();e.create2DFromRaw(r.width,r.height,4,vO.UNSIGNED_CHAR,r,!0),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}if(null!==t.renderable.getJsImageData()){var a=t.renderable.getJsImageData();t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(gO.LINEAR_MIPMAP_LINEAR)),e.create2DFromRaw(a.width,a.height,4,vO.UNSIGNED_CHAR,a.data,!0),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}var o=t.renderable.getInputData(0);if(o&&o.getPointData().getScalars()){for(var i=o.getExtent(),s=o.getPointData().getScalars(),l=[],u=0;u<t.renderable.getNumberOfInputPorts();++u){var c=t.renderable.getInputData(u),d=c?c.getPointData().getScalars().getData():null;d&&l.push(d)}t.renderable.getInterpolate()&&4===s.getNumberOfComponents()&&(t.generateMipmap=!0,e.setMinificationFilter(gO.LINEAR_MIPMAP_LINEAR)),l.length%6===0?e.createCubeFromRaw(i[1]-i[0]+1,i[3]-i[2]+1,s.getNumberOfComponents(),s.getDataType(),l):e.create2DFromRaw(i[1]-i[0]+1,i[3]-i[2]+1,s.getNumberOfComponents(),s.getDataType(),s.getData()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}}t.handle&&e.activate()},e.destroyTexture=function(){e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()},e.createTexture=function(){t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t._openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.bindTexture(t.target,null)))},e.getTextureUnit=function(){return t._openGLRenderWindow?t._openGLRenderWindow.getTextureUnitForTexture(e):-1},e.activate=function(){t._openGLRenderWindow.activateTexture(e),e.bind()},e.deactivate=function(){t._openGLRenderWindow&&t._openGLRenderWindow.deactivateTexture(e)},e.releaseGraphicsResources=function(n){n&&t.handle&&(n.activateTexture(e),n.deactivateTexture(e),t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0),t.shaderProgram&&(t.shaderProgram.releaseGraphicsResources(n),t.shaderProgram=null)},e.bind=function(){t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()},e.isBound=function(){var e=!1;if(t.context&&t.handle){var n=0;if(t.target===t.context.TEXTURE_2D)n=t.context.TEXTURE_BINDING_2D;else bO("impossible case");e=t.context.getIntegerv(n)===t.handle}return e},e.sendParameters=function(){t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t._openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t._openGLRenderWindow.getWebgl2()&&(t.context.texParameteri(t.target,t.context.TEXTURE_BASE_LEVEL,t.baseLevel),t.context.texParameteri(t.target,t.context.TEXTURE_MAX_LEVEL,t.maxLevel)),t.sendParametersTime.modified()},e.getInternalFormat=function(n,r){return t._forceInternalFormat||(t.internalFormat=e.getDefaultInternalFormat(n,r)),t.internalFormat||hO("Unable to find suitable internal format for T=".concat(n," NC= ").concat(r)),t.internalFormat},e.getDefaultInternalFormat=function(e,n){var r;return(r=t._openGLRenderWindow.getDefaultTextureInternalFormat(e,n,t.oglNorm16Ext,t.useHalfFloat))||r||(hO("Unsupported internal texture type!"),hO("Unable to find suitable internal format for T=".concat(e," NC= ").concat(n))),r},e.setInternalFormat=function(n){t._forceInternalFormat=!0,n!==t.internalFormat&&(t.internalFormat=n,e.modified())},e.getFormat=function(n,r){return t.format=e.getDefaultFormat(n,r),t.format},e.getDefaultFormat=function(e,n){if(t._openGLRenderWindow.getWebgl2())switch(n){case 1:return t.context.RED;case 2:return t.context.RG;case 3:default:return t.context.RGB;case 4:return t.context.RGBA}else switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:default:return t.context.RGB;case 4:return t.context.RGBA}},e.resetFormatAndType=function(){t.format=0,t.internalFormat=0,t._forceInternalFormat=!1,t.openGLDataType=0},e.getDefaultDataType=function(e){if(t._openGLRenderWindow.getWebgl2())switch(e){case vO.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case t.oglNorm16Ext&&!t.useHalfFloat&&vO.SHORT:return t.context.SHORT;case t.oglNorm16Ext&&!t.useHalfFloat&&vO.UNSIGNED_SHORT:return t.context.UNSIGNED_SHORT;case t.useHalfFloat&&vO.SHORT:case t.useHalfFloat&&vO.UNSIGNED_SHORT:return t.context.HALF_FLOAT;case vO.FLOAT:case vO.VOID:default:return t.context.FLOAT}switch(e){case vO.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case vO.FLOAT:case vO.VOID:default:if(t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear"))return t.context.FLOAT;var n=t.context.getExtension("OES_texture_half_float");return n&&t.context.getExtension("OES_texture_half_float_linear")?n.HALF_FLOAT_OES:t.context.UNSIGNED_BYTE}},e.getOpenGLDataType=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.openGLDataType&&!r||(t.openGLDataType=e.getDefaultDataType(n)),t.openGLDataType},e.getShiftAndScale=function(){var e=0,n=1;switch(t.openGLDataType){case t.context.BYTE:e=(n=127.5)-128;break;case t.context.UNSIGNED_BYTE:n=255,e=0;break;case t.context.SHORT:e=(n=32767.5)-32768;break;case t.context.UNSIGNED_SHORT:n=65536,e=0;break;case t.context.INT:e=(n=2147483647.5)-2147483648;break;case t.context.UNSIGNED_INT:n=4294967295,e=0;case t.context.FLOAT:}return{shift:e,scale:n}},e.getOpenGLFilterMode=function(e){switch(e){case gO.NEAREST:return t.context.NEAREST;case gO.LINEAR:return t.context.LINEAR;case gO.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case gO.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case gO.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case gO.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}},e.getOpenGLWrapMode=function(e){switch(e){case mO.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case mO.REPEAT:return t.context.REPEAT;case mO.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}},e.create2DFromRaw=function(o,i,s,l,u){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.getOpenGLDataType(l,!0),e.getInternalFormat(l,s),e.getFormat(l,s),!t.internalFormat||!t.format||!t.openGLDataType)return yO("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=s,t.width=o,t.height=i,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();var d=r(n(l,[u]));return t.context.pixelStorei(t.context.UNPACK_FLIP_Y_WEBGL,c),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),a(l)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),null!=d[0]&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,d[0])):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,d[0]),t.generateMipmap&&t.context.generateMipmap(t.target),c&&t.context.pixelStorei(t.context.UNPACK_FLIP_Y_WEBGL,!1),e.deactivate(),!0},e.createCubeFromRaw=function(o,i,s,l,u){if(e.getOpenGLDataType(l),e.getInternalFormat(l,s),e.getFormat(l,s),!t.internalFormat||!t.format||!t.openGLDataType)return yO("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_CUBE_MAP,t.components=s,t.width=o,t.height=i,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),t.maxLevel=u.length/6-1,e.createTexture(),e.bind();for(var c=r(n(l,u)),d=[],f=t.width,p=t.height,m=0;m<c.length;m++){m%6===0&&0!==m&&(f/=2,p/=2),d[m]=DC(l,p*f*t.components);for(var g=0;g<p;++g){var v=g*f*t.components,h=(p-g-1)*f*t.components;d[m].set(c[m].slice(h,h+f*t.components),v)}}t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),a(l)&&t.context.texStorage2D(t.target,6,t.internalFormat,t.width,t.height);for(var y=0;y<6;y++)for(var b=0,x=t.width,w=t.height;x>=1&&w>=1;){var C=null;b<=t.maxLevel&&(C=d[6*b+y]),a(l)?null!=C&&t.context.texSubImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,0,0,x,w,t.format,t.openGLDataType,C):t.context.texImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,t.internalFormat,x,w,0,t.format,t.openGLDataType,C),b++,x/=2,w/=2}return e.deactivate(),!0},e.createDepthFromRaw=function(n,r,o,i){return e.getOpenGLDataType(o),t.format=t.context.DEPTH_COMPONENT,t._openGLRenderWindow.getWebgl2()?o===vO.FLOAT?t.internalFormat=t.context.DEPTH_COMPONENT32F:t.internalFormat=t.context.DEPTH_COMPONENT16:t.internalFormat=t.context.DEPTH_COMPONENT,t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_2D,t.components=1,t.width=n,t.height=r,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),a(o)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),null!=i&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,i)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,i),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(yO("Failed to determine texture parameters."),!1)},e.create2DFromImage=function(n){if(e.getOpenGLDataType(vO.UNSIGNED_CHAR),e.getInternalFormat(vO.UNSIGNED_CHAR,4),e.getFormat(vO.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return yO("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=4,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);var r=!t._openGLRenderWindow.getWebgl2()&&(!eT(n.width)||!eT(n.height)),o=document.createElement("canvas");o.width=r?JS(n.width):n.width,o.height=r?JS(n.height):n.height,t.width=o.width,t.height=o.height;var i=o.getContext("2d");i.translate(0,o.height),i.scale(1,-1),i.drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);var s=o;return a(vO.UNSIGNED_CHAR)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),null!=s&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,s)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,s),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.create2DFilterableFromRaw=function(t,n,r,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return e.create2DFilterableFromDataArray(t,n,eO.newInstance({numberOfComponents:r,dataType:a,values:o}),i)},e.create2DFilterableFromDataArray=function(t,n,r){var a=o(r,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=a.numComps,s=a.dataType,l=a.data;e.create2DFromRaw(t,n,i,s,l)},e.create3DFromRaw=function(o,i,s,l,u,c){if(e.getOpenGLDataType(u),e.getInternalFormat(u,l),e.getFormat(u,l),!t.internalFormat||!t.format||!t.openGLDataType)return yO("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_3D,t.components=l,t.width=o,t.height=i,t.depth=s,t.numberOfDimensions=3,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();var d=r(n(u,[c],!0));return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),a(u)?(t.context.texStorage3D(t.target,1,t.internalFormat,t.width,t.height,t.depth),null!=d[0]&&t.context.texSubImage3D(t.target,0,0,0,0,t.width,t.height,t.depth,t.format,t.openGLDataType,d[0])):t.context.texImage3D(t.target,0,t.internalFormat,t.width,t.height,t.depth,0,t.format,t.openGLDataType,d[0]),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.create3DFilterableFromRaw=function(t,n,r,a,o,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return e.create3DFilterableFromDataArray(t,n,r,eO.newInstance({numberOfComponents:a,dataType:o,values:i}),s)},e.create3DFilterableFromDataArray=function(n,r,i,s){for(var l=o(s,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),u=l.numComps,c=l.dataType,d=l.data,f=l.scaleOffsets,p=n*r*i,m=[],g=[],v=0;v<u;++v)m[v]=0,g[v]=1;t.volumeInfo={scale:g,offset:m,dataComputedScale:f.scale,dataComputedOffset:f.offset,width:n,height:r,depth:i};var h=structuredClone(f);if(t._openGLRenderWindow.getWebgl2()){if(t.oglNorm16Ext&&!t.useHalfFloat&&c===vO.SHORT){for(var y=0;y<u;++y)t.volumeInfo.scale[y]=32767;return e.create3DFromRaw(n,r,i,u,c,d)}if(t.oglNorm16Ext&&!t.useHalfFloat&&c===vO.UNSIGNED_SHORT){for(var b=0;b<u;++b)t.volumeInfo.scale[b]=65535;return e.create3DFromRaw(n,r,i,u,c,d)}if(c===vO.FLOAT||t.useHalfFloat&&(c===vO.SHORT||c===vO.UNSIGNED_SHORT))return e.create3DFromRaw(n,r,i,u,c,d);if(c===vO.UNSIGNED_CHAR){for(var x=0;x<u;++x)t.volumeInfo.scale[x]=255;return e.create3DFromRaw(n,r,i,u,c,d)}var w=new Float32Array(p*u);t.volumeInfo.offset=h.offset,t.volumeInfo.scale=h.scale;for(var C=0,S=h.scale.map((function(e){return 1/e})),T=0;T<p;T++)for(var P=0;P<u;P++)w[C]=(d[C]-h.offset[P])*S[P],C++;return e.create3DFromRaw(n,r,i,u,vO.FLOAT,w)}var O=function(e,t,n,r,a){e[t]=n},A=vO.UNSIGNED_CHAR;if(c===vO.UNSIGNED_CHAR)for(var E=0;E<u;++E)h.offset[E]=0,h.scale[E]=255;else t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear")?(A=vO.FLOAT,O=function(e,t,n,r,a){e[t]=(n-r)/a}):(A=vO.UNSIGNED_CHAR,O=function(e,t,n,r,a){e[t]=255*(n-r)/a});if(e.getOpenGLDataType(A),e.getInternalFormat(A,u),e.getFormat(A,u),!t.internalFormat||!t.format||!t.openGLDataType)return yO("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=u,t.depth=1,t.numberOfDimensions=2;var I=t.context.getParameter(t.context.MAX_TEXTURE_SIZE);I>4096&&(A===vO.FLOAT||u>=3)&&(I=4096);var R=1,k=1;p>I*I&&(k=R=Math.ceil(Math.sqrt(p/(I*I))));var M=Math.sqrt(p)/R;M=JS(M);var _,D=Math.floor(M*R/n),L=Math.ceil(i/D),V=JS(r*L/k);t.width=M,t.height=V,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.volumeInfo.xreps=D,t.volumeInfo.yreps=L,t.volumeInfo.xstride=R,t.volumeInfo.ystride=k,t.volumeInfo.offset=h.offset,t.volumeInfo.scale=h.scale;var N=M*V*u;_=A===vO.FLOAT?new Float32Array(N):new Uint8Array(N);for(var B=0,F=Math.floor(n/R),U=Math.floor(r/k),j=0;j<L;j++)for(var G=Math.min(D,i-j*D),z=u*(t.width-G*Math.floor(n/R)),W=0;W<U;W++){for(var H=0;H<G;H++)for(var K=u*((j*D+H)*n*r+k*W*n),q=0;q<F;q++)for(var X=0;X<u;X++)O(_,B,d[K+R*q*u+X],h.offset[X],h.scale[X]),B++;B+=z}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),a(A)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),null!=_&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,_)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,_),e.deactivate(),!0},e.setOpenGLRenderWindow=function(n){t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.getMaximumTextureSize=function(e){return e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1}}var CO={_openGLRenderWindow:null,_forceInternalFormat:!1,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:mO.CLAMP_TO_EDGE,wrapT:mO.CLAMP_TO_EDGE,wrapR:mO.CLAMP_TO_EDGE,minificationFilter:gO.NEAREST,magnificationFilter:gO.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1,useHalfFloat:!0,oglNorm16Ext:null};function SO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,CO,n),aO.extend(e,t,n),t.sendParametersTime={},jC(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},jC(t.textureBuildTime,{mtime:0}),KC(e,t,["format","openGLDataType"]),qC(e,t,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap","oglNorm16Ext"]),zC(e,t,["width","height","volumeInfo","components","handle","target"]),ZC(0,t,["openGLRenderWindow"]),wO(e,t)}var TO=eS(SO,"vtkOpenGLTexture"),PO=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pO(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:TO,extend:SO},CS);uO("vtkTexture",TO);var OO={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function AO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,OO,n),jC(e,t),t.colorBuffers&&RC("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),t.colorBuffers=[],XC(e,t,["colorBuffers"]),function(e,t){t.classHierarchy.push("vtkFramebuffer"),e.getBothMode=function(){return t.context.FRAMEBUFFER},e.saveCurrentBindingsAndBuffers=function(t){var n="undefined"!==typeof t?t:e.getBothMode();e.saveCurrentBindings(n),e.saveCurrentBuffers(n)},e.saveCurrentBindings=function(e){if(t.context){var n=t.context;t.previousDrawBinding=n.getParameter(t.context.FRAMEBUFFER_BINDING),t.previousActiveFramebuffer=t._openGLRenderWindow.getActiveFramebuffer()}else RC("you must set the OpenGLRenderWindow before calling saveCurrentBindings")},e.saveCurrentBuffers=function(e){},e.restorePreviousBindingsAndBuffers=function(t){var n="undefined"!==typeof t?t:e.getBothMode();e.restorePreviousBindings(n),e.restorePreviousBuffers(n)},e.restorePreviousBindings=function(e){if(t.context){var n=t.context;n.bindFramebuffer(n.FRAMEBUFFER,t.previousDrawBinding),t._openGLRenderWindow.setActiveFramebuffer(t.previousActiveFramebuffer)}else RC("you must set the OpenGLRenderWindow before calling restorePreviousBindings")},e.restorePreviousBuffers=function(e){},e.bind=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===n&&(n=t.context.FRAMEBUFFER),t.context.bindFramebuffer(n,t.glFramebuffer);for(var r=0;r<t.colorBuffers.length;r++)t.colorBuffers[r].bind();t._openGLRenderWindow.setActiveFramebuffer(e)},e.create=function(e,n){t.context?(t.glFramebuffer=t.context.createFramebuffer(),t.glFramebuffer.width=e,t.glFramebuffer.height=n):RC("you must set the OpenGLRenderWindow before calling create")},e.setColorBuffer=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.context;if(r){var a=r.COLOR_ATTACHMENT0;if(n>0){if(!t._openGLRenderWindow.getWebgl2())return void RC("Using multiple framebuffer attachments requires WebGL 2");a+=n}t.colorBuffers[n]=e,r.framebufferTexture2D(r.FRAMEBUFFER,a,r.TEXTURE_2D,e.getHandle(),0)}else RC("you must set the OpenGLRenderWindow before calling setColorBuffer")},e.removeColorBuffer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.context;if(n){var r=n.COLOR_ATTACHMENT0;if(e>0){if(!t._openGLRenderWindow.getWebgl2())return void RC("Using multiple framebuffer attachments requires WebGL 2");r+=e}n.framebufferTexture2D(n.FRAMEBUFFER,r,n.TEXTURE_2D,null,0),t.colorBuffers=t.colorBuffers.splice(e,1)}else RC("you must set the OpenGLRenderWindow before calling removeColorBuffer")},e.setDepthBuffer=function(e){if(t.context)if(t._openGLRenderWindow.getWebgl2()){var n=t.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,e.getHandle(),0)}else RC("Attaching depth buffer textures to fbo requires WebGL 2");else RC("you must set the OpenGLRenderWindow before calling setDepthBuffer")},e.removeDepthBuffer=function(){if(t.context)if(t._openGLRenderWindow.getWebgl2()){var e=t.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,null,0)}else RC("Attaching depth buffer textures to framebuffers requires WebGL 2");else RC("you must set the OpenGLRenderWindow before calling removeDepthBuffer")},e.getGLFramebuffer=function(){return t.glFramebuffer},e.setOpenGLRenderWindow=function(n){t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.releaseGraphicsResources=function(){t.glFramebuffer&&t.context.deleteFramebuffer(t.glFramebuffer)},e.getSize=function(){var e=[0,0];return null!==t.glFramebuffer&&(e[0]=t.glFramebuffer.width,e[1]=t.glFramebuffer.height),e},e.populateFramebuffer=function(){if(t.context){e.bind();var n=t.context,r=PO.newInstance();r.setOpenGLRenderWindow(t._openGLRenderWindow),r.setMinificationFilter(wS.LINEAR),r.setMagnificationFilter(wS.LINEAR),r.create2DFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,4,dS.UNSIGNED_CHAR,null),e.setColorBuffer(r),t.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,t.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t.glFramebuffer.width,t.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,t.depthTexture)}else RC("you must set the OpenGLRenderWindow before calling populateFrameBuffer")},e.getColorTexture=function(){return t.colorBuffers[0]}}(e,t)}var EO={newInstance:eS(AO,"vtkFramebuffer"),extend:AO};var IO={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function RO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,IO,n),iS.obj(e,t),iS.get(e,t,["currentOperation"]),iS.setGet(e,t,["delegates","_currentParent","preDelegateOperations","postDelegateOperations"]),iS.moveToProtected(e,t,["currentParent"]),function(e,t){t.classHierarchy.push("vtkRenderPass"),e.getOperation=function(){return t.currentOperation},e.setCurrentOperation=function(e){t.currentOperation=e,t.currentTraverseOperation="traverse".concat(iS.capitalize(t.currentOperation))},e.getTraverseOperation=function(){return t.currentTraverseOperation},e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.deleted||(t._currentParent=r,t.preDelegateOperations.forEach((function(t){e.setCurrentOperation(t),n.traverse(e)})),t.delegates.forEach((function(t){t.traverse(n,e)})),t.postDelegateOperations.forEach((function(t){e.setCurrentOperation(t),n.traverse(e)})))}}(e,t)}var kO={newInstance:iS.newInstance(RO,"vtkRenderPass"),extend:RO},MO=1e-6,_O="undefined"!==typeof Float32Array?Float32Array:Array,DO=Math.random;var LO=Math.PI/180;function VO(e){return e*LO}function NO(){var e=new _O(3);return _O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function BO(e){var t=new _O(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function FO(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function UO(e,t,n){var r=new _O(3);return r[0]=e,r[1]=t,r[2]=n,r}function jO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function GO(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function zO(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function WO(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function HO(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function KO(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function qO(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function XO(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function YO(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function $O(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function ZO(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function QO(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function JO(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function eA(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function tA(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function nA(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function rA(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function aA(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function oA(e,t){var n=t[0],r=t[1],a=t[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function iA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function sA(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[0],s=n[1],l=n[2];return e[0]=a*l-o*s,e[1]=o*i-r*l,e[2]=r*s-a*i,e}function lA(e,t,n,r){var a=t[0],o=t[1],i=t[2];return e[0]=a+r*(n[0]-a),e[1]=o+r*(n[1]-o),e[2]=i+r*(n[2]-i),e}function uA(e,t,n,r,a,o){var i=o*o,s=i*(2*o-3)+1,l=i*(o-2)+o,u=i*(o-1),c=i*(3-2*o);return e[0]=t[0]*s+n[0]*l+r[0]*u+a[0]*c,e[1]=t[1]*s+n[1]*l+r[1]*u+a[1]*c,e[2]=t[2]*s+n[2]*l+r[2]*u+a[2]*c,e}function cA(e,t,n,r,a,o){var i=1-o,s=i*i,l=o*o,u=s*i,c=3*o*s,d=3*l*i,f=l*o;return e[0]=t[0]*u+n[0]*c+r[0]*d+a[0]*f,e[1]=t[1]*u+n[1]*c+r[1]*d+a[1]*f,e[2]=t[2]*u+n[2]*c+r[2]*d+a[2]*f,e}function dA(e,t){t=t||1;var n=2*DO()*Math.PI,r=2*DO()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function fA(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,e[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,e[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,e}function pA(e,t,n){var r=t[0],a=t[1],o=t[2];return e[0]=r*n[0]+a*n[3]+o*n[6],e[1]=r*n[1]+a*n[4]+o*n[7],e[2]=r*n[2]+a*n[5]+o*n[8],e}function mA(e,t,n){var r=n[0],a=n[1],o=n[2],i=n[3],s=t[0],l=t[1],u=t[2],c=a*u-o*l,d=o*s-r*u,f=r*l-a*s,p=a*f-o*d,m=o*c-r*f,g=r*d-a*c,v=2*i;return c*=v,d*=v,f*=v,p*=2,m*=2,g*=2,e[0]=s+c+p,e[1]=l+d+m,e[2]=u+f+g,e}function gA(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function vA(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function hA(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function yA(e,t){var n=e[0],r=e[1],a=e[2],o=t[0],i=t[1],s=t[2],l=Math.sqrt(n*n+r*r+a*a)*Math.sqrt(o*o+i*i+s*s),u=l&&iA(e,t)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function bA(e){return e[0]=0,e[1]=0,e[2]=0,e}function xA(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function wA(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function CA(e,t){var n=e[0],r=e[1],a=e[2],o=t[0],i=t[1],s=t[2];return Math.abs(n-o)<=MO*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-i)<=MO*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-s)<=MO*Math.max(1,Math.abs(a),Math.abs(s))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var SA=WO,TA=HO,PA=KO,OA=eA,AA=tA,EA=FO,IA=nA,RA=function(){var e=NO();return function(t,n,r,a,o,i){var s,l;for(n||(n=3),r||(r=0),l=a?Math.min(a*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,i),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function kA(){var e=new _O(16);return _O!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function MA(e){var t=new _O(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function _A(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function DA(e,t,n,r,a,o,i,s,l,u,c,d,f,p,m,g){var v=new _O(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=a,v[5]=o,v[6]=i,v[7]=s,v[8]=l,v[9]=u,v[10]=c,v[11]=d,v[12]=f,v[13]=p,v[14]=m,v[15]=g,v}function LA(e,t,n,r,a,o,i,s,l,u,c,d,f,p,m,g,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=i,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=f,e[12]=p,e[13]=m,e[14]=g,e[15]=v,e}function VA(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function NA(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],o=t[6],i=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=a,e[13]=i,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function BA(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],h=t[15],y=n*s-r*i,b=n*l-a*i,x=n*u-o*i,w=r*l-a*s,C=r*u-o*s,S=a*u-o*l,T=c*g-d*m,P=c*v-f*m,O=c*h-p*m,A=d*v-f*g,E=d*h-p*g,I=f*h-p*v,R=y*I-b*E+x*A+w*O-C*P+S*T;return R?(R=1/R,e[0]=(s*I-l*E+u*A)*R,e[1]=(a*E-r*I-o*A)*R,e[2]=(g*S-v*C+h*w)*R,e[3]=(f*C-d*S-p*w)*R,e[4]=(l*O-i*I-u*P)*R,e[5]=(n*I-a*O+o*P)*R,e[6]=(v*x-m*S-h*b)*R,e[7]=(c*S-f*x+p*b)*R,e[8]=(i*E-s*O+u*T)*R,e[9]=(r*O-n*E-o*T)*R,e[10]=(m*C-g*x+h*y)*R,e[11]=(d*x-c*C-p*y)*R,e[12]=(s*P-i*A-l*T)*R,e[13]=(n*A-r*P+a*T)*R,e[14]=(g*b-m*w-v*y)*R,e[15]=(c*w-d*b+f*y)*R,e):null}function FA(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],h=t[15];return e[0]=s*(f*h-p*v)-d*(l*h-u*v)+g*(l*p-u*f),e[1]=-(r*(f*h-p*v)-d*(a*h-o*v)+g*(a*p-o*f)),e[2]=r*(l*h-u*v)-s*(a*h-o*v)+g*(a*u-o*l),e[3]=-(r*(l*p-u*f)-s*(a*p-o*f)+d*(a*u-o*l)),e[4]=-(i*(f*h-p*v)-c*(l*h-u*v)+m*(l*p-u*f)),e[5]=n*(f*h-p*v)-c*(a*h-o*v)+m*(a*p-o*f),e[6]=-(n*(l*h-u*v)-i*(a*h-o*v)+m*(a*u-o*l)),e[7]=n*(l*p-u*f)-i*(a*p-o*f)+c*(a*u-o*l),e[8]=i*(d*h-p*g)-c*(s*h-u*g)+m*(s*p-u*d),e[9]=-(n*(d*h-p*g)-c*(r*h-o*g)+m*(r*p-o*d)),e[10]=n*(s*h-u*g)-i*(r*h-o*g)+m*(r*u-o*s),e[11]=-(n*(s*p-u*d)-i*(r*p-o*d)+c*(r*u-o*s)),e[12]=-(i*(d*v-f*g)-c*(s*v-l*g)+m*(s*f-l*d)),e[13]=n*(d*v-f*g)-c*(r*v-a*g)+m*(r*f-a*d),e[14]=-(n*(s*v-l*g)-i*(r*v-a*g)+m*(r*l-a*s)),e[15]=n*(s*f-l*d)-i*(r*f-a*d)+c*(r*l-a*s),e}function UA(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return(t*i-n*o)*(d*v-f*g)-(t*s-r*o)*(c*v-f*m)+(t*l-a*o)*(c*g-d*m)+(n*s-r*i)*(u*v-f*p)-(n*l-a*i)*(u*g-d*p)+(r*l-a*s)*(u*m-c*p)}function jA(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],p=t[10],m=t[11],g=t[12],v=t[13],h=t[14],y=t[15],b=n[0],x=n[1],w=n[2],C=n[3];return e[0]=b*r+x*s+w*d+C*g,e[1]=b*a+x*l+w*f+C*v,e[2]=b*o+x*u+w*p+C*h,e[3]=b*i+x*c+w*m+C*y,b=n[4],x=n[5],w=n[6],C=n[7],e[4]=b*r+x*s+w*d+C*g,e[5]=b*a+x*l+w*f+C*v,e[6]=b*o+x*u+w*p+C*h,e[7]=b*i+x*c+w*m+C*y,b=n[8],x=n[9],w=n[10],C=n[11],e[8]=b*r+x*s+w*d+C*g,e[9]=b*a+x*l+w*f+C*v,e[10]=b*o+x*u+w*p+C*h,e[11]=b*i+x*c+w*m+C*y,b=n[12],x=n[13],w=n[14],C=n[15],e[12]=b*r+x*s+w*d+C*g,e[13]=b*a+x*l+w*f+C*v,e[14]=b*o+x*u+w*p+C*h,e[15]=b*i+x*c+w*m+C*y,e}function GA(e,t,n){var r,a,o,i,s,l,u,c,d,f,p,m,g=n[0],v=n[1],h=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*h+t[12],e[13]=t[1]*g+t[5]*v+t[9]*h+t[13],e[14]=t[2]*g+t[6]*v+t[10]*h+t[14],e[15]=t[3]*g+t[7]*v+t[11]*h+t[15]):(r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],p=t[10],m=t[11],e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=f,e[10]=p,e[11]=m,e[12]=r*g+s*v+d*h+t[12],e[13]=a*g+l*v+f*h+t[13],e[14]=o*g+u*v+p*h+t[14],e[15]=i*g+c*v+m*h+t[15]),e}function zA(e,t,n){var r=n[0],a=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function WA(e,t,n,r){var a,o,i,s,l,u,c,d,f,p,m,g,v,h,y,b,x,w,C,S,T,P,O,A,E=r[0],I=r[1],R=r[2],k=Math.hypot(E,I,R);return k<MO?null:(E*=k=1/k,I*=k,R*=k,a=Math.sin(n),i=1-(o=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],f=t[5],p=t[6],m=t[7],g=t[8],v=t[9],h=t[10],y=t[11],b=E*E*i+o,x=I*E*i+R*a,w=R*E*i-I*a,C=E*I*i-R*a,S=I*I*i+o,T=R*I*i+E*a,P=E*R*i+I*a,O=I*R*i-E*a,A=R*R*i+o,e[0]=s*b+d*x+g*w,e[1]=l*b+f*x+v*w,e[2]=u*b+p*x+h*w,e[3]=c*b+m*x+y*w,e[4]=s*C+d*S+g*T,e[5]=l*C+f*S+v*T,e[6]=u*C+p*S+h*T,e[7]=c*C+m*S+y*T,e[8]=s*P+d*O+g*A,e[9]=l*P+f*O+v*A,e[10]=u*P+p*O+h*A,e[11]=c*P+m*O+y*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function HA(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[4],i=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*a+u*r,e[5]=i*a+c*r,e[6]=s*a+d*r,e[7]=l*a+f*r,e[8]=u*a-o*r,e[9]=c*a-i*r,e[10]=d*a-s*r,e[11]=f*a-l*r,e}function KA(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[0],i=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a-u*r,e[1]=i*a-c*r,e[2]=s*a-d*r,e[3]=l*a-f*r,e[8]=o*r+u*a,e[9]=i*r+c*a,e[10]=s*r+d*a,e[11]=l*r+f*a,e}function qA(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[0],i=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a+u*r,e[1]=i*a+c*r,e[2]=s*a+d*r,e[3]=l*a+f*r,e[4]=u*a-o*r,e[5]=c*a-i*r,e[6]=d*a-s*r,e[7]=f*a-l*r,e}function XA(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function YA(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $A(e,t,n){var r,a,o,i=n[0],s=n[1],l=n[2],u=Math.hypot(i,s,l);return u<MO?null:(i*=u=1/u,s*=u,l*=u,r=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=i*i*o+a,e[1]=s*i*o+l*r,e[2]=l*i*o-s*r,e[3]=0,e[4]=i*s*o-l*r,e[5]=s*s*o+a,e[6]=l*s*o+i*r,e[7]=0,e[8]=i*l*o+s*r,e[9]=s*l*o-i*r,e[10]=l*l*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function ZA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function QA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function JA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function eE(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=r+r,l=a+a,u=o+o,c=r*s,d=r*l,f=r*u,p=a*l,m=a*u,g=o*u,v=i*s,h=i*l,y=i*u;return e[0]=1-(p+g),e[1]=d+y,e[2]=f-h,e[3]=0,e[4]=d-y,e[5]=1-(c+g),e[6]=m+v,e[7]=0,e[8]=f+h,e[9]=m-v,e[10]=1-(c+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function tE(e,t){var n=new _O(3),r=-t[0],a=-t[1],o=-t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=r*r+a*a+o*o+i*i;return d>0?(n[0]=2*(s*i+c*r+l*o-u*a)/d,n[1]=2*(l*i+c*a+u*r-s*o)/d,n[2]=2*(u*i+c*o+s*a-l*r)/d):(n[0]=2*(s*i+c*r+l*o-u*a),n[1]=2*(l*i+c*a+u*r-s*o),n[2]=2*(u*i+c*o+s*a-l*r)),eE(e,t,n),e}function nE(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function rE(e,t){var n=t[0],r=t[1],a=t[2],o=t[4],i=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(o,i,s),e[2]=Math.hypot(l,u,c),e}function aE(e,t){var n=new _O(3);rE(n,t);var r=1/n[0],a=1/n[1],o=1/n[2],i=t[0]*r,s=t[1]*a,l=t[2]*o,u=t[4]*r,c=t[5]*a,d=t[6]*o,f=t[8]*r,p=t[9]*a,m=t[10]*o,g=i+c+m,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-p)/v,e[1]=(f-l)/v,e[2]=(s-u)/v):i>c&&i>m?(v=2*Math.sqrt(1+i-c-m),e[3]=(d-p)/v,e[0]=.25*v,e[1]=(s+u)/v,e[2]=(f+l)/v):c>m?(v=2*Math.sqrt(1+c-i-m),e[3]=(f-l)/v,e[0]=(s+u)/v,e[1]=.25*v,e[2]=(d+p)/v):(v=2*Math.sqrt(1+m-i-c),e[3]=(s-u)/v,e[0]=(f+l)/v,e[1]=(d+p)/v,e[2]=.25*v),e}function oE(e,t,n,r){var a=t[0],o=t[1],i=t[2],s=t[3],l=a+a,u=o+o,c=i+i,d=a*l,f=a*u,p=a*c,m=o*u,g=o*c,v=i*c,h=s*l,y=s*u,b=s*c,x=r[0],w=r[1],C=r[2];return e[0]=(1-(m+v))*x,e[1]=(f+b)*x,e[2]=(p-y)*x,e[3]=0,e[4]=(f-b)*w,e[5]=(1-(d+v))*w,e[6]=(g+h)*w,e[7]=0,e[8]=(p+y)*C,e[9]=(g-h)*C,e[10]=(1-(d+m))*C,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function iE(e,t,n,r,a){var o=t[0],i=t[1],s=t[2],l=t[3],u=o+o,c=i+i,d=s+s,f=o*u,p=o*c,m=o*d,g=i*c,v=i*d,h=s*d,y=l*u,b=l*c,x=l*d,w=r[0],C=r[1],S=r[2],T=a[0],P=a[1],O=a[2],A=(1-(g+h))*w,E=(p+x)*w,I=(m-b)*w,R=(p-x)*C,k=(1-(f+h))*C,M=(v+y)*C,_=(m+b)*S,D=(v-y)*S,L=(1-(f+g))*S;return e[0]=A,e[1]=E,e[2]=I,e[3]=0,e[4]=R,e[5]=k,e[6]=M,e[7]=0,e[8]=_,e[9]=D,e[10]=L,e[11]=0,e[12]=n[0]+T-(A*T+R*P+_*O),e[13]=n[1]+P-(E*T+k*P+D*O),e[14]=n[2]+O-(I*T+M*P+L*O),e[15]=1,e}function sE(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n+n,s=r+r,l=a+a,u=n*i,c=r*i,d=r*s,f=a*i,p=a*s,m=a*l,g=o*i,v=o*s,h=o*l;return e[0]=1-d-m,e[1]=c+h,e[2]=f-v,e[3]=0,e[4]=c-h,e[5]=1-u-m,e[6]=p+g,e[7]=0,e[8]=f+v,e[9]=p-g,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lE(e,t,n,r,a,o,i){var s=1/(n-t),l=1/(a-r),u=1/(o-i);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*l,e[10]=(i+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*u,e[15]=0,e}function uE(e,t,n,r,a){var o,i=1/Math.tan(t/2);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(o=1/(r-a),e[10]=(a+r)*o,e[14]=2*a*r*o):(e[10]=-1,e[14]=-2*r),e}var cE=uE;function dE(e,t,n,r,a){var o,i=1/Math.tan(t/2);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(o=1/(r-a),e[10]=a*o,e[14]=a*r*o):(e[10]=-1,e[14]=-r),e}function fE(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(i+s),u=2/(a+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(i-s)*l*.5,e[9]=(a-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function pE(e,t,n,r,a,o,i){var s=1/(t-n),l=1/(r-a),u=1/(o-i);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=(i+o)*u,e[15]=1,e}var mE=pE;function gE(e,t,n,r,a,o,i){var s=1/(t-n),l=1/(r-a),u=1/(o-i);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=o*u,e[15]=1,e}function vE(e,t,n,r){var a,o,i,s,l,u,c,d,f,p,m=t[0],g=t[1],v=t[2],h=r[0],y=r[1],b=r[2],x=n[0],w=n[1],C=n[2];return Math.abs(m-x)<MO&&Math.abs(g-w)<MO&&Math.abs(v-C)<MO?VA(e):(c=m-x,d=g-w,f=v-C,a=y*(f*=p=1/Math.hypot(c,d,f))-b*(d*=p),o=b*(c*=p)-h*f,i=h*d-y*c,(p=Math.hypot(a,o,i))?(a*=p=1/p,o*=p,i*=p):(a=0,o=0,i=0),s=d*i-f*o,l=f*a-c*i,u=c*o-d*a,(p=Math.hypot(s,l,u))?(s*=p=1/p,l*=p,u*=p):(s=0,l=0,u=0),e[0]=a,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=i,e[9]=u,e[10]=f,e[11]=0,e[12]=-(a*m+o*g+i*v),e[13]=-(s*m+l*g+u*v),e[14]=-(c*m+d*g+f*v),e[15]=1,e)}function hE(e,t,n,r){var a=t[0],o=t[1],i=t[2],s=r[0],l=r[1],u=r[2],c=a-n[0],d=o-n[1],f=i-n[2],p=c*c+d*d+f*f;p>0&&(c*=p=1/Math.sqrt(p),d*=p,f*=p);var m=l*f-u*d,g=u*c-s*f,v=s*d-l*c;return(p=m*m+g*g+v*v)>0&&(m*=p=1/Math.sqrt(p),g*=p,v*=p),e[0]=m,e[1]=g,e[2]=v,e[3]=0,e[4]=d*v-f*g,e[5]=f*m-c*v,e[6]=c*g-d*m,e[7]=0,e[8]=c,e[9]=d,e[10]=f,e[11]=0,e[12]=a,e[13]=o,e[14]=i,e[15]=1,e}function yE(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function bE(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function xE(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function wE(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function CE(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function SE(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function TE(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function PE(e,t){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],p=e[11],m=e[12],g=e[13],v=e[14],h=e[15],y=t[0],b=t[1],x=t[2],w=t[3],C=t[4],S=t[5],T=t[6],P=t[7],O=t[8],A=t[9],E=t[10],I=t[11],R=t[12],k=t[13],M=t[14],_=t[15];return Math.abs(n-y)<=MO*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=MO*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-x)<=MO*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=MO*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-C)<=MO*Math.max(1,Math.abs(i),Math.abs(C))&&Math.abs(s-S)<=MO*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-T)<=MO*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-P)<=MO*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(c-O)<=MO*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(d-A)<=MO*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(f-E)<=MO*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(p-I)<=MO*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(m-R)<=MO*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(g-k)<=MO*Math.max(1,Math.abs(g),Math.abs(k))&&Math.abs(v-M)<=MO*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(h-_)<=MO*Math.max(1,Math.abs(h),Math.abs(_))}var OE=jA,AE=wE;function EE(){var e=new _O(9);return _O!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function IE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function RE(e){var t=new _O(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function kE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ME(e,t,n,r,a,o,i,s,l){var u=new _O(9);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=a,u[5]=o,u[6]=i,u[7]=s,u[8]=l,u}function _E(e,t,n,r,a,o,i,s,l,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=i,e[6]=s,e[7]=l,e[8]=u,e}function DE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function LE(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function VE(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=c*i-s*u,f=-c*o+s*l,p=u*o-i*l,m=n*d+r*f+a*p;return m?(m=1/m,e[0]=d*m,e[1]=(-c*r+a*u)*m,e[2]=(s*r-a*i)*m,e[3]=f*m,e[4]=(c*n-a*l)*m,e[5]=(-s*n+a*o)*m,e[6]=p*m,e[7]=(-u*n+r*l)*m,e[8]=(i*n-r*o)*m,e):null}function NE(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=i*c-s*u,e[1]=a*u-r*c,e[2]=r*s-a*i,e[3]=s*l-o*c,e[4]=n*c-a*l,e[5]=a*o-n*s,e[6]=o*u-i*l,e[7]=r*l-n*u,e[8]=n*i-r*o,e}function BE(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=e[6],l=e[7],u=e[8];return t*(u*o-i*l)+n*(-u*a+i*s)+r*(l*a-o*s)}function FE(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=n[0],p=n[1],m=n[2],g=n[3],v=n[4],h=n[5],y=n[6],b=n[7],x=n[8];return e[0]=f*r+p*i+m*u,e[1]=f*a+p*s+m*c,e[2]=f*o+p*l+m*d,e[3]=g*r+v*i+h*u,e[4]=g*a+v*s+h*c,e[5]=g*o+v*l+h*d,e[6]=y*r+b*i+x*u,e[7]=y*a+b*s+x*c,e[8]=y*o+b*l+x*d,e}function UE(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=n[0],p=n[1];return e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=s,e[5]=l,e[6]=f*r+p*i+u,e[7]=f*a+p*s+c,e[8]=f*o+p*l+d,e}function jE(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=Math.sin(n),p=Math.cos(n);return e[0]=p*r+f*i,e[1]=p*a+f*s,e[2]=p*o+f*l,e[3]=p*i-f*r,e[4]=p*s-f*a,e[5]=p*l-f*o,e[6]=u,e[7]=c,e[8]=d,e}function GE(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function zE(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function WE(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function HE(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function KE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function qE(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n+n,s=r+r,l=a+a,u=n*i,c=r*i,d=r*s,f=a*i,p=a*s,m=a*l,g=o*i,v=o*s,h=o*l;return e[0]=1-d-m,e[3]=c-h,e[6]=f+v,e[1]=c+h,e[4]=1-u-m,e[7]=p-g,e[2]=f-v,e[5]=p+g,e[8]=1-u-d,e}function XE(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],h=t[15],y=n*s-r*i,b=n*l-a*i,x=n*u-o*i,w=r*l-a*s,C=r*u-o*s,S=a*u-o*l,T=c*g-d*m,P=c*v-f*m,O=c*h-p*m,A=d*v-f*g,E=d*h-p*g,I=f*h-p*v,R=y*I-b*E+x*A+w*O-C*P+S*T;return R?(R=1/R,e[0]=(s*I-l*E+u*A)*R,e[1]=(l*O-i*I-u*P)*R,e[2]=(i*E-s*O+u*T)*R,e[3]=(a*E-r*I-o*A)*R,e[4]=(n*I-a*O+o*P)*R,e[5]=(r*O-n*E-o*T)*R,e[6]=(g*S-v*C+h*w)*R,e[7]=(v*x-m*S-h*b)*R,e[8]=(m*C-g*x+h*y)*R,e):null}function YE(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function $E(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function ZE(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function QE(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function JE(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function eI(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function tI(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function nI(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function rI(e,t){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=t[0],f=t[1],p=t[2],m=t[3],g=t[4],v=t[5],h=t[6],y=t[7],b=t[8];return Math.abs(n-d)<=MO*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=MO*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-p)<=MO*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-m)<=MO*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(i-g)<=MO*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-v)<=MO*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-h)<=MO*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(u-y)<=MO*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=MO*Math.max(1,Math.abs(c),Math.abs(b))}var aI=FE,oI=JE;function iI(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function sI(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,e[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,e[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,e[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,e}!function(){var e=function(){var e=new _O(4);return _O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function lI(){var e=new _O(4);return _O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function uI(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function cI(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+i*s+a*u-o*l,e[1]=a*c+i*l+o*s-r*u,e[2]=o*c+i*u+r*l-a*s,e[3]=i*c-r*s-a*l-o*u,e}function dI(e,t,n,r){var a,o,i,s,l,u=t[0],c=t[1],d=t[2],f=t[3],p=n[0],m=n[1],g=n[2],v=n[3];return u*p+c*m+d*g+f*v<0&&(-o,-p,-m,-g,-v),1-o>MO?(Math.acos(o),Math.sin(a),Math.sin((1-r)*a)/i,Math.sin(r*a)/i):(1-r,r),e[0]=s*u+l*p,e[1]=s*c+l*m,e[2]=s*d+l*g,e[3]=s*f+l*v,e}var fI=function(e,t,n,r){var a=new _O(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a},pI=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=a*i,e[3]=o*i,e},mI=(function(){var e=NO(),t=UO(1,0,0),n=UO(0,1,0)}(),function(){var e=lI(),t=lI()}(),function(){var e=EE()}(),{ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2}),gI={ObjectType:mI};function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vI(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yI=gI.ObjectType;var bI={objectType:yI.ARRAY_BUFFER,context:null};function xI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bI,n),iS.obj(e,t),iS.get(e,t,["_openGLRenderWindow"]),iS.moveToProtected(e,t,["openGLRenderWindow"]),function(e,t){function n(e){switch(e){case yI.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case yI.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in t.context)return t.context.TEXTURE_BUFFER;case yI.ARRAY_BUFFER:default:return t.context.ARRAY_BUFFER}}t.classHierarchy.push("vtkOpenGLBufferObject");var r=null,a=null,o=!0,i="";e.getType=function(){return r},e.setType=function(e){r=e},e.getHandle=function(){return a},e.isReady=function(){return!1===o},e.generateBuffer=function(e){var o=n(e);return null===a&&(a=t.context.createBuffer(),r=e),n(r)===o},e.upload=function(s,l){return e.generateBuffer(l)?(t.context.bindBuffer(n(r),a),t.context.bufferData(n(r),s,t.context.STATIC_DRAW),o=!1,!0):(i="Trying to upload array buffer to incompatible buffer.",!1)},e.bind=function(){return!!a&&(t.context.bindBuffer(n(r),a),!0)},e.release=function(){return!!a&&(t.context.bindBuffer(n(r),null),!0)},e.releaseGraphicsResources=function(){null!==a&&(t.context.bindBuffer(n(r),null),t.context.deleteBuffer(a),a=null)},e.setOpenGLRenderWindow=function(n){t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.getError=function(){return i}}(e,t)}var wI=hI(hI({newInstance:iS.newInstance(xI),extend:xI},{}),gI),CI={FLAT:0,GOURAUD:1,PHONG:2},SI={POINTS:0,WIREFRAME:1,SURFACE:2},TI={Shading:CI,Representation:SI,Interpolation:CI},PI=iS.vtkErrorMacro;function OI(e,t){t.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),e.setType(mI.ARRAY_BUFFER),e.createVBO=function(n,r,a,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!n.getData()||!n.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0,t.customData=[];var s=o.points.getData(),l=null,u=null,c=null,d=o.colors?o.colors.getNumberOfComponents():0,f=o.tcoords?o.tcoords.getNumberOfComponents():0;o.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,l=o.normals.getData()),o.customAttributes&&o.customAttributes.forEach((function(e){e&&(t.customData.push({data:e.getData(),offset:4*t.blockSize,components:e.getNumberOfComponents(),name:e.getName()}),t.blockSize+=e.getNumberOfComponents())})),o.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=f,t.blockSize+=f,u=o.tcoords.getData()),o.colors?(t.colorComponents=o.colors.getNumberOfComponents(),t.colorOffset=0,c=o.colors.getData(),t.colorBO||(t.colorBO=wI.newInstance()),t.colorBO.setOpenGLRenderWindow(t._openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;var p,m=0,g=0,v=0,h=0,y=0,b=0,x={anythingToPoints:function(e,t,n){for(var r=0;r<e;++r)p(t[n+r])},linesToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)p(t[n+r]),p(t[n+r+1])},polysToWireframe:function(e,t,n){if(e>2)for(var r=0;r<e;++r)p(t[n+r]),p(t[n+(r+1)%e])},stripsToWireframe:function(e,t,n){if(e>2){for(var r=0;r<e-1;++r)p(t[n+r]),p(t[n+r+1]);for(var a=0;a<e-2;a++)p(t[n+a]),p(t[n+a+2])}},polysToSurface:function(e,t,n){for(var r=0;r<e-2;r++)p(t[n+0]),p(t[n+r+1]),p(t[n+r+2])},stripsToSurface:function(e,t,n){for(var r=0;r<e-2;r++)p(t[n+r]),p(t[n+r+1+r%2]),p(t[n+r+1+(r+1)%2])}},w={anythingToPoints:function(e,t){return e},linesToWireframe:function(e,t){return e>1?2*(e-1):0},polysToWireframe:function(e,t){return e>2?2*e:0},stripsToWireframe:function(e,t){return e>2?4*e-6:0},polysToSurface:function(e,t){return e>2?3*(e-2):0},stripsToSurface:function(e,t,n){return e>2?3*(e-2):0}},C=null,S=null;a===SI.POINTS||"verts"===r?(C=x.anythingToPoints,S=w.anythingToPoints):a===SI.WIREFRAME||"lines"===r?(C=x["".concat(r,"ToWireframe")],S=w["".concat(r,"ToWireframe")]):(C=x["".concat(r,"ToSurface")],S=w["".concat(r,"ToSurface")]);for(var T=n.getData(),P=T.length,O=0,A=0;A<P;)O+=S(T[A],T),A+=T[A]+1;var E=null,I=new Float32Array(O*t.blockSize);c&&(E=new Uint8Array(4*O));for(var R=0,k=0,M=0,_=0,D=0;D<3;++D){var L=o.points.getRange(D),V=L[1]-L[0];M+=V*V;var N=.5*(L[1]+L[0]);_+=N*N}if(M>0&&(Math.abs(_)/M>1e6||Math.abs(Math.log10(M))>3||0===M&&_>1e6)){for(var B=new Float64Array(3),F=new Float64Array(3),U=0;U<3;++U){var j=o.points.getRange(U),G=j[1]-j[0];B[U]=.5*(j[1]+j[0]),F[U]=G>0?1/G:1}e.setCoordShiftAndScale(B,F)}else!0===t.coordShiftAndScaleEnabled&&e.setCoordShiftAndScale(null,null);if(i)if(i.points||i.cells){var z=new Int32Array(O+i.points.length);z.set(i.points),i.points=z;var W=new Int32Array(O+i.cells.length);W.set(i.cells),i.cells=W}else i.points=new Int32Array(O),i.cells=new Int32Array(O);var H=o.vertexOffset;p=function(e){if(i&&(i.points[H]=e,i.cells[H]=b+o.cellOffset),++H,m=3*e,t.coordShiftAndScaleEnabled?(I[R++]=(s[m++]-t.coordShift[0])*t.coordScale[0],I[R++]=(s[m++]-t.coordShift[1])*t.coordScale[1],I[R++]=(s[m++]-t.coordShift[2])*t.coordScale[2]):(I[R++]=s[m++],I[R++]=s[m++],I[R++]=s[m++]),null!==l&&(g=o.haveCellNormals?3*(b+o.cellOffset):3*e,I[R++]=l[g++],I[R++]=l[g++],I[R++]=l[g++]),t.customData.forEach((function(t){y=e*t.components;for(var n=0;n<t.components;++n)I[R++]=t.data[y++]})),null!==u){v=e*f;for(var n=0;n<f;++n)I[R++]=u[v++]}null!==c&&(h=o.haveCellScalars?(b+o.cellOffset)*d:e*d,E[k++]=c[h++],E[k++]=c[h++],E[k++]=c[h++],E[k++]=4===d?c[h++]:255)};for(var K=0;K<P;)C(T[K],T,K+1),K+=T[K]+1,b++;return t.elementCount=O,e.upload(I,mI.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(E,mI.ARRAY_BUFFER)),b},e.setCoordShiftAndScale=function(e,n){null===e||e.constructor===Float64Array&&3===e.length?null===n||n.constructor===Float64Array&&3===n.length?(null!==t.coordShift&&null!==e&&CA(e,t.coordShift)||(t.coordShift=e),null!==t.coordScale&&null!==n&&CA(n,t.coordScale)||(t.coordScale=n),t.coordShiftAndScaleEnabled=function(e,t){return null!==e&&null!==t&&!(wA(e,[0,0,0])&&wA(t,[1,1,1]))}(t.coordShift,t.coordScale),t.coordShiftAndScaleEnabled?t.inverseShiftAndScaleMatrix=function(e,t){var n=new Float64Array(3);aA(n,t);var r=new Float64Array(16);return oE(r,lI(),e,n),r}(t.coordShift,t.coordScale):t.inverseShiftAndScaleMatrix=null):PI("Wrong type for coordScale, expected vec3 or null"):PI("Wrong type for coordShift, expected vec3 or null")}}var AI={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function EI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,AI,n),wI.extend(e,t,n),iS.setGet(e,t,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),iS.get(e,t,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),OI(e,t)}var II={newInstance:iS.newInstance(EI),extend:EI},RI=iS.vtkErrorMacro;var kI={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function MI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kI,n),iS.obj(e,t),iS.setGet(e,t,["shaderType","source","error","handle","context"]),function(e,t){t.classHierarchy.push("vtkShader"),e.compile=function(){var e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||"Unknown"===t.shaderType)return!1;if(0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0),e="Fragment"===t.shaderType?t.context.FRAGMENT_SHADER:t.context.VERTEX_SHADER,t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle),!t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS)){var n=t.context.getShaderInfoLog(t.handle);return RI("Error compiling shader '".concat(t.source,"': ").concat(n)),t.context.deleteShader(t.handle),t.handle=0,!1}return!0},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)}}(e,t)}var _I={newInstance:iS.newInstance(MI,"vtkShader"),extend:MI},DI=iS.vtkErrorMacro;var LI={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function VI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LI,n),t.attributesLocs={},t.uniformLocs={},t.vertexShader=_I.newInstance(),t.vertexShader.setShaderType("Vertex"),t.fragmentShader=_I.newInstance(),t.fragmentShader.setShaderType("Fragment"),t.geometryShader=_I.newInstance(),t.geometryShader.setShaderType("Geometry"),iS.obj(e,t),iS.get(e,t,["lastCameraMTime"]),iS.setGet(e,t,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),function(e,t){t.classHierarchy.push("vtkShaderProgram"),e.compileShader=function(){return t.vertexShader.compile()?t.fragmentShader.compile()?e.attachShader(t.vertexShader)&&e.attachShader(t.fragmentShader)?e.link()?(e.setCompiled(!0),1):(DI("Links failed: ".concat(t.error)),0):(DI(t.error),0):(DI(t.fragmentShader.getSource().split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})).join("\n")),DI(t.fragmentShader.getError()),0):(DI(t.vertexShader.getSource().split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})).join("\n")),DI(t.vertexShader.getError()),0)},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0)},e.bind=function(){return!(!t.linked&&!e.link())&&(t.context.useProgram(t.handle),e.setBound(!0),!0)},e.isBound=function(){return!!t.bound},e.release=function(){t.context.useProgram(null),e.setBound(!1)},e.setContext=function(e){t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.link=function(){if(t.linked)return!0;if(0===t.handle)return t.error="Program has not been initialized, and/or does not have shaders.",!1;if(t.uniformLocs={},t.context.linkProgram(t.handle),!t.context.getProgramParameter(t.handle,t.context.LINK_STATUS)){var n=t.context.getProgramInfoLog(t.handle);return DI("Error linking shader ".concat(n)),t.handle=0,!1}return e.setLinked(!0),t.attributeLocs={},!0},e.setUniformMatrix=function(n,r){var a=e.findUniform(n);if(-1===a)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;var o=new Float32Array(r);return t.context.uniformMatrix4fv(a,!1,o),!0},e.setUniformMatrix3x3=function(n,r){var a=e.findUniform(n);if(-1===a)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;var o=new Float32Array(r);return t.context.uniformMatrix3fv(a,!1,o),!0},e.setUniformf=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1f(a,r),!0)},e.setUniformfv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1fv(a,r),!0)},e.setUniformi=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1i(a,r),!0)},e.setUniformiv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform1iv(a,r),!0)},e.setUniform2f=function(n,r,a){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===a)throw new RangeError("Invalid number of values for array");return t.context.uniform2f(o,r,a),!0},e.setUniform2fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform2fv(a,r),!0)},e.setUniform2i=function(n,r,a){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===a)throw new RangeError("Invalid number of values for array");return t.context.uniform2i(o,r,a),!0},e.setUniform2iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform2iv(a,r),!0)},e.setUniform3f=function(n,r,a,o){var i=e.findUniform(n);if(-1===i)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(void 0===o)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(i,r,a,o),!0},e.setUniform3fArray=function(n,r){var a=e.findUniform(n);if(-1===a)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(!Array.isArray(r)||3!==r.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(a,r[0],r[1],r[2]),!0},e.setUniform3fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform3fv(a,r),!0)},e.setUniform3i=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var s=o;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),3!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3i(r,s[0],s[1],s[2]),!0},e.setUniform3iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform3iv(a,r),!0)},e.setUniform4f=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var s=o;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4f(r,s[0],s[1],s[2],s[3]),!0},e.setUniform4fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform4fv(a,r),!0)},e.setUniform4i=function(n){var r=e.findUniform(n);if(-1===r)return t.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var s=o;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4i(r,s[0],s[1],s[2],s[3]),!0},e.setUniform4iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform ".concat(n," . No such uniform."),!1):(t.context.uniform4iv(a,r),!0)},e.findUniform=function(e){if(!e||!t.linked)return-1;var n=t.uniformLocs[e];return void 0!==n?n:null===(n=t.context.getUniformLocation(t.handle,e))?(t.error="Uniform ".concat(e," not found in current shader program."),t.uniformLocs[e]=-1,-1):(t.uniformLocs[e]=n,n)},e.isUniformUsed=function(e){if(!e)return!1;var n=t.uniformLocs[e];return void 0!==n?null!==n:t.linked?(n=t.context.getUniformLocation(t.handle,e),t.uniformLocs[e]=n,null!==n):(DI("attempt to find uniform when the shader program is not linked"),!1)},e.isAttributeUsed=function(e){if(!e)return!1;if(e in t.attributeLocs)return!0;if(!t.linked)return DI("attempt to find uniform when the shader program is not linked"),!1;var n=t.context.getAttribLocation(t.handle,e);return-1!==n&&(t.attributeLocs[e]=n,!0)},e.attachShader=function(n){if(0===n.getHandle())return t.error="Shader object was not initialized, cannot attach it.",!1;if("Unknown"===n.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;if(0===t.handle){var r=t.context.createProgram();if(0===r)return t.error="Could not create shader program.",!1;t.handle=r,t.linked=!1}return"Vertex"===n.getShaderType()&&(0!==t.vertexShaderHandle&&t.comntext.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=n.getHandle()),"Fragment"===n.getShaderType()&&(0!==t.fragmentShaderHandle&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=n.getHandle()),t.context.attachShader(t.handle,n.getHandle()),e.setLinked(!1),!0},e.detachShader=function(e){if(0===e.getHandle())return t.error="shader object was not initialized, cannot attach it.",!1;if("Unknown"===e.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;switch(0===t.handle&&(t.error="This shader program has not been initialized yet."),e.getShaderType()){case"Vertex":return t.vertexShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0);case"Fragment":return t.fragmentShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0);default:return!1}},e.setContext=function(e){t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.setLastCameraMTime=function(e){t.lastCameraMTime=e}}(e,t)}var NI={newInstance:iS.newInstance(VI,"vtkShaderProgram"),extend:VI,substitute:function(e,t,n,r){var a="string"===typeof n?n:n.join("\n"),o=!1===r?t:new RegExp(t,"g"),i=e.replace(o,a);return{replace:i!==a,result:i}}};var BI={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function FI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,BI,n),t.buffers=[],iS.obj(e,t),iS.get(e,t,["supported"]),iS.setGet(e,t,["forceEmulation"]),function(e,t){t.classHierarchy.push("vtkOpenGLVertexArrayObject"),e.exposedMethod=function(){},e.initialize=function(){t.instancingExtension=null,t._openGLRenderWindow.getWebgl2()||(t.instancingExtension=t.context.getExtension("ANGLE_instanced_arrays")),!t.forceEmulation&&t._openGLRenderWindow&&t._openGLRenderWindow.getWebgl2()?(t.extension=null,t.supported=!0,t.handleVAO=t.context.createVertexArray()):(t.extension=t.context.getExtension("OES_vertex_array_object"),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1)},e.isReady=function(){return 0!==t.handleVAO||!1===t.supported},e.bind=function(){if(e.isReady()||e.initialize(),e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(t.handleVAO):t.context.bindVertexArray(t.handleVAO);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var a=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var o=0;o<a.attributes.length;++o)for(var i=a.attributes[o],s=i.isMatrix?i.size:1,l=0;l<s;++l)n.enableVertexAttribArray(i.index+l),n.vertexAttribPointer(i.index+l,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*l/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+l,1):n.vertexAttribDivisor(i.index+l,1))}},e.release=function(){if(e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(null):t.context.bindVertexArray(null);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var a=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var o=0;o<a.attributes.length;++o)for(var i=a.attributes[o],s=i.isMatrix?i.size:1,l=0;l<s;++l)n.enableVertexAttribArray(i.index+l),n.vertexAttribPointer(i.index+l,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*l/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+l,0):n.vertexAttribDivisor(i.index+l,0)),n.disableVertexAttribArray(i.index+l)}},e.shaderProgramChanged=function(){e.release(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.handleProgram=0},e.releaseGraphicsResources=function(){e.shaderProgramChanged(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.supported=!0,t.handleProgram=0},e.addAttributeArray=function(t,n,r,a,o,i,s,l){return e.addAttributeArrayWithDivisor(t,n,r,a,o,i,s,l,0,!1)},e.addAttributeArrayWithDivisor=function(n,r,a,o,i,s,l,u,c,d){if(!n)return!1;if(!n.isBound()||0===r.getHandle()||r.getType()!==mI.ARRAY_BUFFER)return!1;if(0===t.handleProgram&&(t.handleProgram=n.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==n.getHandle())return!1;var f=t.context,p={};if(p.name=a,p.index=f.getAttribLocation(t.handleProgram,a),p.offset=o,p.stride=i,p.type=s,p.size=l,p.normalize=u,p.isMatrix=d,p.divisor=c,-1===p.Index)return!1;if(r.bind(),f.enableVertexAttribArray(p.index),f.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),c>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p.index,1):f.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!t.supported){for(var m=!1,g=0;g<t.buffers.length;++g){var v=t.buffers[g];if(v.buffer===p.buffer){m=!0;for(var h=!1,y=0;y<v.attributes.length;++y)v.attributes[y].name===a&&(h=!0,v.attributes[y]=p);h||v.attributes.push(p)}}m||t.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},e.addAttributeMatrixWithDivisor=function(n,r,a,o,i,s,l,u,c){var d=e.addAttributeArrayWithDivisor(n,r,a,o,i,s,l,u,c,!0);if(!d)return d;for(var f=t.context,p=f.getAttribLocation(t.handleProgram,a),m=1;m<l;m++)f.enableVertexAttribArray(p+m),f.vertexAttribPointer(p+m,l,s,u,i,o+i*m/l),c>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p+m,1):f.vertexAttribDivisor(p+m,1));return!0},e.removeAttributeArray=function(n){if(!e.isReady()||0===t.handleProgram)return!1;if(!t.supported)for(var r=0;r<t.buffers.length;++r)for(var a=t.buffers[r],o=0;o<a.attributes.length;++o)if(a.attributes[o].name===n)return a.attributes.splice(o,1),a.attributes.length||t.buffers.splice(r,1),!0;return!0},e.setOpenGLRenderWindow=function(n){t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))}}(e,t)}var UI={newInstance:iS.newInstance(FI,"vtkOpenGLVertexArrayObject"),extend:FI},jI={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};var GI={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function zI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,GI,n),iS.obj(e,t),t.shaderSourceTime={},iS.obj(t.shaderSourceTime),t.attributeUpdateTime={},iS.obj(t.attributeUpdateTime),iS.setGet(e,t,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),t.program=NI.newInstance(),t.VAO=UI.newInstance(),t.CABO=II.newInstance(),function(e,t){t.classHierarchy.push("vtkOpenGLHelper"),e.setOpenGLRenderWindow=function(e){t.context=e.getContext(),t.program.setContext(t.context),t.VAO.setOpenGLRenderWindow(e),t.CABO.setOpenGLRenderWindow(e)},e.releaseGraphicsResources=function(e){t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)},e.drawArrays=function(n,r,a,o){if(t.CABO.getElementCount()){var i=e.getOpenGLMode(a),s=e.haveWideLines(n,r),l=t.context,u=l.getParameter(l.DEPTH_WRITEMASK);t.pointPicking&&l.depthMask(!1),i===l.LINES&&s?(e.updateShaders(n,r,o),l.drawArraysInstanced(i,0,t.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(l.lineWidth(r.getProperty().getLineWidth()),e.updateShaders(n,r,o),l.drawArrays(i,0,t.CABO.getElementCount()),l.lineWidth(1));var c=(i===l.POINTS?1:0)||(i===l.LINES?2:3);return t.pointPicking&&l.depthMask(u),t.CABO.getElementCount()/c}return 0},e.getOpenGLMode=function(e){if(t.pointPicking)return t.context.POINTS;var n=t.primitiveType;return e===SI.POINTS||n===jI.Points?t.context.POINTS:e===SI.WIREFRAME||n===jI.Lines||n===jI.TrisEdges||n===jI.TriStripsEdges?t.context.LINES:t.context.TRIANGLES},e.haveWideLines=function(e,n){return n.getProperty().getLineWidth()>1&&!(t.CABO.getOpenGLRenderWindow()&&t.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=n.getProperty().getLineWidth())},e.getNeedToRebuildShaders=function(t,n,r){return!!(r.getNeedToRebuildShaders(e,t,n)||0===e.getProgram()||e.getShaderSourceTime().getMTime()<r.getMTime()||e.getShaderSourceTime().getMTime()<n.getMTime())},e.updateShaders=function(n,r,a){if(e.getNeedToRebuildShaders(n,r,a)){var o={Vertex:null,Fragment:null,Geometry:null};a.buildShaders(o,n,r);var i=t.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);i!==e.getProgram()&&(e.setProgram(i),e.getVAO().releaseGraphicsResources()),e.getShaderSourceTime().modified()}else t.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(e.getProgram());e.getVAO().bind(),a.setMapperShaderParameters(e,n,r),a.setPropertyShaderParameters(e,n,r),a.setCameraShaderParameters(e,n,r),a.setLightingShaderParameters(e,n,r),a.invokeShaderCallbacks(e,n,r)},e.setMapperShaderParameters=function(n,r,a){if(e.haveWideLines(n,r)){e.getProgram().setUniform2f("viewportSize",a.usize,a.vsize);var o=parseFloat(r.getProperty().getLineWidth()),i=o/2;e.getProgram().setUniformf("lineWidthStepSize",o/Math.ceil(o)),e.getProgram().setUniformf("halfLineWidth",i)}t.primitiveType===jI.Points||r.getProperty().getRepresentation()===SI.POINTS?e.getProgram().setUniformf("pointSize",r.getProperty().getPointSize()):t.pointPicking&&e.getProgram().setUniformf("pointSize",e.getPointPickingPrimitiveSize())},e.replaceShaderPositionVC=function(n,r,a){var o=n.Vertex;o=NI.substitute(o,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,e.getOpenGLMode(a.getProperty().getRepresentation())===t.context.LINES&&e.haveWideLines(r,a)&&(o=NI.substitute(o,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),n.Vertex=o},e.getPointPickingPrimitiveSize=function(){return t.primitiveType===jI.Points?2:t.primitiveType===jI.Lines?4:6}}(e,t)}var WI={newInstance:iS.newInstance(zI),extend:zI,primTypes:jI};function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var KI=TI.Representation,qI=TI.Interpolation;function XI(e){return function(){return iS.vtkErrorMacro("vtkProperty::".concat(e," - NOT IMPLEMENTED"))}}var YI={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,metallic:0,roughness:.6,normalStrength:1,emission:1,baseIOR:1.45,specular:0,specularPower:1,opacity:1,interpolation:qI.GOURAUD,representation:KI.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function $I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,YI,n),iS.obj(e,t),iS.setGet(e,t,["lighting","interpolation","ambient","diffuse","metallic","roughness","normalStrength","emission","baseIOR","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation","diffuseTexture","metallicTexture","roughnessTexture","normalTexture","ambientOcclusionTexture","emissionTexture"]),iS.setGetArray(e,t,["ambientColor","specularColor","diffuseColor","edgeColor"],3),function(e,t){t.classHierarchy.push("vtkProperty"),e.setColor=function(n,r,a){Array.isArray(n)?t.color[0]===n[0]&&t.color[1]===n[1]&&t.color[2]===n[2]||(t.color[0]=n[0],t.color[1]=n[1],t.color[2]=n[2],e.modified()):t.color[0]===n&&t.color[1]===r&&t.color[2]===a||(t.color[0]=n,t.color[1]=r,t.color[2]=a,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)},e.computeCompositeColor=XI("ComputeCompositeColor"),e.getColor=function(){var e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(var n=0;n<3;n++)t.color[n]=e*(t.ambient*t.ambientColor[n]+t.diffuse*t.diffuseColor[n]+t.specular*t.specularColor[n]);return[].concat(t.color)},e.setSpecularPower=function(n){var r=1/Math.max(1,n);t.roughness===r&&t.specularPower===n||(t.specularPower=n,t.roughness=r,e.modified())},e.addShaderVariable=XI("AddShaderVariable"),e.setInterpolationToFlat=function(){return e.setInterpolation(qI.FLAT)},e.setInterpolationToGouraud=function(){return e.setInterpolation(qI.GOURAUD)},e.setInterpolationToPhong=function(){return e.setInterpolation(qI.PHONG)},e.getInterpolationAsString=function(){return iS.enumToString(qI,t.interpolation)},e.setRepresentationToWireframe=function(){return e.setRepresentation(KI.WIREFRAME)},e.setRepresentationToSurface=function(){return e.setRepresentation(KI.SURFACE)},e.setRepresentationToPoints=function(){return e.setRepresentation(KI.POINTS)},e.getRepresentationAsString=function(){return iS.enumToString(KI,t.representation)}}(e,t)}var ZI=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HI(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance($I,"vtkProperty"),extend:$I},TI),QI=ZI.Representation,JI=iS.vtkErrorMacro;function eR(e){var t=NI.substitute(e.Fragment,"//VTK::RenderPassFragmentShader::Impl","\n      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);\n      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);\n      gl_FragData[1].r = weight;\n    ",!1);e.Fragment=t.result}var tR="//VTK::System::Dec\n\nin vec2 tcoord;\n\nuniform sampler2D translucentRTexture;\nuniform sampler2D translucentRGBATexture;\n\n// the output of this shader\n//VTK::Output::Dec\n\nvoid main()\n{\n  vec4 t1Color = texture(translucentRGBATexture, tcoord);\n  float t2Color = texture(translucentRTexture, tcoord).r;\n  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);\n}\n";var nR={framebuffer:null,copyShader:null,tris:null};function rR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,nR,n),kO.extend(e,t,n),t.VBOBuildTime={},iS.obj(t.VBOBuildTime,{mtime:0}),t.tris=WI.newInstance(),iS.get(e,t,["framebuffer"]),function(e,t){t.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),e.createVertexBuffer=function(){var e=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),n=new Float32Array([0,0,1,0,0,1,1,1]),r=new Uint16Array([4,0,1,3,2]),a=eO.newInstance({numberOfComponents:3,values:e});a.setName("points");var o=eO.newInstance({numberOfComponents:2,values:n});o.setName("tcoords");var i=eO.newInstance({numberOfComponents:1,values:r});t.tris.getCABO().createVBO(i,"polys",QI.SURFACE,{points:a,tcoords:o,cellOffset:0}),t.VBOBuildTime.modified()},e.createFramebuffer=function(e){var n,r=e.getSize(),a=e.getContext();t.framebuffer=EO.newInstance(),t.framebuffer.setOpenGLRenderWindow(e),(n=t.framebuffer).create.apply(n,rC(r)),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.bind(),t.translucentRGBATexture=PO.newInstance(),t.translucentRGBATexture.setInternalFormat(a.RGBA16F),t.translucentRGBATexture.setFormat(a.RGBA),t.translucentRGBATexture.setOpenGLDataType(a.HALF_FLOAT),t.translucentRGBATexture.setOpenGLRenderWindow(e),t.translucentRGBATexture.create2DFromRaw(r[0],r[1],4,"Float32Array",null),t.translucentRTexture=PO.newInstance(),t.translucentRTexture.setInternalFormat(a.R16F),t.translucentRTexture.setFormat(a.RED),t.translucentRTexture.setOpenGLDataType(a.HALF_FLOAT),t.translucentRTexture.setOpenGLRenderWindow(e),t.translucentRTexture.create2DFromRaw(r[0],r[1],1,"Float32Array",null),t.translucentZTexture=PO.newInstance(),t.translucentZTexture.setOpenGLRenderWindow(e),t.translucentZTexture.createDepthFromRaw(r[0],r[1],"Float32Array",null),t.framebuffer.setColorBuffer(t.translucentRGBATexture,0),t.framebuffer.setColorBuffer(t.translucentRTexture,1),t.framebuffer.setDepthBuffer(t.translucentZTexture)},e.createCopyShader=function(e){t.copyShader=e.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join("\n"),tR,"")},e.createVBO=function(n){var r=n.getContext();t.tris.setOpenGLRenderWindow(n),e.createVertexBuffer();var a=t.copyShader;t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(a,t.tris.getCABO(),"vertexDC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||JI("Error setting vertexDC in copy shader VAO."),t.copyVAO.addAttributeArray(a,t.tris.getCABO(),"tcoordTC",t.tris.getCABO().getTCoordOffset(),t.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||JI("Error setting vertexDC in copy shader VAO.")},e.traverse=function(n,r,a){if(!t.deleted){var o=n.getSize(),i=n.getContext();if(t._supported=!1,r.getSelector()||!i||!n.getWebgl2()||!i.getExtension("EXT_color_buffer_half_float")&&!i.getExtension("EXT_color_buffer_float"))return e.setCurrentOperation("translucentPass"),void r.traverse(e);if(t._supported=!0,null===t.framebuffer)e.createFramebuffer(n);else{var s=t.framebuffer.getSize();null===s||s[0]!==o[0]||s[1]!==o[1]?(t.framebuffer.releaseGraphicsResources(),t.translucentRGBATexture.releaseGraphicsResources(n),t.translucentRTexture.releaseGraphicsResources(n),t.translucentZTexture.releaseGraphicsResources(n),e.createFramebuffer(n)):(t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.bind())}i.drawBuffers([i.COLOR_ATTACHMENT0]),i.clearBufferfv(i.COLOR,0,[0,0,0,0]),i.clearBufferfv(i.DEPTH,0,[1]),i.colorMask(!1,!1,!1,!1),a.getOpaqueActorCount()>0&&(a.setCurrentOperation("opaqueZBufferPass"),r.traverse(a)),i.colorMask(!0,!0,!0,!0),i.drawBuffers([i.COLOR_ATTACHMENT0,i.COLOR_ATTACHMENT1]),i.viewport(0,0,o[0],o[1]),i.scissor(0,0,o[0],o[1]),i.clearBufferfv(i.COLOR,0,[0,0,0,1]),i.clearBufferfv(i.COLOR,1,[0,0,0,0]),i.enable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.ONE,i.ONE,i.ZERO,i.ONE_MINUS_SRC_ALPHA),e.setCurrentOperation("translucentPass"),r.traverse(e),i.drawBuffers([i.NONE]),t.framebuffer.restorePreviousBindingsAndBuffers(),null===t.copyShader?e.createCopyShader(n):n.getShaderCache().readyShaderProgram(t.copyShader),t.copyVAO||(t.copyVAO=UI.newInstance(),t.copyVAO.setOpenGLRenderWindow(n)),t.copyVAO.bind(),t.VBOBuildTime.getMTime()<e.getMTime()&&e.createVBO(n),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.depthMask(!1),i.depthFunc(i.ALWAYS),i.viewport(0,0,o[0],o[1]),i.scissor(0,0,o[0],o[1]),t.translucentRGBATexture.activate(),t.copyShader.setUniformi("translucentRGBATexture",t.translucentRGBATexture.getTextureUnit()),t.translucentRTexture.activate(),t.copyShader.setUniformi("translucentRTexture",t.translucentRTexture.getTextureUnit()),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),i.depthMask(!0),i.depthFunc(i.LEQUAL),t.translucentRGBATexture.deactivate(),t.translucentRTexture.deactivate()}},e.getShaderReplacement=function(){return t._supported?eR:null},e.releaseGraphicsResources=function(n){t.framebuffer&&(t.framebuffer.releaseGraphicsResources(n),t.framebuffer=null),t.translucentRGBATexture&&(t.translucentRGBATexture.releaseGraphicsResources(n),t.translucentRGBATexture=null),t.translucentRTexture&&(t.translucentRTexture.releaseGraphicsResources(n),t.translucentRTexture=null),t.translucentZTexture&&(t.translucentZTexture.releaseGraphicsResources(n),t.translucentZTexture=null),t.copyVAO&&(t.copyVAO.releaseGraphicsResources(n),t.copyVAO=null),t.copyShader&&(t.copyShader.releaseGraphicsResources(n),t.copyShader=null),t.tris&&(t.tris.releaseGraphicsResources(n),t.tris=null),e.modified()}}(e,t)}var aR={newInstance:iS.newInstance(rR,"vtkOpenGLOrderIndependentTranslucentPass"),extend:rR};var oR={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function iR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oR,n),kO.extend(e,t,n),iS.get(e,t,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),function(e,t){t.classHierarchy.push("vtkForwardPass"),e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.deleted){t._currentParent=r,e.setCurrentOperation("buildPass"),n.traverse(e);for(var a=n.getRenderable().getNumberOfLayers(),o=n.getChildren(),i=0;i<a;i++)for(var s=0;s<o.length;s++){var l=o[s],u=n.getRenderable().getRenderers()[s];if(u.getDraw()&&u.getLayer()===i){if(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumeCount=0,t.overlayActorCount=0,e.setCurrentOperation("queryPass"),l.traverse(e),(t.opaqueActorCount>0||t.translucentActorCount>0)&&t.volumeCount>0||t.depthRequested){var c=n.getFramebufferSize();null===t.framebuffer&&(t.framebuffer=EO.newInstance()),t.framebuffer.setOpenGLRenderWindow(n),t.framebuffer.saveCurrentBindingsAndBuffers();var d=t.framebuffer.getSize();null!==d&&d[0]===c[0]&&d[1]===c[1]||(t.framebuffer.create(c[0],c[1]),t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),e.setCurrentOperation("zBufferPass"),l.traverse(e),t.framebuffer.restorePreviousBindingsAndBuffers(),t.depthRequested=!1}e.setCurrentOperation("cameraPass"),l.traverse(e),t.opaqueActorCount>0&&(e.setCurrentOperation("opaquePass"),l.traverse(e)),t.translucentActorCount>0&&(t.translucentPass||(t.translucentPass=aR.newInstance()),t.translucentPass.traverse(n,l,e)),t.volumeCount>0&&(e.setCurrentOperation("volumePass"),l.traverse(e)),t.overlayActorCount>0&&(e.setCurrentOperation("overlayPass"),l.traverse(e))}}}},e.getZBufferTexture=function(){return t.framebuffer?t.framebuffer.getColorTexture():null},e.requestDepth=function(){t.depthRequested=!0},e.incrementOpaqueActorCount=function(){return t.opaqueActorCount++},e.incrementTranslucentActorCount=function(){return t.translucentActorCount++},e.incrementVolumeCount=function(){return t.volumeCount++},e.incrementOverlayActorCount=function(){return t.overlayActorCount++}}(e,t)}var sR={newInstance:iS.newInstance(iR,"vtkForwardPass"),extend:iR},lR={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3},uR={PassTypes:lR},cR=iS.vtkErrorMacro,dR=iS.vtkWarningMacro;var fR={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function pR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,fR,n),iS.obj(e,t),function(e,t){t.classHierarchy.push("vtkFieldData");var n=e.getState;t.arrays&&(t.arrays=t.arrays.map((function(e){return{data:fC(e.data)}}))),e.initialize=function(){e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=function(){t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=function(n){e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map((function(e){return e})),t.arrays=n.arrays().map((function(e){return{array:e}}))},e.getNumberOfArrays=function(){return t.arrays.length},e.getNumberOfActiveArrays=function(){return t.arrays.length},e.addArray=function(n){var r=n.getName(),a=e.getArrayWithIndex(r),o=a.array,i=a.index;return null!=o?(t.arrays[i]={data:n},i):(t.arrays=[].concat(t.arrays,{data:n}),t.arrays.length-1)},e.removeAllArrays=function(){t.arrays=[]},e.removeArray=function(n){var r=t.arrays.findIndex((function(e){return e.getName()===n}));return e.removeArrayByIndex(r)},e.removeArrayByIndex=function(e){return-1!==e&&e<t.arrays.length&&(t.arrays.splice(e,1),!0)},e.getArrays=function(){return t.arrays.map((function(e){return e.data}))},e.getArray=function(t){return"number"===typeof t?e.getArrayByIndex(t):e.getArrayByName(t)},e.getArrayByName=function(e){return t.arrays.reduce((function(t,n,r){return n.data.getName()===e?n.data:t}),null)},e.getArrayWithIndex=function(e){var n=t.arrays.findIndex((function(t){return t.data.getName()===e}));return{array:-1!==n?t.arrays[n].data:null,index:n}},e.getArrayByIndex=function(e){return e>=0&&e<t.arrays.length?t.arrays[e].data:null},e.hasArray=function(t){return e.getArrayWithIndex(t).index>=0},e.getArrayName=function(e){var n=t.arrays[e];return n?n.data.getName():""},e.getCopyFieldFlags=function(){return t.copyFieldFlags},e.getFlag=function(e){return t.copyFieldFlags[e]},e.passData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach((function(o){var i=e.getFlag(o.getName());if(!1!==i&&(!t.doCopyAllOff||!0===i)&&o){var s=e.getArrayByName(o.getName());if(s)if(o.getNumberOfComponents()===s.getNumberOfComponents())if(r>-1&&r<o.getNumberOfTuples()){var l=a>-1?a:r;s.insertTuple(l,o.getTuple(r))}else s.insertTuples(0,o.getTuples());else cR("Unhandled case in passData");else if(r<0||r>o.getNumberOfTuples())e.addArray(o),n.getAttributes(o).forEach((function(t){e.setAttribute(o,t)}));else{var u=o.getNumberOfComponents(),c=o.getNumberOfValues(),d=a>-1?a:r;c<=d*u&&(c=(d+1)*u),(s=eO.newInstance({name:o.getName(),dataType:o.getDataType(),numberOfComponents:u,values:iS.newTypedArray(o.getDataType(),c),size:0})).insertTuple(d,o.getTuple(r)),e.addArray(s),n.getAttributes(o).forEach((function(t){e.setAttribute(s,t)}))}}}))},e.interpolateData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;n.getArrays().forEach((function(s){var l=e.getFlag(s.getName());if(!1!==l&&(!t.doCopyAllOff||!0===l)&&s){var u=e.getArrayByName(s.getName());if(u)if(s.getNumberOfComponents()===u.getNumberOfComponents())if(r>-1&&r<s.getNumberOfTuples()){var c=o>-1?o:r;u.interpolateTuple(c,s,r,s,a,i),dR("Unexpected case in interpolateData")}else u.insertTuples(s.getTuples());else cR("Unhandled case in interpolateData");else if(r<0||a<0||r>s.getNumberOfTuples())e.addArray(s),n.getAttributes(s).forEach((function(t){e.setAttribute(s,t)}));else{var d=s.getNumberOfComponents(),f=s.getNumberOfValues(),p=o>-1?o:r;f<=p*d&&(f=(p+1)*d),(u=eO.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:d,values:iS.newTypedArray(s.getDataType(),f),size:0})).interpolateTuple(p,s,r,s,a,i),e.addArray(u),n.getAttributes(s).forEach((function(t){e.setAttribute(u,t)}))}}}))},e.copyFieldOn=function(e){t.copyFieldFlags[e]=!0},e.copyFieldOff=function(e){t.copyFieldFlags[e]=!1},e.copyAllOn=function(){t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=function(){!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=function(){t.copyFieldFlags={}},e.deepCopy=function(e){t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.deepCopy(e),{data:t}}))},e.copyFlags=function(e){return e.getCopyFieldFlags().map((function(e){return e}))},e.reset=function(){return t.arrays.forEach((function(e){return e.data.reset()}))},e.getMTime=function(){return t.arrays.reduce((function(e,t){return t.data.getMTime()>e?t.data.getMTime():e}),t.mtime)},e.getNumberOfComponents=function(){return t.arrays.reduce((function(e,t){return e+t.data.getNumberOfComponents()}),0)},e.getNumberOfTuples=function(){return t.arrays.length>0?t.arrays[0].getNumberOfTuples():0},e.getState=function(){var e=n();return e&&(e.arrays=t.arrays.map((function(e){return{data:e.data.getState()}}))),e}}(e,t)}var mR={newInstance:iS.newInstance(pR,"vtkFieldData"),extend:pR},gR={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:{DEFAULT:0,SINGLE:1,DOUBLE:2},PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"};function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yR=gR.AttributeTypes,bR=gR.AttributeCopyOperations,xR=iS.vtkWarningMacro;var wR={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function CR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wR,n),mR.extend(e,t,n),iS.setGet(e,t,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),t.arrays||(t.arrays={}),function(e,t){var n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(e){var t=n.find((function(t){return yR[t.toUpperCase()]===e||"number"!==typeof e&&t.toLowerCase()===e.toLowerCase()}));return"undefined"===typeof t&&(t=null),t}t.classHierarchy.push("vtkDataSetAttributes");var a=hR({},e);e.checkNumberOfComponents=function(e){return!0},e.setAttribute=function(n,a){var o=r(a);if(n&&"PEDIGREEIDS"===o.toUpperCase()&&!n.isA("vtkDataArray"))return xR("Cannot set attribute ".concat(o,". The attribute must be a vtkDataArray.")),-1;if(n&&!e.checkNumberOfComponents(n,o))return xR("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1;var i=t["active".concat(o)];if(i>=0&&i<t.arrays.length){if(t.arrays[i]===n)return i;e.removeArrayByIndex(i)}return n?(i=e.addArray(n),t["active".concat(o)]=i):t["active".concat(o)]=-1,e.modified(),t["active".concat(o)]},e.getAttributes=function(t){return n.filter((function(n){return e["get".concat(n)]()===t}))},e.setActiveAttributeByName=function(t,n){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e.setActiveAttributeByIndex=function(n,a){var o=r(a);if(n>=0&&n<t.arrays.length){if("PEDIGREEIDS"!==o.toUpperCase()){var i=e.getArrayByIndex(n);if(!i.isA("vtkDataArray"))return xR("Cannot set attribute ".concat(o,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!e.checkNumberOfComponents(i,o))return xR("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1}return t["active".concat(o)]=n,e.modified(),n}return-1===n&&(t["active".concat(o)]=n,e.modified()),-1},e.getActiveAttribute=function(t){var n=r(t);return e["get".concat(n)]()},e.removeAllArrays=function(){n.forEach((function(e){t["active".concat(e)]=-1})),a.removeAllArrays()},e.removeArrayByIndex=function(e){return-1!==e&&n.forEach((function(n){e===t["active".concat(n)]?t["active".concat(n)]=-1:e<t["active".concat(n)]&&(t["active".concat(n)]-=1)})),a.removeArrayByIndex(e)},n.forEach((function(n){var r="active".concat(n);e["get".concat(n)]=function(){return e.getArrayByIndex(t[r])},e["set".concat(n)]=function(t){return e.setAttribute(t,n)},e["setActive".concat(n)]=function(t){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e["copy".concat(n,"Off")]=function(){var e=n.toUpperCase();t.copyAttributeFlags[bR.PASSDATA][yR[e]]=!1},e["copy".concat(n,"On")]=function(){var e=n.toUpperCase();t.copyAttributeFlags[bR.PASSDATA][yR[e]]=!0}})),e.initializeAttributeCopyFlags=function(){t.copyAttributeFlags=[],Object.keys(bR).filter((function(e){return"ALLCOPY"!==e})).forEach((function(e){t.copyAttributeFlags[bR[e]]=Object.keys(yR).filter((function(e){return"NUM_ATTRIBUTES"!==e})).reduce((function(e,t){return e[yR[t]]=!0,e}),[])})),t.copyAttributeFlags[bR.COPYTUPLE][yR.GLOBALIDS]=!1,t.copyAttributeFlags[bR.INTERPOLATE][yR.GLOBALIDS]=!1,t.copyAttributeFlags[bR.COPYTUPLE][yR.PEDIGREEIDS]=!1},e.initialize=iS.chain(e.initialize,e.initializeAttributeCopyFlags),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach((function(n){t.dataArrays[n].ref||"vtkDataArray"!==t.dataArrays[n].type||e.addArray(eO.newInstance(t.dataArrays[n]))}));var o=e.shallowCopy;e.shallowCopy=function(e,n){o(e,n),t.arrays=e.getArrays().map((function(e){var t=e.newClone();return t.shallowCopy(e,n),{data:t}}))},e.initializeAttributeCopyFlags()}(e,t)}var SR=hR({newInstance:iS.newInstance(CR,"vtkDataSetAttributes"),extend:CR},gR),TR={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var OR=["pointData","cellData","fieldData"];var AR={};function ER(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,AR,n),iS.obj(e,t),iS.setGet(e,t,OR),function(e,t){t.classHierarchy.push("vtkDataSet"),OR.forEach((function(e){t[e]?t[e]=fC(t[e]):t[e]=SR.newInstance()}));var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),OR.forEach((function(n){t[n]=SR.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))}}(e,t)}var IR=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PR(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(ER,"vtkDataSet"),extend:ER},TR);var RR={fieldAssociation:IR.FieldAssociations.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function kR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,RR,n),iS.obj(e,t),iS.setGet(e,t,["fieldAssociation","captureZValues"]),function(e,t){t.classHierarchy.push("vtkHardwareSelector"),e.getSourceDataAsync=function(){var e=lS(cS().mark((function e(t,n,r,a,o){return cS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),e.selectAsync=function(){var t=lS(cS().mark((function t(n,r,a,o,i){var s;return cS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSourceDataAsync(n,r,a,o,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.generateSelection(r,a,o,i));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a,o){return t.apply(this,arguments)}}()}(e,t)}var MR={newInstance:iS.newInstance(kR,"vtkHardwareSelector"),extend:kR},_R={SelectionContent:{GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},SelectionField:{CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5}};function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var LR={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function VR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LR,n),iS.obj(e,t),t.properties={},iS.setGet(e,t,["contentType","fieldType","properties","selectionList"]),function(e,t){t.classHierarchy.push("vtkSelectionNode"),e.getBounds=function(){return t.points.getBounds()}}(e,t)}var NR=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(VR,"vtkSelectionNode"),extend:VR},_R);function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var FR=uR.PassTypes,UR=NR.SelectionContent,jR=NR.SelectionField,GR=IR.FieldAssociations,zR=iS.vtkErrorMacro,WR=1;function HR(e){return"".concat(e.propID," ").concat(e.compositeID)}function KR(e,t,n,r){return n?n[4*(t*(r[2]-r[0]+1)+e)+3]:0}function qR(e,t,n,r){if(!n)return 0;var a=4*(t*(r[2]-r[0]+1)+e),o=n[a],i=n[a+1];return 256*(256*n[a+2]+i)+o}function XR(e,t){var n=t;return n<<=24,n|=e}function YR(e,t,n,r){var a=n<0?0:n;if(0===a){if(r[0]=t[0],r[1]=t[1],t[0]<e.area[0]||t[0]>e.area[2]||t[1]<e.area[1]||t[1]>e.area[3])return null;var o=[t[0]-e.area[0],t[1]-e.area[1]],i=qR(o[0],o[1],e.pixBuffer[FR.ACTOR_PASS],e.area);if(i<=0||i-WR>=e.props.length)return null;var s={valid:!0};s.propID=i-WR,s.prop=e.props[s.propID];var l=qR(o[0],o[1],e.pixBuffer[FR.COMPOSITE_INDEX_PASS],e.area);if((l<0||l>16777215)&&(l=0),s.compositeID=l-WR,e.captureZValues){var u=4*(o[1]*(e.area[2]-e.area[0]+1)+o[0]);s.zValue=(256*e.zBuffer[u]+e.zBuffer[u+1])/65535,s.displayPosition=t}if(e.pixBuffer[FR.ID_LOW24]&&0===KR(o[0],o[1],e.pixBuffer[FR.ID_LOW24],e.area))return s;var c=qR(o[0],o[1],e.pixBuffer[FR.ID_LOW24],e.area),d=qR(o[0],o[1],e.pixBuffer[FR.ID_HIGH24],e.area);return s.attributeID=XR(c,d),s}var f=[t[0],t[1]],p=[0,0],m=YR(e,t,0,r);if(m&&m.valid)return m;for(var g=1;g<a;++g){for(var v=f[1]>g?f[1]-g:0;v<=f[1]+g;++v){if(p[1]=v,f[0]>=g&&(p[0]=f[0]-g,(m=YR(e,p,0,r))&&m.valid))return m;if(p[0]=f[0]+g,(m=YR(e,p,0,r))&&m.valid)return m}for(var h=f[0]>=g?f[0]-(g-1):0;h<=f[0]+(g-1);++h){if(p[0]=h,f[1]>=g&&(p[1]=f[1]-g,(m=YR(e,p,0,r))&&m.valid))return m;if(p[1]=f[1]+g,(m=YR(e,p,0,r))&&m.valid)return m}}return r[0]=t[0],r[1]=t[1],null}function $R(e,t,n,r,a){var o=[],i=0;return t.forEach((function(t,s){var l=NR.newInstance();switch(l.setContentType(UR.INDICES),e){case GR.FIELD_ASSOCIATION_CELLS:l.setFieldType(jR.CELL);break;case GR.FIELD_ASSOCIATION_POINTS:l.setFieldType(jR.POINT);break;default:zR("Unknown field association")}l.getProperties().propID=t.info.propID,l.getProperties().prop=t.info.prop,l.getProperties().compositeID=t.info.compositeID,l.getProperties().attributeID=t.info.attributeID,l.getProperties().pixelCount=t.pixelCount,n&&(l.getProperties().displayPosition=[t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue],l.getProperties().worldPosition=a.displayToWorld(t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue,r)),l.setSelectionList(t.attributeIDs),o[i]=l,i++})),o}function ZR(e,t,n,r,a){for(var o=Math.floor(t),i=Math.floor(n),s=Math.floor(r),l=Math.floor(a),u=new Map,c=[0,0],d=i;d<=l;d++)for(var f=o;f<=s;f++){var p=YR(e,[f,d],0,c);if(p&&p.valid){var m=HR(p);if(u.has(m)){var g=u.get(m);g.pixelCount++,e.captureZValues&&p.zValue<g.info.zValue&&(g.info=p),-1===g.attributeIDs.indexOf(p.attributeID)&&g.attributeIDs.push(p.attributeID)}else u.set(m,{info:p,pixelCount:1,attributeIDs:[p.attributeID]})}}return $R(e.fieldAssociation,u,e.captureZValues,e.renderer,e.openGLRenderWindow)}var QR={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function JR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,QR,n),MR.extend(e,t,n),t.propColorValue=[0,0,0],t.props=[],t.area||(t.area=[0,0,0,0]),iS.setGetArray(e,t,["area"],4),iS.setGet(e,t,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),iS.setGetArray(e,t,["propColorValue"],3),iS.moveToProtected(e,t,["renderer","openGLRenderWindow"]),iS.event(e,t,"event"),function(e,t){t.classHierarchy.push("vtkOpenGLHardwareSelector"),e.releasePixBuffers=function(){t.rawPixBuffer=[],t.pixBuffer=[],t.zBuffer=null},e.beginSelection=function(){t._openGLRenderer=t._openGLRenderWindow.getViewNodeFor(t._renderer),t.maxAttributeId=0;var n=t._openGLRenderWindow.getSize();if(t.framebuffer){t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers();var r=t.framebuffer.getSize();r[0]!==n[0]||r[1]!==n[1]?(t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer()):t.framebuffer.bind()}else t.framebuffer=EO.newInstance(),t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer();if(t._openGLRenderer.clear(),t._openGLRenderer.setSelector(e),t.hitProps={},t.propPixels={},t.props=[],e.releasePixBuffers(),t.fieldAssociation===GR.FIELD_ASSOCIATION_POINTS){var a=t._openGLRenderWindow.getContext(),o=a.isEnabled(a.BLEND);a.disable(a.BLEND),t._openGLRenderWindow.traverseAllPasses(),o&&a.enable(a.BLEND)}},e.endSelection=function(){t.hitProps={},t._openGLRenderer.setSelector(null),t.framebuffer.restorePreviousBindingsAndBuffers()},e.preCapturePass=function(){var e=t._openGLRenderWindow.getContext();t.originalBlending=e.isEnabled(e.BLEND),e.disable(e.BLEND)},e.postCapturePass=function(){var e=t._openGLRenderWindow.getContext();t.originalBlending&&e.enable(e.BLEND)},e.select=function(){var n=null;return e.captureBuffers()&&(n=e.generateSelection(t.area[0],t.area[1],t.area[2],t.area[3]),e.releasePixBuffers()),n},e.getSourceDataAsync=function(){var n=lS(cS().mark((function n(r,a,o,i,s){var l,u;return cS().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t._renderer=r,void 0===a?(l=t._openGLRenderWindow.getSize(),e.setArea(0,0,l[0]-1,l[1]-1)):e.setArea(a,o,i,s),e.captureBuffers()){n.next=4;break}return n.abrupt("return",!1);case 4:return(u={area:rC(t.area),pixBuffer:rC(t.pixBuffer),captureZValues:t.captureZValues,zBuffer:t.zBuffer,props:rC(t.props),fieldAssociation:t.fieldAssociation,renderer:r,openGLRenderWindow:t._openGLRenderWindow}).generateSelection=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZR.apply(void 0,[u].concat(t))},n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})));return function(e,t,r,a,o){return n.apply(this,arguments)}}(),e.captureBuffers=function(){if(!t._renderer||!t._openGLRenderWindow)return zR("Renderer and view must be set before calling Select."),!1;t._openGLRenderer=t._openGLRenderWindow.getViewNodeFor(t._renderer),t._openGLRenderWindow.getRenderable().preRender(),e.invokeEvent({type:"StartEvent"}),t.originalBackground=t._renderer.getBackgroundByReference(),t._renderer.setBackground(0,0,0,0);var n=t._openGLRenderWindow.getRenderPasses();for(e.beginSelection(),t.currentPass=FR.MIN_KNOWN_PASS;t.currentPass<=FR.MAX_KNOWN_PASS;t.currentPass++)e.passRequired(t.currentPass)&&(e.preCapturePass(t.currentPass),t.captureZValues&&t.currentPass===FR.ACTOR_PASS&&"function"===typeof n[0].requestDepth&&"function"===typeof n[0].getFramebuffer?(n[0].requestDepth(),t._openGLRenderWindow.traverseAllPasses()):t._openGLRenderWindow.traverseAllPasses(),e.postCapturePass(t.currentPass),e.savePixelBuffer(t.currentPass),e.processPixelBuffers());return e.endSelection(),t._renderer.setBackground(t.originalBackground),e.invokeEvent({type:"EndEvent"}),!0},e.processPixelBuffers=function(){t.props.forEach((function(n,r){e.isPropHit(r)&&n.processSelectorPixelBuffers(e,t.propPixels[r])}))},e.passRequired=function(e){if(e===FR.ID_HIGH24){if(t.fieldAssociation===GR.FIELD_ASSOCIATION_POINTS)return t.maximumPointId>16777215;if(t.fieldAssociation===GR.FIELD_ASSOCIATION_CELLS)return t.maximumCellId>16777215}return!0},e.savePixelBuffer=function(n){if(t.pixBuffer[n]=t._openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),!t.rawPixBuffer[n]){var r=(t.area[2]-t.area[0]+1)*(t.area[3]-t.area[1]+1)*4;t.rawPixBuffer[n]=new Uint8Array(r),t.rawPixBuffer[n].set(t.pixBuffer[n])}if(n===FR.ACTOR_PASS){if(t.captureZValues){var a=t._openGLRenderWindow.getRenderPasses();if("function"===typeof a[0].requestDepth&&"function"===typeof a[0].getFramebuffer){var o=a[0].getFramebuffer();o.saveCurrentBindingsAndBuffers(),o.bind(),t.zBuffer=t._openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),o.restorePreviousBindingsAndBuffers()}}e.buildPropHitList(t.rawPixBuffer[n])}},e.buildPropHitList=function(e){for(var n=0,r=0;r<=t.area[3]-t.area[1];r++)for(var a=0;a<=t.area[2]-t.area[0];a++){var o=qR(a,r,e,t.area);o>0&&(--o in t.hitProps||(t.hitProps[o]=!0,t.propPixels[o]=[]),t.propPixels[o].push(4*n)),++n}},e.renderProp=function(n){t.currentPass===FR.ACTOR_PASS&&(e.setPropColorValueFromInt(t.props.length+WR),t.props.push(n))},e.renderCompositeIndex=function(n){t.currentPass===FR.COMPOSITE_INDEX_PASS&&e.setPropColorValueFromInt(n+WR)},e.renderAttributeId=function(e){e<0||(t.maxAttributeId=e>t.maxAttributeId?e:t.maxAttributeId)},e.passTypeToString=function(e){return iS.enumToString(FR,e)},e.isPropHit=function(e){return Boolean(t.hitProps[e])},e.setPropColorValueFromInt=function(e){t.propColorValue[0]=e%256/255,t.propColorValue[1]=Math.floor(e/256)%256/255,t.propColorValue[2]=Math.floor(e/65536)%256/255},e.getPixelInformation=function(n,r,a){var o=r<0?0:r;if(0===o){if(a[0]=n[0],a[1]=n[1],n[0]<t.area[0]||n[0]>t.area[2]||n[1]<t.area[1]||n[1]>t.area[3])return null;var i=[n[0]-t.area[0],n[1]-t.area[1]],s=qR(i[0],i[1],t.pixBuffer[FR.ACTOR_PASS],t.area);if(s<=0||s-WR>=t.props.length)return null;var l={valid:!0};l.propID=s-WR,l.prop=t.props[l.propID];var u=qR(i[0],i[1],t.pixBuffer[FR.COMPOSITE_INDEX_PASS],t.area);if((u<0||u>16777215)&&(u=0),l.compositeID=u-WR,t.captureZValues){var c=4*(i[1]*(t.area[2]-t.area[0]+1)+i[0]);l.zValue=(256*t.zBuffer[c]+t.zBuffer[c+1])/65535,l.displayPosition=n}if(t.pixBuffer[FR.ID_LOW24]&&0===KR(i[0],i[1],t.pixBuffer[FR.ID_LOW24],t.area))return l;var d=qR(i[0],i[1],t.pixBuffer[FR.ID_LOW24],t.area),f=qR(i[0],i[1],t.pixBuffer[FR.ID_HIGH24],t.area);return l.attributeID=XR(d,f),l}var p=[n[0],n[1]],m=[0,0],g=e.getPixelInformation(n,0,a);if(g&&g.valid)return g;for(var v=1;v<o;++v){for(var h=p[1]>v?p[1]-v:0;h<=p[1]+v;++h){if(m[1]=h,p[0]>=v&&(m[0]=p[0]-v,(g=e.getPixelInformation(m,0,a))&&g.valid))return g;if(m[0]=p[0]+v,(g=e.getPixelInformation(m,0,a))&&g.valid)return g}for(var y=p[0]>=v?p[0]-(v-1):0;y<=p[0]+(v-1);++y){if(m[0]=y,p[1]>=v&&(m[1]=p[1]-v,(g=e.getPixelInformation(m,0,a))&&g.valid))return g;if(m[1]=p[1]+v,(g=e.getPixelInformation(m,0,a))&&g.valid)return g}}return a[0]=n[0],a[1]=n[1],null},e.generateSelection=function(n,r,a,o){for(var i=Math.floor(n),s=Math.floor(r),l=Math.floor(a),u=Math.floor(o),c=new Map,d=[0,0],f=s;f<=u;f++)for(var p=i;p<=l;p++){var m=[p,f],g=e.getPixelInformation(m,0,d);if(g&&g.valid){var v=HR(g);if(c.has(v)){var h=c.get(v);h.pixelCount++,t.captureZValues&&g.zValue<h.info.zValue&&(h.info=g),-1===h.attributeIDs.indexOf(g.attributeID)&&h.attributeIDs.push(g.attributeID)}else c.set(v,{info:g,pixelCount:1,attributeIDs:[g.attributeID]})}}return $R(t.fieldAssociation,c,t.captureZValues,t._renderer,t._openGLRenderWindow)},e.getRawPixelBuffer=function(e){return t.rawPixBuffer[e]},e.getPixelBuffer=function(e){return t.pixBuffer[e]},e.attach=function(e,n){t._openGLRenderWindow=e,t._renderer=n};var n=e.setArea;e.setArea=function(){return!!n.apply(void 0,arguments)&&(t.area[0]=Math.floor(t.area[0]),t.area[1]=Math.floor(t.area[1]),t.area[2]=Math.floor(t.area[2]),t.area[3]=Math.floor(t.area[3]),!0)}}(e,t)}var ek=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(JR,"vtkOpenGLHardwareSelector"),extend:JR},uR),tk=n(9833),nk=n.n(tk),rk=["lastShaderBound","context","_openGLRenderWindow"];var ak={lastShaderBound:null,shaderPrograms:null,context:null};function ok(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ak,n),t.shaderPrograms={},iS.obj(e,t),iS.setGet(e,t,rk),iS.moveToProtected(e,t,["openGLRenderWindow"]),function(e,t){t.classHierarchy.push("vtkShaderCache"),e.replaceShaderValues=function(e,n,r){var a=n;r.length>0&&(a=NI.substitute(a,"VSOut","GSOut").result);var o=t._openGLRenderWindow.getWebgl2(),i="\n",s="#version 100\n";o?s="#version 300 es\n#define attribute in\n#define textureCube texture\n#define texture2D texture\n#define textureCubeLod textureLod\n#define texture2DLod textureLod\n":(t.context.getExtension("OES_standard_derivatives"),t.context.getExtension("EXT_frag_depth")&&(i="#extension GL_EXT_frag_depth : enable\n"),t.context.getExtension("EXT_shader_texture_lod")&&(i+="#extension GL_EXT_shader_texture_lod : enable\n#define textureCubeLod textureCubeLodEXT\n#define texture2DLod texture2DLodEXT")),a=NI.substitute(a,"//VTK::System::Dec",["".concat(s,"\n"),o?"":"#extension GL_OES_standard_derivatives : enable\n",i,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var l=NI.substitute(e,"//VTK::System::Dec",["".concat(s,"\n"),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(o){l=NI.substitute(l,"varying","out").result,a=NI.substitute(a,"varying","in").result;for(var u="",c=0;a.includes("gl_FragData[".concat(c,"]"));)a=NI.substitute(a,"gl_FragData\\[".concat(c,"\\]"),"fragOutput".concat(c)).result,u+="layout(location = ".concat(c,") out vec4 fragOutput").concat(c,";\n"),c++;a=NI.substitute(a,"//VTK::Output::Dec",u).result}return{VSSource:l,FSSource:a,GSSource:NI.substitute(r,"//VTK::System::Dec",s).result}},e.readyShaderProgramArray=function(t,n,r){var a=e.replaceShaderValues(t,n,r),o=e.getShaderProgram(a.VSSource,a.FSSource,a.GSSource);return e.readyShaderProgram(o)},e.readyShaderProgram=function(t){return t&&(t.getCompiled()||t.compileShader())&&e.bindShader(t)?t:null},e.getShaderProgram=function(e,n,r){var a="".concat(e).concat(n).concat(r),o=nk().hash(a);if(!(o in t.shaderPrograms)){var i=NI.newInstance();return i.setContext(t.context),i.getVertexShader().setSource(e),i.getFragmentShader().setSource(n),r&&i.getGeometryShader().setSource(r),i.setMd5Hash(o),t.shaderPrograms[o]=i,i}return t.shaderPrograms[o]},e.releaseGraphicsResources=function(n){e.releaseCurrentShader(),Object.keys(t.shaderPrograms).map((function(e){return t.shaderPrograms[e]})).forEach((function(e){return e.releaseGraphicsResources(n)}))},e.releaseGraphicsResources=function(){t.astShaderBound&&(t.lastShaderBound.release(),t.lastShaderBound=null)},e.bindShader=function(e){return t.lastShaderBound===e||(t.lastShaderBound&&t.lastShaderBound.release(),e.bind(),t.lastShaderBound=e),1}}(e,t)}var ik={newInstance:iS.newInstance(ok,"vtkShaderCache"),extend:ok},sk=iS.vtkErrorMacro;var lk={context:null,numberOfTextureUnits:0,textureUnits:0};function uk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lk,n),iS.obj(e,t),t.textureUnits=[],iS.get(e,t,["numberOfTextureUnits"]),iS.setGet(e,t,["context"]),function(e,t){t.classHierarchy.push("vtkOpenGLTextureUnitManager"),e.deleteTable=function(){for(var e=0;e<t.numberOfTextureUnits;++e)!0===t.textureUnits[e]&&sk("some texture units  were not properly released");t.textureUnits=[],t.numberOfTextureUnits=0},e.setContext=function(n){if(t.context!==n){if(0!==t.context&&e.deleteTable(),t.context=n,t.context){t.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<t.numberOfTextureUnits;++r)t.textureUnits[r]=!1}e.modified()}},e.allocate=function(){for(var n=0;n<t.numberOfTextureUnits;n++)if(!e.isAllocated(n))return t.textureUnits[n]=!0,n;return-1},e.allocateUnit=function(n){return e.isAllocated(n)?-1:(t.textureUnits[n]=!0,n)},e.isAllocated=function(e){return t.textureUnits[e]},e.free=function(e){t.textureUnits[e]=!1}}(e,t)}var ck={newInstance:iS.newInstance(uk,"vtkOpenGLTextureUnitManager"),extend:uk};var dk={size:void 0,selector:void 0};function fk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dk,n),t.size||(t.size=[300,300]),iS.getArray(e,t,["size"],2),iS.get(e,t,["selector"]),aO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkRenderWindowViewNode"),e.getViewNodeFactory=function(){return null},e.getAspectRatio=function(){return t.size[0]/t.size[1]},e.getAspectRatioForRenderer=function(e){var n=e.getViewportByReference();return t.size[0]*(n[2]-n[0])/((n[3]-n[1])*t.size[1])},e.isInViewport=function(t,n,r){var a=r.getViewportByReference(),o=e.getFramebufferSize();return a[0]*o[0]<=t&&a[2]*o[0]>=t&&a[1]*o[1]<=n&&a[3]*o[1]>=n},e.getViewportSize=function(t){var n=t.getViewportByReference(),r=e.getFramebufferSize();return[(n[2]-n[0])*r[0],(n[3]-n[1])*r[1]]},e.getViewportCenter=function(t){var n=e.getViewportSize(t);return[.5*n[0],.5*n[1]]},e.displayToNormalizedDisplay=function(t,n,r){var a=e.getFramebufferSize();return[t/a[0],n/a[1],r]},e.normalizedDisplayToDisplay=function(t,n,r){var a=e.getFramebufferSize();return[t*a[0],n*a[1],r]},e.worldToView=function(e,t,n,r){return r.worldToView(e,t,n)},e.viewToWorld=function(e,t,n,r){return r.viewToWorld(e,t,n)},e.worldToDisplay=function(t,n,r,a){var o=a.worldToView(t,n,r),i=e.getViewportSize(a),s=a.viewToProjection(o[0],o[1],o[2],i[0]/i[1]),l=a.projectionToNormalizedDisplay(s[0],s[1],s[2]);return e.normalizedDisplayToDisplay(l[0],l[1],l[2])},e.displayToWorld=function(t,n,r,a){var o=e.displayToNormalizedDisplay(t,n,r),i=a.normalizedDisplayToProjection(o[0],o[1],o[2]),s=e.getViewportSize(a),l=a.projectionToView(i[0],i[1],i[2],s[0]/s[1]);return a.viewToWorld(l[0],l[1],l[2])},e.normalizedDisplayToViewport=function(t,n,r,a){var o=a.getViewportByReference();o=e.normalizedDisplayToDisplay(o[0],o[1],0);var i=e.normalizedDisplayToDisplay(t,n,r);return[i[0]-o[0]-.5,i[1]-o[1]-.5,r]},e.viewportToNormalizedViewport=function(t,n,r,a){var o=e.getViewportSize(a);return o&&0!==o[0]&&0!==o[1]?[t/(o[0]-1),n/(o[1]-1),r]:[t,n,r]},e.normalizedViewportToViewport=function(t,n,r,a){var o=e.getViewportSize(a);return[t*(o[0]-1),n*(o[1]-1),r]},e.displayToLocalDisplay=function(t,n,r){return[t,e.getFramebufferSize()[1]-n-1,r]},e.viewportToNormalizedDisplay=function(t,n,r,a){var o=a.getViewportByReference(),i=t+(o=e.normalizedDisplayToDisplay(o[0],o[1],0))[0]+.5,s=n+o[1]+.5;return e.displayToNormalizedDisplay(i,s,r)},e.getComputedDevicePixelRatio=function(){return t.size[0]/e.getContainerSize()[0]},e.getContainerSize=function(){iS.vtkErrorMacro("not implemented")},e.getPixelData=function(e,t,n,r){iS.vtkErrorMacro("not implemented")},e.createSelector=function(){iS.vtkErrorMacro("not implemented")}}(e,t)}var pk={newInstance:iS.newInstance(fk,"vtkRenderWindowViewNode"),extend:fk},mk={HmdVR:0,MobileAR:1,LookingGlassVR:2},gk="__getUnderlyingContext";function vk(){var e=new Map,t={apply:function(t,n,r){return e.has(r[0])?e.get(r[0]):t.apply(n,r)}};var n=Object.create(null);return n.getParameter=function(e,n,r,a){return new Proxy(a.bind(e),t)},n.depthMask=function(t,n,r,a){return new Proxy(a.bind(t),function(t){return{apply:function(n,r,a){return e.set(t,a[0]),n.apply(r,a)}}}(t.DEPTH_WRITEMASK))},{get:function(e,t,r){if(t===gk)return function(){return e};var a=Reflect.get(e,t,e);a instanceof Function&&(a=a.bind(e));var o=n[t];return o?o(e,t,r,a):a}}}var hk=iS.vtkDebugMacro,yk=iS.vtkErrorMacro,bk=mk,xk={position:"absolute",top:0,left:0,width:"100%",height:"100%"},wk={vr:{rescaleFactor:1,translateZ:-.7},ar:{rescaleFactor:.25,translateZ:-.5}};function Ck(e,t,n){var r=e.createFramebuffer(),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,t,2,2,0,t,n,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER);return e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),o===e.FRAMEBUFFER_COMPLETE}var Sk=0,Tk=[];function Pk(){Sk--,Tk.forEach((function(e){return e(Sk)}))}function Ok(e){e.preventDefault()}function Ak(e,t){t.classHierarchy.push("vtkOpenGLRenderWindow");var r=vk();e.getViewNodeFactory=function(){return t.myFactory},t.canvas.addEventListener("webglcontextlost",Ok,!1),t.canvas.addEventListener("webglcontextrestored",e.restoreContext,!1);var a,o=void 0!==navigator.xr&&navigator.xr.isSessionSupported("immersive-vr"),i=[0,0];e.onModified((function(){t.renderable&&(t.size[0]===i[0]&&t.size[1]===i[1]||(i[0]=t.size[0],i[1]=t.size[1],t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1]))),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none"),t.containerSize=null})),e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize(),t.children.forEach((function(t){t.setOpenGLRenderWindow(e)}))}},e.initialize=function(){if(!t.initialized){t.context=e.get3DContext(),t.textureUnitManager=ck.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);var n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.LEQUAL),n.enable(n.BLEND),t.initialized=!0}},e.makeCurrent=function(){t.context.makeCurrent()},e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&yk("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),e.modified())},e.getContainer=function(){return t.el},e.getContainerSize=function(){if(!t.containerSize&&t.el){var e=t.el.getBoundingClientRect(),n=e.width,r=e.height;t.containerSize=[n,r]}return t.containerSize||t.size},e.getFramebufferSize=function(){return t.activeFramebuffer?t.activeFramebuffer.getSize():t.size},e.getPixelData=function(e,n,r,a){var o=new Uint8Array((r-e+1)*(a-n+1)*4);return t.context.readPixels(e,n,r-e+1,a-n+1,t.context.RGBA,t.context.UNSIGNED_BYTE,o),o},e.get3DContext=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},a=null;o&&e.invokeHaveVRDisplay();var i="undefined"!==typeof WebGL2RenderingContext;return t.webgl2=!1,t.defaultToWebgl2&&i&&(a=t.canvas.getContext("webgl2",n))&&(t.webgl2=!0,hk("using webgl2")),a||(hk("using webgl1"),a=t.canvas.getContext("webgl",n)||t.canvas.getContext("experimental-webgl",n)),new Proxy(a,r)},e.startXR=function(n){if(void 0===navigator.xr)throw new Error("WebXR is not available");t.xrSessionType=void 0!==n?n:bk.HmdVR;var r=n===bk.MobileAR,a=r?"immersive-ar":"immersive-vr";if(!navigator.xr.isSessionSupported(a))throw r?new Error("Device does not support AR session"):new Error("VR display is not available");if(null!==t.xrSession)throw new Error("XR Session already exists!");navigator.xr.requestSession(a).then(e.enterXR,(function(){throw new Error("Failed to create XR session!")}))},e.enterXR=function(){var r=lS(cS().mark((function r(a){var o,i;return cS().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.xrSession=a,t.oldCanvasSize=t.size.slice(),null===t.xrSession){r.next=15;break}return o=e.get3DContext(),r.next=6,o.makeXRCompatible();case 6:i=new n.g.XRWebGLLayer(t.xrSession,o[gk]()),e.setSize(i.framebufferWidth,i.framebufferHeight),t.xrSession.updateRenderState({baseLayer:i}),t.xrSession.requestReferenceSpace("local").then((function(e){t.xrReferenceSpace=e})),e.resetXRScene(),t.renderable.getInteractor().switchToXRAnimation(),t.xrSceneFrame=t.xrSession.requestAnimationFrame(e.xrRender),r.next=16;break;case 15:throw new Error("Failed to enter VR with a null xrSession.");case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.resetXRScene=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wk.vr.rescaleFactor,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wk.vr.translateZ,r=t.xrSessionType===bk.MobileAR;r&&e===wk.vr.rescaleFactor&&(e=wk.ar.rescaleFactor),r&&n===wk.vr.translateZ&&(n=wk.ar.translateZ);var a=t.renderable.getRenderers()[0];a.resetCamera();var o=a.getActiveCamera(),i=o.getPhysicalScale(),s=o.getPhysicalTranslation();n*=i/=e,s[2]+=n,o.setPhysicalScale(i),o.setPhysicalTranslation(s),o.setClippingRange(.1*i,100*i)},e.stopXR=lS(cS().mark((function n(){var r,a;return cS().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==navigator.xr){n.next=2;break}return n.abrupt("return");case 2:if(null===t.xrSession){n.next=10;break}return t.xrSession.cancelAnimationFrame(t.xrSceneFrame),t.renderable.getInteractor().returnFromXRAnimation(),(r=e.get3DContext()).bindFramebuffer(r.FRAMEBUFFER,null),n.next=9,t.xrSession.end().catch((function(e){if(!(e instanceof DOMException))throw e}));case 9:t.xrSession=null;case 10:void 0!==t.oldCanvasSize&&e.setSize.apply(e,rC(t.oldCanvasSize)),(a=t.renderable.getRenderers()[0]).getActiveCamera().setProjectionMatrix(null),a.resetCamera(),a.setViewport(0,0,1,1),e.traverseAllPasses();case 16:case"end":return n.stop()}}),n)}))),e.xrRender=function(){var n=lS(cS().mark((function n(r,a){var o,i,s,l,u;return cS().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a.session,t.renderable.getInteractor().updateXRGamepads(o,a,t.xrReferenceSpace),t.xrSceneFrame=t.xrSession.requestAnimationFrame(e.xrRender),(i=a.getViewerPose(t.xrReferenceSpace))&&(s=e.get3DContext(),t.xrSessionType===bk.MobileAR&&void 0!==t.oldCanvasSize&&(s.canvas.width=t.oldCanvasSize[0],s.canvas.height=t.oldCanvasSize[1]),l=o.renderState.baseLayer,s.bindFramebuffer(s.FRAMEBUFFER,l.framebuffer),s.clear(s.COLOR_BUFFER_BIT),s.clear(s.DEPTH_BUFFER_BIT),e.setSize(l.framebufferWidth,l.framebufferHeight),u=t.renderable.getRenderers()[0],i.views.forEach((function(n,r){var a=l.getViewport(n);if(t.xrSessionType===bk.HmdVR)if("left"===n.eye)u.setViewport(0,0,.5,1);else{if("right"!==n.eye)return;u.setViewport(.5,0,1,1)}else if(t.xrSessionType===bk.LookingGlassVR){var o=a.x/l.framebufferWidth,i=a.y/l.framebufferHeight,s=(a.x+a.width)/l.framebufferWidth,c=(a.y+a.height)/l.framebufferHeight;u.setViewport(o,i,s,c)}else u.setViewport(0,0,1,1);u.getActiveCamera().computeViewParametersFromPhysicalMatrix(n.transform.inverse.matrix),u.getActiveCamera().setProjectionMatrix(n.projectionMatrix),e.traverseAllPasses()})),s.scissor(0,0,l.framebufferWidth,l.framebufferHeight),s.disable(s.SCISSOR_TEST));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e.restoreContext=function(){var t=kO.newInstance();t.setCurrentOperation("Release"),t.traverse(e,null)},e.activateTexture=function(n){var r=t._textureResourceIds.get(n);if(void 0===r){var a=e.getTextureUnitManager().allocate();a<0?yk("Hardware does not support the number of textures defined."):(t._textureResourceIds.set(n,a),t.context.activeTexture(t.context.TEXTURE0+a))}else t.context.activeTexture(t.context.TEXTURE0+r)},e.deactivateTexture=function(n){var r=t._textureResourceIds.get(n);void 0!==r&&(e.getTextureUnitManager().free(r),t._textureResourceIds.delete(n))},e.getTextureUnitForTexture=function(e){var n=t._textureResourceIds.get(e);return void 0!==n?n:-1},e.getDefaultTextureInternalFormat=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.webgl2)switch(e){case dS.UNSIGNED_CHAR:switch(n){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;default:return t.context.RGBA8}case r&&!a&&dS.UNSIGNED_SHORT:switch(n){case 1:return r.R16_EXT;case 2:return r.RG16_EXT;case 3:return r.RGB16_EXT;default:return r.RGBA16_EXT}case r&&!a&&dS.SHORT:switch(n){case 1:return r.R16_SNORM_EXT;case 2:return r.RG16_SNORM_EXT;case 3:return r.RGB16_SNORM_EXT;default:return r.RGBA16_SNORM_EXT}case dS.FLOAT:default:switch(n){case 1:return t.context.R16F;case 2:return t.context.RG16F;case 3:return t.context.RGB16F;default:return t.context.RGBA16F}}switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;default:return t.context.RGBA}},e.setBackgroundImage=function(e){t.bgImage.src=e.src},e.setUseBackgroundImage=function(e){t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},e.captureNextImage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.resetCamera,o=void 0!==a&&a,i=r.size,s=void 0===i?null:i,l=r.scale,u=void 0===l?1:l;if(t.deleted)return null;t.imageFormat=n;var c=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,t._screenshot={size:s||1!==u?s||t.size.map((function(e){return e*u})):null},new Promise((function(n,r){var a=e.onImageReady((function(r){if(null===t._screenshot.size)t.notifyStartCaptureImage=c,a.unsubscribe(),t._screenshot.placeHolder&&(t.size=t._screenshot.originalSize,e.modified(),t._screenshot.cameras&&t._screenshot.cameras.forEach((function(e){return(0,e.restoreParamsFn)(e.arg)})),e.traverseAllPasses(),t.el.removeChild(t._screenshot.placeHolder),t._screenshot.placeHolder.remove(),t._screenshot=null),n(r);else{var i=document.createElement("img");if(i.style=xk,i.src=r,t._screenshot.placeHolder=t.el.appendChild(i),t.canvas.style.display="none",t._screenshot.originalSize=t.size,t.size=t._screenshot.size,t._screenshot.size=null,e.modified(),o){var s=!0!==o;t._screenshot.cameras=t.renderable.getRenderers().map((function(e){var t=e.getActiveCamera(),n=t.get("focalPoint","position","parallelScale");return{resetCameraArgs:s?{renderer:e}:void 0,resetCameraFn:s?o:e.resetCamera,restoreParamsFn:t.set,arg:JSON.parse(JSON.stringify(n))}})),t._screenshot.cameras.forEach((function(e){return(0,e.resetCameraFn)(e.resetCameraArgs)}))}e.traverseAllPasses()}}))}))},e.getHardwareMaximumLineWidth=function(){if(null!=a)return a;var t=e.get3DContext(),n=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);return a=n[1],n[1]},e.getGLInformations=function(){for(var n=e.get3DContext(),r=n.getExtension("OES_texture_float"),a=n.getExtension("OES_texture_half_float"),o=n.getExtension("WEBGL_debug_renderer_info"),i=n.getExtension("WEBGL_draw_buffers"),s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",n.getParameter(n.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",n.getParameter(n.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",n.getParameter(n.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",s&&n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",n.getParameter(n.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",n.getParameter(n.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",n.getParameter(n.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",n.getParameter(n.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",n.getParameter(n.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",n.getParameter(n.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",n.getParameter(n.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",n.getParameter(n.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",n.getParameter(n.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",n.getParameter(n.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",n.getParameter(n.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",n.getParameter(n.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",n.getParameter(n.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[r&&Ck(n,n.RGBA,n.UNSIGNED_BYTE)?"RGBA":"",r&&Ck(n,n.RGB,n.UNSIGNED_BYTE)?"RGB":"",r&&Ck(n,n.LUMINANCE,n.UNSIGNED_BYTE)?"LUMINANCE":"",r&&Ck(n,n.ALPHA,n.UNSIGNED_BYTE)?"ALPHA":"",r&&Ck(n,n.LUMINANCE_ALPHA,n.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[a&&Ck(n,n.RGBA,a.HALF_FLOAT_OES)?"RGBA":"",a&&Ck(n,n.RGB,a.HALF_FLOAT_OES)?"RGB":"",a&&Ck(n,n.LUMINANCE,a.HALF_FLOAT_OES)?"LUMINANCE":"",a&&Ck(n,n.ALPHA,a.HALF_FLOAT_OES)?"ALPHA":"",a&&Ck(n,n.LUMINANCE_ALPHA,a.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[r&&Ck(n,n.RGBA,n.FLOAT)?"RGBA":"",r&&Ck(n,n.RGB,n.FLOAT)?"RGB":"",r&&Ck(n,n.LUMINANCE,n.FLOAT)?"LUMINANCE":"",r&&Ck(n,n.ALPHA,n.FLOAT)?"ALPHA":"",r&&Ck(n,n.LUMINANCE_ALPHA,n.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",i?n.getParameter(i.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",n.getSupportedExtensions().join("<br/>\t\t\t\t\t    ")],["WebGL Renderer","RENDERER",n.getParameter(n.RENDERER)],["WebGL Vendor","VENDOR",n.getParameter(n.VENDOR)],["WebGL Version","VERSION",n.getParameter(n.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",n.getParameter(n.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",o&&n.getParameter(o.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",o&&n.getParameter(o.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",t.webgl2?2:1]],u={};l.length;){var c=eC(l.pop(),3),d=c[0],f=c[1],p=c[2];f&&(u[f]={label:d,value:p})}return u},e.traverseAllPasses=function(){if(t.renderPasses)for(var n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);t.notifyStartCaptureImage&&function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.imageFormat,r=document.createElement("canvas"),a=r.getContext("2d");r.width=t.canvas.width,r.height=t.canvas.height,a.drawImage(t.canvas,0,0);var o=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach((function(e){e.getViewProps().forEach((function(e){if(e.getContainer)for(var t=e.getContainer().getElementsByTagName("canvas"),n=0;n<t.length;n++){var r=t[n],i=r.getBoundingClientRect(),s=i.x-o.x,l=i.y-o.y;a.drawImage(r,s,l)}}))}));var i=r.toDataURL(n);r.remove(),e.invokeImageReady(i)}()},e.disableCullFace=function(){t.cullFaceEnabled&&(t.context.disable(t.context.CULL_FACE),t.cullFaceEnabled=!1)},e.enableCullFace=function(){t.cullFaceEnabled||(t.context.enable(t.context.CULL_FACE),t.cullFaceEnabled=!0)},e.setViewStream=function(n){if(t.viewStream===n)return!1;(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream)&&(t.renderable.getRenderers()[0].getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady((function(t){return e.setBackgroundImage(t.image)})),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified());return!0},e.createSelector=function(){var t=ek.newInstance();return t.setOpenGLRenderWindow(e),t},e.delete=iS.chain((function(){t.canvas.removeEventListener("webglcontextlost",Ok),t.canvas.removeEventListener("webglcontextrestored",e.restoreContext)}),e.delete,e.setViewStream,Pk),e.setActiveFramebuffer=function(e){t.activeFramebuffer=e};var s=e.setSize;e.setSize=function(t,n){var r=s(t,n);return r&&e.invokeWindowResizeEvent({width:t,height:n}),r}}var Ek={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,xrSession:null,xrReferenceSpace:null,xrSupported:!0,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function Ik(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ek,n),pk.extend(e,t,n),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",Sk++,Tk.forEach((function(e){return e(Sk)})),t.selector||(t.selector=ek.newInstance(),t.selector.setOpenGLRenderWindow(e)),t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",t._textureResourceIds=new Map,t.myFactory=fO.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",Rk),t.shaderCache=ik.newInstance(),t.shaderCache.setOpenGLRenderWindow(e),t.renderPasses[0]=sR.newInstance(),iS.event(e,t,"imageReady"),iS.event(e,t,"haveVRDisplay"),iS.get(e,t,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage","xrSupported","activeFramebuffer"]),iS.setGet(e,t,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen"]),iS.setGetArray(e,t,["size"],2),iS.event(e,t,"windowResizeEvent"),Ak(e,t)}var Rk=iS.newInstance(Ik,"vtkOpenGLRenderWindow");gS("WebGL",Rk);var kk={newInstance:Rk,extend:Ik,pushMonitorGLContextCount:function(e){Tk.push(e)},popMonitorGLContextCount:function(e){return Tk.pop()}};var Mk={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function _k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Mk,n),aO.extend(e,t,n),t.keyMatrixTime={},jC(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:DE(new Float64Array(9)),mcwc:VA(new Float64Array(16))},qC(e,t,["context"]),zC(e,t,["activeTextures"]),function(e,t){t.classHierarchy.push("vtkOpenGLActor"),e.buildPass=function(n){if(n){t._openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(var r=0;r<t.children.length;r++){var a=t.children[r];a.isA("vtkOpenGLTexture")?(t.ogltextures||(t.ogltextures=[]),t.ogltextures.push(a)):t.oglmapper=a}}},e.traverseZBufferPass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseOpaqueZBufferPass=function(t){return e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&t.renderable.getIsOpaque()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=function(){if(t.ogltextures){t.activeTextures=[];for(var e=0;e<t.ogltextures.length;e++){var n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.zBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(n,r){if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()},e.translucentPass=function(n,r){if(n)t.context.depthMask(!1),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),_A(t.keyMatrices.mcwc,t.renderable.getMatrix()),NA(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.renderable.getIsIdentity()?DE(t.keyMatrices.normalMatrix):(IE(t.keyMatrices.normalMatrix,t.keyMatrices.mcwc),VE(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),LE(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),t.keyMatrixTime.modified()),t.keyMatrices}}(e,t)}var Dk=eS(_k),Lk={newInstance:Dk,extend:_k};uO("vtkActor",Dk);var Vk={context:null,activeTextures:null};function Nk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Vk,n),aO.extend(e,t,n),qC(e,t,["context"]),zC(e,t,["activeTextures"]),function(e,t){t.classHierarchy.push("vtkOpenGLActor2D"),e.buildPass=function(n){if(n){if(!t.renderable)return;t._openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(var r=0;r<t.children.length;r++){var a=t.children[r];a.isA("vtkOpenGLTexture")?(t.ogltextures||(t.ogltextures=[]),t.ogltextures.push(a)):t.oglmapper=a}}},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementOverlayActorCount()}},e.traverseOpaquePass=function(n){t.oglmapper&&t.renderable&&t.renderable.getNestedVisibility()&&t.renderable.getIsOpaque()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=function(n){t.oglmapper&&t.renderable&&t.renderable.getNestedVisibility()&&!t.renderable.getIsOpaque()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseOverlayPass=function(n){t.oglmapper&&t.renderable&&t.renderable.getNestedVisibility()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable)&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=function(){if(t.ogltextures){t.activeTextures=[];for(var e=0;e<t.ogltextures.length;e++){var n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.opaquePass=function(n,r){if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()},e.translucentPass=function(n,r){if(n)t.context.depthMask(!1),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()},e.overlayPass=function(n,r){if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()}}(e,t)}var Bk=eS(Nk),Fk={newInstance:Bk,extend:Nk};uO("vtkActor2D",Bk);var Uk={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function jk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Uk,n),aO.extend(e,t,n),t.keyMatrixTime={},jC(t.keyMatrixTime),t.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},qC(e,t,["context","keyMatrixTime"]),function(e,t){t.classHierarchy.push("vtkOpenGLCamera"),e.buildPass=function(n){n&&(t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.context=t._openGLRenderWindow.getContext())},e.opaquePass=function(e){if(e){var n=t._openGLRenderer.getTiledSizeAndOrigin();t.context.viewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize),t.context.scissor(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)}},e.translucentPass=e.opaquePass,e.zBufferPass=e.opaquePass,e.opaqueZBufferPass=e.opaquePass,e.volumePass=e.opaquePass,e.getKeyMatrices=function(n){if(n!==t.lastRenderer||t._openGLRenderWindow.getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||n.getMTime()>t.keyMatrixTime.getMTime()||t.renderable.getMTime()>t.keyMatrixTime.getMTime()){_A(t.keyMatrices.wcvc,t.renderable.getViewMatrix()),IE(t.keyMatrices.normalMatrix,t.keyMatrices.wcvc),VE(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),NA(t.keyMatrices.wcvc,t.keyMatrices.wcvc);var r=t._openGLRenderer.getAspectRatio();_A(t.keyMatrices.vcpc,t.renderable.getProjectionMatrix(r,-1,1)),NA(t.keyMatrices.vcpc,t.keyMatrices.vcpc),jA(t.keyMatrices.wcpc,t.keyMatrices.vcpc,t.keyMatrices.wcvc),t.keyMatrixTime.modified(),t.lastRenderer=n}return t.keyMatrices}}(e,t)}var Gk=eS(jk),zk={newInstance:Gk,extend:jk};uO("vtkCamera",Gk);var Wk={clippingPlanes:[]};var Hk={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Wk,n),iS.obj(e,t),iS.algo(e,t,1,0),t.clippingPlanes||(t.clippingPlanes=[]),function(e,t){t.classHierarchy.push("vtkAbstractMapper"),e.update=function(){e.getInputData()},e.addClippingPlane=function(n){return!!n.isA("vtkPlane")&&!t.clippingPlanes.includes(n)&&(t.clippingPlanes.push(n),e.modified(),!0)},e.getNumberOfClippingPlanes=function(){return t.clippingPlanes.length},e.removeAllClippingPlanes=function(){return 0!==t.clippingPlanes.length&&(t.clippingPlanes.length=0,e.modified(),!0)},e.removeClippingPlane=function(n){var r=t.clippingPlanes.indexOf(n);return-1!==r&&(t.clippingPlanes.splice(r,1),e.modified(),!0)},e.getClippingPlanes=function(){return t.clippingPlanes},e.setClippingPlanes=function(t){if(t)if(Array.isArray(t))for(var n=t.length,r=0;r<n&&r<6;r++)e.addClippingPlane(t[r]);else e.addClippingPlane(t)},e.getClippingPlaneInDataCoords=function(e,n,r){var a=t.clippingPlanes,o=e;if(a){var i=a.length;if(n>=0&&n<i){var s=a[n],l=s.getNormal(),u=s.getOrigin(),c=l[0],d=l[1],f=l[2],p=-(c*u[0]+d*u[1]+f*u[2]);return r[0]=c*o[0]+d*o[4]+f*o[8]+p*o[12],r[1]=c*o[1]+d*o[5]+f*o[9]+p*o[13],r[2]=c*o[2]+d*o[6]+f*o[10]+p*o[14],void(r[3]=c*o[3]+d*o[7]+f*o[11]+p*o[15])}}iS.vtkErrorMacro("Clipping plane index ".concat(n," is out of range."))}}(e,t)}};var Kk={bounds:[1,-1,1,-1,1,-1],center:[0,0,0],viewSpecificProperties:null};var qk={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Kk,n),Hk.extend(e,t,n),t.bounds||yP(t.bounds),t.center||(t.center=[0,0,0]),iS.setGet(e,t,["viewSpecificProperties"]),t.viewSpecificProperties||(t.viewSpecificProperties={}),function(e,t){e.getBounds=function(){return 0},e.getBounds=function(n){e.getBounds();for(var r=0;r<6;r++)n[r]=t.bounds[r]},e.getCenter=function(){e.getBounds();for(var n=0;n<3;n++)t.center[n]=(t.bounds[2*n+1]+t.bounds[2*n])/2;return t.center.slice()},e.getLength=function(){var n=0,r=0;e.getBounds();for(var a=0;a<3;a++)r+=(n=t.bounds[2*a+1]-t.bounds[2*a])*n;return Math.sqrt(r)}}(e,t)}};function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Yk=1e-6,$k="coincide",Zk="disjoint";function Qk(e,t,n){var r=n[0]*(e[0]-t[0])+n[1]*(e[1]-t[1])+n[2]*(e[2]-t[2]);return Math.abs(r)}function Jk(e,t,n,r){var a=[];uT(e,t,a);var o=mT(n,a);r[0]=e[0]-o*n[0],r[1]=e[1]-o*n[1],r[2]=e[2]-o*n[2]}function eM(e,t,n){var r=mT(e,t),a=mT(t,t);return 0===a&&(a=1),n[0]=e[0]-r*t[0]/a,n[1]=e[1]-r*t[1]/a,n[2]=e[2]-r*t[2]/a,n}function tM(e,t,n,r){var a=[];uT(e,t,a);var o=mT(n,a),i=mT(n,n);0!==i?(r[0]=e[0]-o*n[0]/i,r[1]=e[1]-o*n[1]/i,r[2]=e[2]-o*n[2]/i):(r[0]=e[0],r[1]=e[1],r[2]=e[2])}function nM(e,t,n,r){var a={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},o=[],i=[];uT(t,e,o),uT(n,e,i);var s=mT(r,i),l=mT(r,o);return(l<0?-l:l)<=(s<0?-s*Yk:s*Yk)||(a.t=s/l,a.x[0]=e[0]+a.t*o[0],a.x[1]=e[1]+a.t*o[1],a.x[2]=e[2]+a.t*o[2],a.intersection=!0,a.betweenPoints=a.t>=0&&a.t<=1),a}function rM(e,t,n,r){var a={intersection:!1,l0:[],l1:[],error:null},o=[];vT(t,r,o);var i,s=o.map((function(e){return Math.abs(e)}));if(s[0]+s[1]+s[2]<Yk){var l=[];return uT(e,n,l),0===mT(t,l)?a.error=$k:a.error=Zk,a}i=s[0]>s[1]&&s[0]>s[2]?"x":s[1]>s[2]?"y":"z";var u=[],c=-mT(t,e),d=-mT(r,n);switch(i){case"x":u[0]=0,u[1]=(d*t[2]-c*r[2])/o[0],u[2]=(c*r[1]-d*t[1])/o[0];break;case"y":u[0]=(c*r[2]-d*t[2])/o[1],u[1]=0,u[2]=(d*t[0]-c*r[0])/o[1];break;case"z":u[0]=(d*t[1]-c*r[1])/o[2],u[1]=(c*r[0]-d*t[0])/o[2],u[2]=0}return a.l0=u,lT(u,o,a.l1),a.intersection=!0,a}var aM={evaluate:function(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])},distanceToPlane:Qk,projectPoint:Jk,projectVector:eM,generalizedProjectPoint:tM,intersectWithLine:nM,intersectWithPlane:rM,DISJOINT:Zk,COINCIDE:$k};var oM={normal:[0,0,1],origin:[0,0,0]};function iM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oM,n),iS.obj(e,t),iS.setGetArray(e,t,["normal","origin"],3),function(e,t){t.classHierarchy.push("vtkPlane"),e.distanceToPlane=function(e){return Qk(e,t.origin,t.normal)},e.projectPoint=function(e,n){Jk(e,t.origin,t.normal,n)},e.projectVector=function(e,n){return eM(e,t.normal,n)},e.push=function(e){if(0!==e)for(var n=0;n<3;n++)t.origin[n]+=e*t.normal[n]},e.generalizedProjectPoint=function(e,n){tM(e,t.origin,t.normal,n)},e.evaluateFunction=function(e,n,r){return Array.isArray(e)?t.normal[0]*(e[0]-t.origin[0])+t.normal[1]*(e[1]-t.origin[1])+t.normal[2]*(e[2]-t.origin[2]):t.normal[0]*(e-t.origin[0])+t.normal[1]*(n-t.origin[1])+t.normal[2]*(r-t.origin[2])},e.evaluateGradient=function(e){return[t.normal[0],t.normal[1],t.normal[2]]},e.intersectWithLine=function(e,n){return nM(e,n,t.origin,t.normal)},e.intersectWithPlane=function(e,n){return rM(e,n,t.origin,t.normal)}}(e,t)}var sM=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xk(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(iM,"vtkPlane"),extend:iM},aM);function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var uM=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function cM(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function dM(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function fM(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function pM(e){return fM(e,uM)}function mM(e,t,n,r){var a=eC(e,6),o=a[0],i=a[1],s=a[2],l=a[3],u=a[4],c=a[5];return e[0]=o<t?o:t,e[1]=i>t?i:t,e[2]=s<n?s:n,e[3]=l>n?l:n,e[4]=u<r?u:r,e[5]=c>r?c:r,e}function gM(e,t){if(0===t.length)return e;if(Array.isArray(t[0]))for(var n=0;n<t.length;++n)mM.apply(void 0,[e].concat(rC(t[n])));else for(var r=0;r<t.length;r+=3)mM.apply(void 0,[e].concat(rC(t.slice(r,r+3))));return e}function vM(e,t,n,r,a,o,i){var s=eC(e,6),l=s[0],u=s[1],c=s[2],d=s[3],f=s[4],p=s[5];return void 0===i?(e[0]=Math.min(t[0],l),e[1]=Math.max(t[1],u),e[2]=Math.min(t[2],c),e[3]=Math.max(t[3],d),e[4]=Math.min(t[4],f),e[5]=Math.max(t[5],p)):(e[0]=Math.min(t,l),e[1]=Math.max(n,u),e[2]=Math.min(r,c),e[3]=Math.max(a,d),e[4]=Math.min(o,f),e[5]=Math.max(i,p)),e}function hM(e,t,n,r){var a=eC(e,6),o=a[0],i=a[1],s=a[2],l=a[3],u=a[4],c=a[5];return e[0]=t,e[1]=t>i?t:i,e[2]=n,e[3]=n>l?n:l,e[4]=r,e[5]=r>c?r:c,o!==t||s!==n||u!==r}function yM(e,t,n,r){var a=eC(e,6),o=a[0],i=a[1],s=a[2],l=a[3],u=a[4],c=a[5];return e[0]=t<o?t:o,e[1]=t,e[2]=n<s?n:s,e[3]=n,e[4]=r<u?r:u,e[5]=r,i!==t||l!==n||c!==r}function bM(e,t){return e[0]-=t,e[1]+=t,e[2]-=t,e[3]+=t,e[4]-=t,e[5]+=t,e}function xM(e,t,n,r){return!!dM(e)&&(t>=0?(e[0]*=t,e[1]*=t):(e[0]=t*e[1],e[1]=t*e[0]),n>=0?(e[2]*=n,e[3]*=n):(e[2]=n*e[3],e[3]=n*e[2]),r>=0?(e[4]*=r,e[5]*=r):(e[4]=r*e[5],e[5]=r*e[4]),!0)}function wM(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function CM(e,t){return e[2*t+1]-e[2*t]}function SM(e){return[CM(e,0),CM(e,1),CM(e,2)]}function TM(e){return e.slice(0,2)}function PM(e){return e.slice(2,4)}function OM(e){return e.slice(4,6)}function AM(e){var t=SM(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function EM(e){if(dM(e)){var t=SM(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function IM(e){return[e[0],e[2],e[4]]}function RM(e){return[e[1],e[3],e[5]]}function kM(e,t){return e<=0&&t>=0||e>=0&&t<=0}function MM(e,t){for(var n=0,r=0;r<2;r++)for(var a=2;a<4;a++)for(var o=4;o<6;o++)t[n]=[e[r],e[a],e[o]],n++;return t}function _M(e,t,n){return t[0]=e[0],t[1]=e[2],t[2]=e[4],n[0]=e[1],n[1]=e[3],n[2]=e[5],t}function DM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.length<6&&pM(n);for(var r=MM(e,[]),a=0;a<r.length;++a)fA(r[a],r[a],t);return gM(n,r)}function LM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=.5*(e[1]-e[0]),t[1]=.5*(e[3]-e[2]),t[2]=.5*(e[5]-e[4]),t}function VM(e,t,n,r){for(var a=[].concat(uM),o=e.getData(),i=0;i<o.length;i+=3){var s=[o[i],o[i+1],o[i+2]],l=mT(s,t);a[0]=Math.min(l,a[0]),a[1]=Math.max(l,a[1]);var u=mT(s,n);a[2]=Math.min(u,a[2]),a[3]=Math.max(u,a[3]);var c=mT(s,r);a[4]=Math.min(c,a[4]),a[5]=Math.max(c,a[5])}return a}function NM(e,t,n,r,a){for(var o=!0,i=[],s=0,l=[],u=[0,0,0],c=0;c<3;c++)t[c]<e[2*c]?(i[c]=1,u[c]=e[2*c],o=!1):t[c]>e[2*c+1]?(i[c]=0,u[c]=e[2*c+1],o=!1):i[c]=2;if(o)return r[0]=t[0],r[1]=t[1],r[2]=t[2],a[0]=0,1;for(var d=0;d<3;d++)2!==i[d]&&0!==n[d]?l[d]=(u[d]-t[d])/n[d]:l[d]=-1;for(var f=0;f<3;f++)l[s]<l[f]&&(s=f);if(l[s]>1||l[s]<0)return 0;a[0]=l[s];for(var p=0;p<3;p++)if(s!==p){if(r[p]=t[p]+l[s]*n[p],r[p]<e[2*p]||r[p]>e[2*p+1])return 0}else r[p]=u[p];return 1}function BM(e,t,n){for(var r=[],a=0,o=1,i=1,s=4;s<=5;++s){r[2]=e[s];for(var l=2;l<=3;++l){r[1]=e[l];for(var u=0;u<=1;++u)if(r[0]=e[u],a=sM.evaluate(n,t,r),i&&(o=a>=0?1:-1,i=0),0===a||o>0&&a<0||o<0&&a>0)return 1}}return 0}function FM(e,t){if(!dM(e)||!dM(t))return!1;for(var n,r=[0,0,0,0,0,0],a=0;a<3;a++)if(n=!1,t[2*a]>=e[2*a]&&t[2*a]<=e[2*a+1]?(n=!0,r[2*a]=t[2*a]):e[2*a]>=t[2*a]&&e[2*a]<=t[2*a+1]&&(n=!0,r[2*a]=e[2*a]),t[2*a+1]>=e[2*a]&&t[2*a+1]<=e[2*a+1]?(n=!0,r[2*a+1]=t[2*a+1]):e[2*a+1]>=t[2*a]&&e[2*a+1]<=t[2*a+1]&&(n=!0,r[2*a+1]=e[2*a+1]),!n)return!1;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],!0}function UM(e,t){if(!dM(e)||!dM(t))return!1;for(var n=0;n<3;n++)if(!(t[2*n]>=e[2*n]&&t[2*n]<=e[2*n+1])&&!(e[2*n]>=t[2*n]&&e[2*n]<=t[2*n+1])&&!(t[2*n+1]>=e[2*n]&&t[2*n+1]<=e[2*n+1])&&!(e[2*n+1]>=t[2*n]&&e[2*n+1]<=t[2*n+1]))return!1;return!0}function jM(e,t,n,r){return!(t<e[0]||t>e[1])&&(!(n<e[2]||n>e[3])&&!(r<e[4]||r>e[5]))}function GM(e,t,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0],o=0,i=0;i<2;i++)for(var s=2;s<4;s++)for(var l=4;l<6;l++){var u=[e[i],e[s],e[l]];a[o++]=sM.evaluate(n,t,u)}for(var c=2;c--&&!(kM(a[r[c][0]],a[r[c][4]])&&kM(a[r[c][1]],a[r[c][5]])&&kM(a[r[c][2]],a[r[c][6]])&&kM(a[r[c][3]],a[r[c][7]])););if(c<0)return!1;for(var d=Math.sign(n[c]),f=Math.abs((e[2*c+1]-e[2*c])*n[c]),p=d>0?1:0,m=0;m<4;m++)if(0!==f){var g=Math.abs(a[r[c][m]])/f;d>0&&g<p&&(p=g),d<0&&g>p&&(p=g)}var v=(1-p)*e[2*c]+p*e[2*c+1];return d>0?e[2*c]=v:e[2*c+1]=v,!0}var zM=function(){function e(t){pC(this,e),this.bounds=t,this.bounds||(this.bounds=new Float64Array(uM))}return gC(e,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(e){return cM(this.bounds,e)}},{key:"isValid",value:function(){return dM(this.bounds)}},{key:"setBounds",value:function(e){return fM(this.bounds,e)}},{key:"reset",value:function(){return pM(this.bounds)}},{key:"addPoint",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mM.apply(void 0,[this.bounds].concat(t))}},{key:"addPoints",value:function(e){return gM(this.bounds,e)}},{key:"addBounds",value:function(e,t,n,r,a,o){return vM(this.bounds,e,t,n,r,a,o)}},{key:"setMinPoint",value:function(e,t,n){return hM(this.bounds,e,t,n)}},{key:"setMaxPoint",value:function(e,t,n){return yM(this.bounds,e,t,n)}},{key:"inflate",value:function(e){return bM(this.bounds,e)}},{key:"scale",value:function(e,t,n){return xM(this.bounds,e,t,n)}},{key:"getCenter",value:function(){return wM(this.bounds)}},{key:"getLength",value:function(e){return CM(this.bounds,e)}},{key:"getLengths",value:function(){return SM(this.bounds)}},{key:"getMaxLength",value:function(){return AM(this.bounds)}},{key:"getDiagonalLength",value:function(){return EM(this.bounds)}},{key:"getMinPoint",value:function(){return IM(this.bounds)}},{key:"getMaxPoint",value:function(){return RM(this.bounds)}},{key:"getXRange",value:function(){return TM(this.bounds)}},{key:"getYRange",value:function(){return PM(this.bounds)}},{key:"getZRange",value:function(){return OM(this.bounds)}},{key:"getCorners",value:function(e){return MM(this.bounds,e)}},{key:"computeCornerPoints",value:function(e,t){return _M(this.bounds,e,t)}},{key:"computeLocalBounds",value:function(e,t,n){return VM(this.bounds,e,t,n)}},{key:"transformBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return DM(this.bounds,e,t)}},{key:"computeScale3",value:function(e){return LM(this.bounds,e)}},{key:"cutWithPlane",value:function(e,t){return GM(this.bounds,e,t)}},{key:"intersectBox",value:function(e,t,n,r){return NM(this.bounds,e,t,n,r)}},{key:"intersectPlane",value:function(e,t){return BM(this.bounds,e,t)}},{key:"intersect",value:function(e){return FM(this.bounds,e)}},{key:"intersects",value:function(e){return UM(this.bounds,e)}},{key:"containsPoint",value:function(e,t,n){return jM(this.bounds,e,t,n)}},{key:"contains",value:function(e){return UM(this.bounds,e)}}]),e}();var WM=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:function(e){var t=e&&e.bounds;return new zM(t)}},{equals:cM,isValid:dM,setBounds:fM,reset:pM,addPoint:mM,addPoints:gM,addBounds:vM,setMinPoint:hM,setMaxPoint:yM,inflate:bM,scale:xM,scaleAboutCenter:function(e,t,n,r){if(!dM(e))return!1;var a=wM(e);return e[0]-=a[0],e[1]-=a[0],e[2]-=a[1],e[3]-=a[1],e[4]-=a[2],e[5]-=a[2],xM(e,t,n,r),e[0]+=a[0],e[1]+=a[0],e[2]+=a[1],e[3]+=a[1],e[4]+=a[2],e[5]+=a[2],!0},getCenter:wM,getLength:CM,getLengths:SM,getMaxLength:AM,getDiagonalLength:EM,getMinPoint:IM,getMaxPoint:RM,getXRange:TM,getYRange:PM,getZRange:OM,getCorners:MM,computeCornerPoints:_M,computeLocalBounds:VM,transformBounds:DM,computeScale3:LM,cutWithPlane:GM,intersectBox:NM,intersectPlane:BM,intersect:FM,intersects:UM,containsPoint:jM,contains:function(e,t){return!!UM(e,t)&&(!!jM.apply(void 0,[e].concat(rC(IM(t))))&&!!jM.apply(void 0,[e].concat(rC(RM(t)))))},INIT_BOUNDS:uM}),HM={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},KM={StructuredType:HM};function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var XM=KM.StructuredType;var YM=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qM(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getDataDescriptionFromExtent:function(e){for(var t=0,n=0;n<3;++n)e[2*n]<e[2*n+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?XM.EMPTY:3===t?XM.XYZ_GRID:2===t?e[0]===e[1]?XM.YZ_PLANE:e[2]===e[3]?XM.XZ_PLANE:XM.XY_PLANE:1===t?e[0]<e[1]?XM.X_LINE:e[2]<e[3]?XM.Y_LINE:XM.Z_LINE:XM.SINGLE_POINT}},KM),$M=iS.vtkErrorMacro;var ZM={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:HM.EMPTY};function QM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ZM,n),IR.extend(e,t,n),t.direction?Array.isArray(t.direction)&&(t.direction=new Float64Array(t.direction.slice(0,9))):t.direction=DE(new Float64Array(9)),t.indexToWorld=new Float64Array(16),t.worldToIndex=new Float64Array(16),iS.get(e,t,["indexToWorld","worldToIndex"]),iS.setGetArray(e,t,["origin","spacing"],3),iS.setGetArray(e,t,["direction"],9),iS.getArray(e,t,["extent"],6),function(e,t){t.classHierarchy.push("vtkImageData"),e.setExtent=function(){if(t.deleted)return $M("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=1===r.length?r[0]:r;if(6!==o.length)return!1;var i=t.extent.some((function(e,t){return e!==o[t]}));return i&&(t.extent=o.slice(),t.dataDescription=YM.getDataDescriptionFromExtent(t.extent),e.modified()),i},e.setDimensions=function(){var n,r,a;if(t.deleted)$M("instance deleted - cannot call any method");else{if(1===arguments.length){var o=arguments.length<=0?void 0:arguments[0];n=o[0],r=o[1],a=o[2]}else{if(3!==arguments.length)return void $M("Bad dimension specification");n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]}e.setExtent(0,n-1,0,r-1,0,a-1)}},e.getDimensions=function(){return[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]},e.getNumberOfCells=function(){for(var t=e.getDimensions(),n=1,r=0;r<3;r++){if(0===t[r])return 0;t[r]>1&&(n*=t[r]-1)}return n},e.getNumberOfPoints=function(){var t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=function(n){var r=e.getDimensions();if(0===r[0]||0===r[1]||0===r[2])return $M("Requesting a point from an empty image."),null;var a=new Float64Array(3);switch(t.dataDescription){case HM.EMPTY:return null;case HM.SINGLE_POINT:break;case HM.X_LINE:a[0]=n;break;case HM.Y_LINE:a[1]=n;break;case HM.Z_LINE:a[2]=n;break;case HM.XY_PLANE:a[0]=n%r[0],a[1]=n/r[0];break;case HM.YZ_PLANE:a[1]=n%r[1],a[2]=n/r[1];break;case HM.XZ_PLANE:a[0]=n%r[0],a[2]=n/r[0];break;case HM.XYZ_GRID:a[0]=n%r[0],a[1]=n/r[0]%r[1],a[2]=n/(r[0]*r[1]);break;default:$M("Invalid dataDescription")}var o=[0,0,0];return e.indexToWorld(a,o),o},e.getBounds=function(){return e.extentToBounds(e.getSpatialExtent())},e.extentToBounds=function(e){return WM.transformBounds(e,t.indexToWorld)},e.getSpatialExtent=function(){return WM.inflate(rC(t.extent),.5)},e.computeTransforms=function(){XA(t.indexToWorld,t.origin),t.indexToWorld[0]=t.direction[0],t.indexToWorld[1]=t.direction[1],t.indexToWorld[2]=t.direction[2],t.indexToWorld[4]=t.direction[3],t.indexToWorld[5]=t.direction[4],t.indexToWorld[6]=t.direction[5],t.indexToWorld[8]=t.direction[6],t.indexToWorld[9]=t.direction[7],t.indexToWorld[10]=t.direction[8],zA(t.indexToWorld,t.indexToWorld,t.spacing),BA(t.worldToIndex,t.indexToWorld)},e.indexToWorld=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return fA(n,e,t.indexToWorld),n},e.indexToWorldVec3=e.indexToWorld,e.worldToIndex=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return fA(n,e,t.worldToIndex),n},e.worldToIndexVec3=e.worldToIndex,e.indexToWorldBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return WM.transformBounds(e,t.indexToWorld,n)},e.worldToIndexBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return WM.transformBounds(e,t.worldToIndex,n)},e.onModified(e.computeTransforms),e.computeTransforms(),e.getCenter=function(){return WM.getCenter(e.getBounds())},e.computeHistogram=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[0,0,0,0,0,0];e.worldToIndexBounds(t,r);var a=[0,0,0],o=[0,0,0];WM.computeCornerPoints(r,a,o),XT(a,a),XT(o,o);var i=e.getDimensions();CP(a,[0,0,0],[i[0]-1,i[1]-1,i[2]-1],a),CP(o,[0,0,0],[i[0]-1,i[1]-1,i[2]-1],o);for(var s=i[0],l=i[0]*i[1],u=e.getPointData().getScalars().getData(),c=-1/0,d=1/0,f=0,p=0,m=0,g=a[2];g<=o[2];g++)for(var v=a[1];v<=o[1];v++)for(var h=a[0]+v*s+g*l,y=a[0];y<=o[0];y++){if(!n||n([y,v,g],r)){var b=u[h];b>c&&(c=b),b<d&&(d=b),f+=b*b,p+=b,m+=1}++h}var x=m>0?p/m:0,w=m?Math.abs(f/m-x*x):0;return{minimum:d,maximum:c,average:x,variance:w,sigma:Math.sqrt(w),count:m}},e.computeIncrements=function(e){for(var t=[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=0;r<3;++r)t[r]=n,n*=e[2*r+1]-e[2*r]+1;return t},e.computeOffsetIndex=function(t){var n=eC(t,3),r=n[0],a=n[1],o=n[2],i=e.getExtent(),s=e.getPointData().getScalars().getNumberOfComponents(),l=e.computeIncrements(i,s);return Math.floor((Math.round(r)-i[0])*l[0]+(Math.round(a)-i[2])*l[1]+(Math.round(o)-i[4])*l[2])},e.getOffsetIndexFromWorld=function(t){for(var n=e.getExtent(),r=e.worldToIndex(t),a=0;a<3;++a)if(r[a]<n[2*a]||r[a]>n[2*a+1])return $M("GetScalarPointer: Pixel ".concat(r," is not in memory. Current extent = ").concat(n)),NaN;return e.computeOffsetIndex(r)},e.getScalarValueFromWorld=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=r)return $M("GetScalarPointer: Scalar Component ".concat(n," is not within bounds. Current Scalar numberOfComponents: ").concat(r)),NaN;var a=e.getOffsetIndexFromWorld(t);return Number.isNaN(a)?a:e.getPointData().getScalars().getComponent(a,n)}}(e,t)}var JM={newInstance:iS.newInstance(QM,"vtkImageData"),extend:QM},e_={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},t_={VectorMode:{MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ScalarMappingTarget:e_},n_={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:{DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5}};function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var a_=t_.ScalarMappingTarget,o_=t_.VectorMode,i_=eO.VtkDataTypes,s_=n_.ColorMode,l_=iS.vtkErrorMacro;function u_(e){return e}function c_(e){return Math.floor(255*e+.5)}var d_={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:o_.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function f_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d_,n),iS.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],iS.setGet(e,t,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),iS.setArray(e,t,["mappingRange"],2),iS.getArray(e,t,["mappingRange"]),function(e,t){t.classHierarchy.push("vtkScalarsToColors"),e.setVectorModeToMagnitude=function(){return e.setVectorMode(o_.MAGNITUDE)},e.setVectorModeToComponent=function(){return e.setVectorMode(o_.COMPONENT)},e.setVectorModeToRGBColors=function(){return e.setVectorMode(o_.RGBCOLORS)},e.build=function(){},e.isOpaque=function(){return!0},e.setAnnotations=function(n,r){if(!(n&&!r||!n&&r))if(n&&r&&n.length!==r.length)l_("Values and annotations do not have the same number of tuples so ignoring");else{if(t.annotationArray=[],r&&n)for(var a=r.length,o=0;o<a;o++)t.annotationArray.push({value:n[o],annotation:String(r[o])});e.updateAnnotatedValueMap(),e.modified()}},e.setAnnotation=function(n,r){var a=e.checkForAnnotatedValue(n),o=!1;return a>=0?t.annotationArray[a].annotation!==r&&(t.annotationArray[a].annotation=r,o=!0):(t.annotationArray.push({value:n,annotation:r}),a=t.annotationArray.length-1,o=!0),o&&(e.updateAnnotatedValueMap(),e.modified()),a},e.getNumberOfAnnotatedValues=function(){return t.annotationArray.length},e.getAnnotatedValue=function(e){return e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value},e.getAnnotation=function(e){return void 0===t.annotationArray[e]?null:t.annotationArray[e].annotation},e.getAnnotatedValueIndex=function(n){return t.annotationArray.length?e.checkForAnnotatedValue(n):-1},e.removeAnnotation=function(n){var r=e.checkForAnnotatedValue(n),a=r>=0;return a&&(t.annotationArray.splice(r,1),e.updateAnnotatedValueMap(),e.modified()),a},e.resetAnnotations=function(){t.annotationArray=[],t.annotatedValueMap=[],e.modified()},e.getAnnotationColor=function(n,r){if(t.indexedLookup){var a=e.getAnnotatedValueIndex(n);e.getIndexedColor(a,r)}else e.getColor(parseFloat(n),r),r[3]=1},e.checkForAnnotatedValue=function(t){return e.getAnnotatedValueIndexInternal(t)},e.getAnnotatedValueIndexInternal=function(e){if(void 0!==t.annotatedValueMap[e]){var n=t.annotationArray.length;return t.annotatedValueMap[e]%n}return-1},e.getIndexedColor=function(e,t){t[0]=0,t[1]=0,t[2]=0,t[3]=0},e.updateAnnotatedValueMap=function(){t.annotatedValueMap=[];for(var e=t.annotationArray.length,n=0;n<e;n++)t.annotatedValueMap[t.annotationArray[n].value]=n},e.mapScalars=function(t,n,r){var a=t.getNumberOfComponents(),o=null;if(n===s_.DEFAULT&&t.getDataType()===i_.UNSIGNED_CHAR||n===s_.DIRECT_SCALARS&&t)o=e.convertToRGBA(t,a,t.getNumberOfTuples());else{var i={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:i_.UNSIGNED_CHAR},s=iS.newTypedArray(i.dataType,4*t.getNumberOfTuples());i.values=s,i.size=s.length,o=eO.newInstance(i);var l=r;l<0&&a>1?e.mapVectorsThroughTable(t,o,a_.RGBA,-1,-1):(l<0&&(l=0),l>=a&&(l=a-1),e.mapScalarsThroughTable(t,o,a_.RGBA,l))}return o},e.mapVectorsToMagnitude=function(e,t,n){for(var r=e.getNumberOfTuples(),a=e.getNumberOfComponents(),o=t.getData(),i=e.getData(),s=0;s<r;s++){for(var l=0,u=0;u<n;u++)l+=i[s*a+u]*i[s*a+u];o[s]=Math.sqrt(l)}},e.mapVectorsThroughTable=function(t,n,r,a,o){var i=e.getVectorMode(),s=o,l=a,u=t.getNumberOfComponents();i===o_.COMPONENT?(-1===l&&(l=e.getVectorComponent()),l<0&&(l=0),l>=u&&(l=u-1)):(-1===s&&(s=e.getVectorSize()),s<=0?(l=0,s=u):(l<0&&(l=0),l>=u&&(l=u-1),l+s>u&&(s=u-l)),i!==o_.MAGNITUDE||1!==u&&1!==s||(i=o_.COMPONENT));var c=0;switch(l>0&&(c=l),i){case o_.COMPONENT:e.mapScalarsThroughTable(t,n,r,c);break;case o_.RGBCOLORS:break;case o_.MAGNITUDE:default:var d=eO.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,d,s),e.mapScalarsThroughTable(d,n,r,0)}},e.luminanceToRGBA=function(e,t,n,r){for(var a=r(n),o=t.getData(),i=e.getData(),s=o.length,l=0,u=0;u<s;u+=1){var c=r(o[u]);i[4*l]=c,i[4*l+1]=c,i[4*l+2]=c,i[4*l+3]=a,l++}},e.luminanceAlphaToRGBA=function(e,t,n,r){for(var a=t.getData(),o=e.getData(),i=a.length,s=0,l=0;l<i;l+=2){var u=r(a[l]);o[s]=u,o[s+1]=u,o[s+2]=u,o[s+3]=r(a[l+1])*n,s+=4}},e.rGBToRGBA=function(e,t,n,r){for(var a=c_(n),o=t.getData(),i=e.getData(),s=o.length,l=0,u=0;u<s;u+=3)i[4*l]=r(o[u]),i[4*l+1]=r(o[u+1]),i[4*l+2]=r(o[u+2]),i[4*l+3]=a,l++},e.rGBAToRGBA=function(e,t,n,r){for(var a=t.getData(),o=e.getData(),i=a.length,s=0,l=0;l<i;l+=4)o[4*s]=r(a[l]),o[4*s+1]=r(a[l+1]),o[4*s+2]=r(a[l+2]),o[4*s+3]=r(a[l+3])*n,s++},e.convertToRGBA=function(n,r,a){var o=t.alpha;if(4===r&&o>=1&&n.getDataType()===i_.UNSIGNED_CHAR)return n;var i=eO.newInstance({numberOfComponents:4,empty:!0,size:4*a,dataType:i_.UNSIGNED_CHAR});if(a<=0)return i;o=(o=o>0?o:0)<1?o:1;var s=u_;switch(n.getDataType()!==i_.FLOAT&&n.getDataType()!==i_.DOUBLE||(s=c_),r){case 1:e.luminanceToRGBA(i,n,o,s);break;case 2:e.luminanceAlphaToRGBA(i,n,s);break;case 3:e.rGBToRGBA(i,n,o,s);break;case 4:e.rGBAToRGBA(i,n,o,s);break;default:return l_("Cannot convert colors"),null}return i},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return 16777216},e.setRange=function(t,n){return e.setMappingRange(t,n)},e.getRange=function(){return e.getMappingRange()},e.areScalarsOpaque=function(n,r,a){if(!n)return e.isOpaque();var o=n.getNumberOfComponents();return(r!==s_.DEFAULT||n.getDataType()!==i_.UNSIGNED_CHAR)&&r!==s_.DIRECT_SCALARS||(3===o||1===o?t.alpha>=1:255===n.getRange(o-1)[0])}}(e,t)}var p_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(f_,"vtkScalarsToColors"),extend:f_},t_),m_=iS.vtkErrorMacro,g_=0,v_=1,h_=2;var y_={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function b_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y_,n),p_.extend(e,t,n),t.table||(t.table=[]),t.buildTime={},iS.obj(t.buildTime),t.opaqueFlagBuildTime={},iS.obj(t.opaqueFlagBuildTime,{mtime:0}),t.insertTime={},iS.obj(t.insertTime,{mtime:0}),iS.get(e,t,["buildTime"]),iS.setGet(e,t,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),iS.setArray(e,t,["alphaRange","hueRange","saturationRange","valueRange"],2),iS.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),iS.getArray(e,t,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),function(e,t){t.classHierarchy.push("vtkLookupTable"),e.isOpaque=function(){if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){var n=!0;t.nanColor[3]<1&&(n=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(n=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<t.table.length&&n;r+=4)t.table[r]<255&&(n=!1);t.opaqueFlag=n,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return t.table.length/4},e.linearIndexLookup=function(e,t){var n=0;return n=e<t.range[0]?t.maxIndex+g_+1.5:e>t.range[1]?t.maxIndex+v_+1.5:(n=(e+t.shift)*t.scale)<t.maxIndex?n:t.maxIndex,Math.floor(n)},e.linearLookup=function(t,n,r){var a=4*(LP(t)?Math.floor(r.maxIndex+1.5+h_):e.linearIndexLookup(t,r));return n.slice(a,a+4)},e.indexedLookupFunction=function(n,r,a){var o=e.getAnnotatedValueIndexInternal(n);-1===o&&(o=t.numberOfColors+h_);var i=4*o;return[r[i],r[i+1],r[i+2],r[i+3]]},e.lookupShiftAndScale=function(e,t){t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))},e.mapScalarsThroughTable=function(n,r,a,o){var i=e.linearLookup;t.indexedLookup&&(i=e.indexedLookupFunction);var s=e.getMappingRange(),l={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,l);var u=e.getAlpha(),c=n.getNumberOfTuples(),d=n.getNumberOfComponents(),f=r.getData(),p=n.getData();if(u>=1){if(a===e_.RGBA)for(var m=0;m<c;m++){var g=i(p[m*d+o],t.table,l);f[4*m]=g[0],f[4*m+1]=g[1],f[4*m+2]=g[2],f[4*m+3]=g[3]}}else if(a===e_.RGBA)for(var v=0;v<c;v++){var h=i(p[v*d+o],t.table,l);f[4*v]=h[0],f[4*v+1]=h[1],f[4*v+2]=h[2],f[4*v+3]=Math.floor(h[3]*u+.5)}},e.forceBuild=function(){var n=0,r=0,a=0,o=0,i=t.numberOfColors-1;i&&(n=(t.hueRange[1]-t.hueRange[0])/i,r=(t.saturationRange[1]-t.saturationRange[0])/i,a=(t.valueRange[1]-t.valueRange[0])/i,o=(t.alphaRange[1]-t.alphaRange[0])/i),t.table.length=4*i+16;for(var s=[],l=[],u=0;u<=i;u++)s[0]=t.hueRange[0]+u*n,s[1]=t.saturationRange[0]+u*r,s[2]=t.valueRange[0]+u*a,dP(s,l),l[3]=t.alphaRange[0]+u*o,t.table[4*u]=255*l[0]+.5,t.table[4*u+1]=255*l[1]+.5,t.table[4*u+2]=255*l[2]+.5,t.table[4*u+3]=255*l[3]+.5;e.buildSpecialColors(),t.buildTime.modified()},e.setTable=function(n){if(4===n.getNumberOfComponents())if(n.getDataType()===dS.UNSIGNED_CHAR){t.numberOfColors=n.getNumberOfTuples();var r=n.getData();t.table.length=r.length;for(var a=0;a<r.length;a++)t.table[a]=r[a];e.buildSpecialColors(),t.insertTime.modified(),e.modified()}else m_("Expected unsigned char values for RGBA colors");else m_("Expected 4 components for RGBA colors")},e.buildSpecialColors=function(){var e=t.numberOfColors,n=t.table,r=4*(e+g_);t.useBelowRangeColor||0===e?(n[r]=255*t.belowRangeColor[0]+.5,n[r+1]=255*t.belowRangeColor[1]+.5,n[r+2]=255*t.belowRangeColor[2]+.5,n[r+3]=255*t.belowRangeColor[3]+.5):(n[r]=n[0],n[r+1]=n[1],n[r+2]=n[2],n[r+3]=n[3]),r=4*(e+v_),t.useAboveRangeColor||0===e?(n[r]=255*t.aboveRangeColor[0]+.5,n[r+1]=255*t.aboveRangeColor[1]+.5,n[r+2]=255*t.aboveRangeColor[2]+.5,n[r+3]=255*t.aboveRangeColor[3]+.5):(n[r]=n[4*(e-1)+0],n[r+1]=n[4*(e-1)+1],n[r+2]=n[4*(e-1)+2],n[r+3]=n[4*(e-1)+3]),n[r=4*(e+h_)]=255*t.nanColor[0]+.5,n[r+1]=255*t.nanColor[1]+.5,n[r+2]=255*t.nanColor[2]+.5,n[r+3]=255*t.nanColor[3]+.5},e.build=function(){(t.table.length<1||e.getMTime()>t.buildTime.getMTime()&&t.insertTime.getMTime()<=t.buildTime.getMTime())&&e.forceBuild()},t.table.length>0&&t.insertTime.modified()}(e,t)}var x_={newInstance:iS.newInstance(b_,"vtkLookupTable"),extend:b_},w_=1,C_=0,S_=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function T_(){C_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}var P_={getResolveCoincidentTopologyAsString:function(){return S_[C_]},getResolveCoincidentTopologyPolygonOffsetFaces:function(){return w_},getResolveCoincidentTopology:function(){return C_},setResolveCoincidentTopology:T_,setResolveCoincidentTopologyPolygonOffsetFaces:function(e){w_=e},setResolveCoincidentTopologyToDefault:function(){T_(0)},setResolveCoincidentTopologyToOff:function(){T_(0)},setResolveCoincidentTopologyToPolygonOffset:function(){T_(1)}};function O_(e,t,n){n.forEach((function(n){e["get".concat(n.method)]=function(){return t[n.key]},e["set".concat(n.method)]=function(e,r){t[n.key]={factor:e,offset:r}}}))}var A_=["Polygon","Line","Point"],E_={};O_(E_,{Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},A_.map((function(e){return{key:e,method:"ResolveCoincidentTopology".concat(e,"OffsetParameters")}})));var I_={implementCoincidentTopologyMethods:function(e,t){void 0===t.resolveCoincidentTopology&&(t.resolveCoincidentTopology=!1),iS.setGet(e,t,["resolveCoincidentTopology"]),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(P_).forEach((function(t){e[t]=P_[t]})),Object.keys(E_).forEach((function(t){e[t]=E_[t]})),O_(e,t.topologyOffset,A_.map((function(e){return{key:e,method:"RelativeCoincidentTopology".concat(e,"OffsetParameters")}}))),e.getCoincidentTopologyPolygonOffsetParameters=function(){var t=E_.getResolveCoincidentTopologyPolygonOffsetParameters(),n=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyLineOffsetParameters=function(){var t=E_.getResolveCoincidentTopologyLineOffsetParameters(),n=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyPointOffsetParameter=function(){var t=E_.getResolveCoincidentTopologyPointOffsetParameters(),n=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}}},staticOffsetAPI:E_,otherStaticMethods:P_,CATEGORIES:A_};function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M_=IR.FieldAssociations,__=I_.staticOffsetAPI,D_=I_.otherStaticMethods,L_=n_.ColorMode,V_=n_.ScalarMode,N_=n_.GetArray,B_=t_.VectorMode,F_=eO.VtkDataTypes;function U_(e){return function(){return iS.vtkErrorMacro("vtkMapper::".concat(e," - NOT IMPLEMENTED"))}}var j_={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,customShaderAttributes:[]};function G_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,j_,n),qk.extend(e,t,n),iS.get(e,t,["colorCoordinates","colorMapColors","colorTextureMap"]),iS.setGet(e,t,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","selectionWebGLIdsToVTKIds","static","useLookupTableScalarRange","customShaderAttributes"]),iS.setGetArray(e,t,["scalarRange"],2),I_.implementCoincidentTopologyMethods(e,t),function(e,t){t.classHierarchy.push("vtkMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=VP(),t.bounds},e.setForceCompileOnly=function(e){t.forceCompileOnly=e},e.createDefaultLookupTable=function(){t.lookupTable=x_.newInstance()},e.getColorModeAsString=function(){return iS.enumToString(L_,t.colorMode)},e.setColorModeToDefault=function(){return e.setColorMode(0)},e.setColorModeToMapScalars=function(){return e.setColorMode(1)},e.setColorModeToDirectScalars=function(){return e.setColorMode(2)},e.getScalarModeAsString=function(){return iS.enumToString(V_,t.scalarMode)},e.setScalarModeToDefault=function(){return e.setScalarMode(0)},e.setScalarModeToUsePointData=function(){return e.setScalarMode(1)},e.setScalarModeToUseCellData=function(){return e.setScalarMode(2)},e.setScalarModeToUsePointFieldData=function(){return e.setScalarMode(3)},e.setScalarModeToUseCellFieldData=function(){return e.setScalarMode(4)},e.setScalarModeToUseFieldData=function(){return e.setScalarMode(5)},e.getAbstractScalars=function(e,n,r,a,o){if(!e||!t.scalarVisibility)return{scalars:null,cellFLag:!1};var i=null,s=!1;if(n===V_.DEFAULT)(i=e.getPointData().getScalars())||(i=e.getCellData().getScalars(),s=!0);else if(n===V_.USE_POINT_DATA)i=e.getPointData().getScalars();else if(n===V_.USE_CELL_DATA)i=e.getCellData().getScalars(),s=!0;else if(n===V_.USE_POINT_FIELD_DATA){var l=e.getPointData();i=r===N_.BY_ID?l.getArrayByIndex(a):l.getArrayByName(o)}else if(n===V_.USE_CELL_FIELD_DATA){var u=e.getCellData();s=!0,i=r===N_.BY_ID?u.getArrayByIndex(a):u.getArrayByName(o)}else if(n===V_.USE_FIELD_DATA){var c=e.getFieldData();i=r===N_.BY_ID?c.getArrayByIndex(a):c.getArrayByName(o)}return{scalars:i,cellFlag:s}},e.mapScalars=function(n,r){var a=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!a)return t.colorCoordinates=null,t.colorTextureMap=null,void(t.colorMapColors=null);var o="".concat(e.getMTime()).concat(a.getMTime()).concat(r);if(t.colorBuildString!==o){if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(n))e.mapScalarsToTexture(a,r);else{t.colorCoordinates=null,t.colorTextureMap=null;var i=e.getLookupTable();i&&(i.build(),t.colorMapColors=i.mapScalars(a,t.colorMode,t.fieldDataTupleId))}t.colorBuildString="".concat(e.getMTime()).concat(a.getMTime()).concat(r)}},e.scalarToTextureCoordinate=function(e,t,n){var r=.5,a=1;return LP(e)||(a=.49,(r=(e-t)*n)>1e3?r=1e3:r<-1e3&&(r=-1e3)),{texCoordS:r,texCoordT:a}},e.createColorTextureCoordinates=function(t,n,r,a,o,i,s,l,u){var c=(i[1]-i[0])/l,d=[];d[0]=i[0]-c,d[1]=i[1]+c;var f=1/(d[1]-d[0]),p=n.getData(),m=t.getData(),g=0,v=0;if(o<0||o>=a)for(var h=0;h<r;++h){for(var y=0,b=0;b<a;++b)y+=m[g]*m[g],g++;var x=Math.sqrt(y);u&&(x=x_.applyLogScale(x,s,i));var w=e.scalarToTextureCoordinate(x,d[0],f);p[v]=w.texCoordS,p[v+1]=w.texCoordT,v+=2}else{g+=o;for(var C=0;C<r;++C){var S=m[g];u&&(S=x_.applyLogScale(S,s,i));var T=e.scalarToTextureCoordinate(S,d[0],f);p[v]=T.texCoordS,p[v+1]=T.texCoordT,v+=2,g+=a}}},e.mapScalarsToTexture=function(n,r){var a=t.lookupTable.getRange(),o=t.lookupTable.usingLogScale();o&&x_.getLogRange(a,a);var i=t.lookupTable.getAlpha();if(t.colorMapColors=null,null==t.colorTextureMap||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==r){t.lookupTable.setAlpha(r),t.colorTextureMap=null,t.lookupTable.build();var s=t.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s+=2;for(var l=(a[1]-a[0])/(s-1-2),u=new Float64Array(2*s),c=0;c<s;++c)u[c]=a[0]+c*l-l,o&&(u[c]=Math.pow(10,u[c]));for(var d=0;d<s;++d)u[d+s]=NaN;t.colorTextureMap=JM.newInstance(),t.colorTextureMap.setExtent(0,s-1,0,1,0,0);var f=eO.newInstance({numberOfComponents:1,values:u});t.colorTextureMap.getPointData().setScalars(t.lookupTable.mapScalars(f,t.colorMode,0)),t.lookupTable.setAlpha(i)}if(!t.colorCoordinates||e.getMTime()>t.colorCoordinates.getMTime()||e.getInputData(0).getMTime()>t.colorCoordinates.getMTime()||t.lookupTable.getMTime()>t.colorCoordinates.getMTime()){t.colorCoordinates=null;var p=n.getNumberOfComponents(),m=n.getNumberOfTuples();t.colorCoordinates=eO.newInstance({numberOfComponents:2,values:new Float32Array(2*m)});var g=t.lookupTable.getVectorComponent();t.lookupTable.getVectorMode()===B_.MAGNITUDE&&n.getNumberOfComponents()>1&&(g=-1),e.createColorTextureCoordinates(n,t.colorCoordinates,m,p,g,a,t.lookupTable.getRange(),t.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,o)}},e.getIsOpaque=function(){var n=e.getInputData(),r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!t.scalarVisibility||null==r)return!0;var a=e.getLookupTable();return!a||(a.build(),a.areScalarsOpaque(r,t.colorMode,-1))},e.canUseTextureMapForColoring=function(n){if(!t.interpolateScalarsBeforeMapping)return!1;if(t.lookupTable&&t.lookupTable.getIndexedLookup())return!1;var r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName),a=r.scalars;return!!a&&!r.cellFlag&&(t.colorMode!==L_.DEFAULT||a.getDataType()!==F_.UNSIGNED_CHAR)&&t.colorMode!==L_.DIRECT_SCALARS},e.clearColorArrays=function(){t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=function(){return t.lookupTable||e.createDefaultLookupTable(),t.lookupTable},e.getMTime=function(){var e=t.mtime;if(null!==t.lookupTable){var n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.getPrimitiveCount=function(){var t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getPolys().getNumberOfCells()}},e.acquireInvertibleLookupTable=U_("AcquireInvertibleLookupTable"),e.valueToColor=U_("ValueToColor"),e.colorToValue=U_("ColorToValue"),e.useInvertibleColorFor=U_("UseInvertibleColorFor"),e.clearInvertibleColor=U_("ClearInvertibleColor"),e.processSelectorPixelBuffers=function(e,n){if(e&&t.selectionWebGLIdsToVTKIds&&t.populateSelectionSettings){var r=e.getRawPixelBuffer(lR.ID_LOW24),a=e.getRawPixelBuffer(lR.ID_HIGH24),o=e.getCurrentPass(),i=e.getFieldAssociation(),s=null;i===M_.FIELD_ASSOCIATION_POINTS?s=t.selectionWebGLIdsToVTKIds.points:i===M_.FIELD_ASSOCIATION_CELLS&&(s=t.selectionWebGLIdsToVTKIds.cells),s&&n.forEach((function(t){if(o===lR.ID_LOW24){var n=0;a&&(n+=a[t],n*=256),n+=r[t+2],n*=256,n+=r[t+1],n*=256,n+=r[t];var i=s[n],l=e.getPixelBuffer(lR.ID_LOW24);l[t]=255&i,l[t+1]=(65280&i)>>8,l[t+2]=(16711680&i)>>16}else if(o===lR.ID_HIGH24&&a){var u=0;u+=a[t],u*=256,u+=r[t],u*=256,u+=r[t+1],u*=256,u+=r[t+2];var c=s[u];e.getPixelBuffer(lR.ID_HIGH24)[t]=(4278190080&c)>>24}}))}}}(e,t)}var z_=k_(k_(k_({newInstance:iS.newInstance(G_,"vtkMapper"),extend:G_},__),D_),n_),W_={CoordinateSystem:{DISPLAY:0,WORLD:1}};function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K_=W_.CoordinateSystem;function q_(e){return function(){return iS.vtkErrorMacro("vtkProp::".concat(e," - NOT IMPLEMENTED"))}}var X_={allocatedRenderTime:10,coordinateSystem:K_.WORLD,dragable:!0,estimatedRenderTime:0,paths:null,pickable:!0,renderTimeMultiplier:1,savedEstimatedRenderTime:0,textures:[],useBounds:!0,visibility:!0};function Y_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,X_,n),iS.obj(e,t),iS.get(e,t,["estimatedRenderTime","allocatedRenderTime"]),iS.setGet(e,t,["_parentProp","coordinateSystem","dragable","pickable","renderTimeMultiplier","useBounds","visibility"]),iS.moveToProtected(e,t,["parentProp"]),function(e,t){t.classHierarchy.push("vtkProp"),e.getMTime=function(){for(var e=t.mtime,n=0;n<t.textures.length;++n){var r=t.textures[n].getMTime();r>e&&(e=r)}return e},e.processSelectorPixelBuffers=function(e,t){},e.getNestedProps=function(){return null},e.getActors=function(){return[]},e.getActors2D=function(){return[]},e.getVolumes=function(){return[]},e.pick=q_("pick"),e.hasKey=q_("hasKey"),e.getNestedVisibility=function(){return t.visibility&&(!t._parentProp||t._parentProp.getNestedVisibility())},e.getNestedPickable=function(){return t.pickable&&(!t._parentProp||t._parentProp.getNestedPickable())},e.getNestedDragable=function(){return t.dragable&&(!t._parentProp||t._parentProp.getNestedDragable())},e.getRedrawMTime=function(){return t.mtime},e.setEstimatedRenderTime=function(e){t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=function(){t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=function(e){t.estimatedRenderTime+=e},e.setAllocatedRenderTime=function(e){t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=function(){return!1},e.getTextures=function(){return t.textures},e.hasTexture=function(e){return-1!==t.textures.indexOf(e)},e.addTexture=function(n){n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n),e.modified())},e.removeTexture=function(n){var r=t.textures.filter((function(e){return e!==n}));t.textures.length!==r.length&&(t.textures=r,e.modified())},e.removeAllTextures=function(){t.textures=[],e.modified()},e.setCoordinateSystemToWorld=function(){return e.setCoordinateSystem(K_.WORLD)},e.setCoordinateSystemToDisplay=function(){return e.setCoordinateSystem(K_.DISPLAY)}}(e,t)}var $_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H_(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(Y_,"vtkProp"),extend:Y_},W_),Z_="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexMC;\n\n// frag position in VC\n//VTK::PositionVC::Dec\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// picking support\n//VTK::Picking::Dec\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::PrimID::Impl\n\n  //VTK::PositionVC::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::Picking::Impl\n}\n",Q_="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the polydata mappers fragment shader\n\nuniform int PrimitiveIDOffset;\n\n// VC position of this fragment\n//VTK::PositionVC::Dec\n\n// optional color passed in from the vertex shader, vertexColor\n//VTK::Color::Dec\n\n// optional surface normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// Depth Peeling Support\n//VTK::DepthPeeling::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// handle coincident offsets\n//VTK::Coincident::Dec\n\n//VTK::ZBuffer::Dec\n\nvoid main()\n{\n  // VC position of this fragment. This should not branch/return/discard.\n  //VTK::PositionVC::Impl\n\n  // Place any calls that require uniform flow (e.g. dFdx) here.\n  //VTK::UniformFlow::Impl\n\n  // Set gl_FragDepth here (gl_FragCoord.z by default)\n  //VTK::Depth::Impl\n\n  // Early depth peeling abort:\n  //VTK::DepthPeeling::PreColor\n\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::Color::Impl\n\n  // Generate the normal if we are not passed in one\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Light::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n\n  //VTK::DepthPeeling::Impl\n\n  //VTK::Picking::Impl\n\n  // handle coincident offsets\n  //VTK::Coincident::Impl\n\n  //VTK::ZBuffer::Impl\n\n  //VTK::RenderPassFragmentShader::Impl\n}\n";var J_={implementReplaceShaderCoincidentOffset:function(e,t){e.replaceShaderCoincidentOffset=function(n,r,a){var o=e.getCoincidentParameters(r,a);if(o&&(0!==o.factor||0!==o.offset)){var i=n.Fragment;i=NI.substitute(i,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,t.context.getExtension("EXT_frag_depth")&&(0!==o.factor?(i=NI.substitute(i,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,i=NI.substitute(i,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):i=NI.substitute(i,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),t._openGLRenderWindow.getWebgl2()&&(0!==o.factor?(i=NI.substitute(i,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,i=NI.substitute(i,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):i=NI.substitute(i,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=i}}},implementBuildShadersWithReplacements:function(e,t){e.applyShaderReplacements=function(e,t,n){var r=null;if(t&&(r=t.ShaderReplacements),r)for(var a=0;a<r.length;a++){var o=r[a];if(n&&o.replaceFirst||!n&&!o.replaceFirst){var i=o.shaderType,s=e[i],l=NI.substitute(s,o.originalValue,o.replacementValue,o.replaceAll);e[i]=l.result}}},e.buildShaders=function(n,r,a){e.getReplacedShaderTemplate(n,r,a),t.lastRenderPassShaderReplacement=t.currentRenderPass?t.currentRenderPass.getShaderReplacement():null,t.lastRenderPassShaderReplacement&&t.lastRenderPassShaderReplacement(n);var o=t.renderable.getViewSpecificProperties().OpenGL;e.applyShaderReplacements(n,o,!0),e.replaceShaderValues(n,r,a),e.applyShaderReplacements(n,o)},e.getReplacedShaderTemplate=function(n,r,a){var o=t.renderable.getViewSpecificProperties().OpenGL;e.getShaderTemplate(n,r,a);var i=n.Vertex;if(o){var s=o.VertexShaderCode;void 0!==s&&""!==s&&(i=s)}n.Vertex=i;var l=n.Fragment;if(o){var u=o.FragmentShaderCode;void 0!==u&&""!==u&&(l=u)}n.Fragment=l;var c=n.Geometry;if(o){var d=o.GeometryShaderCode;void 0!==d&&(c=d)}n.Geometry=c}}};function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nD=IR.FieldAssociations,rD=WI.primTypes,aD=ZI.Representation,oD=ZI.Shading,iD=z_.ScalarMode,sD=PO.Filter,lD=PO.Wrap,uD=RC,cD={type:"StartEvent"},dD={type:"EndEvent"},fD=$_.CoordinateSystem;function pD(e,n){function a(e,t,n){return t.identity(n),e.reduce((function(e,n,r){return 0===r?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e}),n)}n.classHierarchy.push("vtkOpenGLPolyDataMapper"),e.buildPass=function(t){t&&(n.currentRenderPass=null,n.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor"),n._openGLRenderer=n.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),n._openGLRenderWindow=n._openGLRenderer.getParent(),n.openGLCamera=n._openGLRenderer.getViewNodeFor(n._openGLRenderer.getRenderable().getActiveCamera()))},e.translucentPass=function(t,r){t&&(n.currentRenderPass=r,e.render())},e.zBufferPass=function(t){t&&(n.haveSeenDepthRequest=!0,n.renderDepth=!0,e.render(),n.renderDepth=!1)},e.opaqueZBufferPass=function(t){return e.zBufferPass(t)},e.opaquePass=function(t){t&&e.render()},e.render=function(){var t=n._openGLRenderWindow.getContext();if(n.context!==t){n.context=t;for(var r=rD.Start;r<rD.End;r++)n.primitives[r].setOpenGLRenderWindow(n._openGLRenderWindow)}var a=n.openGLActor.getRenderable(),o=n._openGLRenderer.getRenderable();e.renderPiece(o,a)},e.getShaderTemplate=function(e,t,n){e.Vertex=Z_,e.Fragment=Q_,e.Geometry=""},e.replaceShaderColor=function(e,t,r){var a=e.Vertex,o=e.Geometry,i=e.Fragment,s=n.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];s&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var u=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];s&&(u=u.concat(["  vec3 specularColor;","  float specularPower;"])),u=u.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),s&&(u=u.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),0===n.lastBoundBO.getCABO().getColorComponents()||n.drawingEdges||(l=l.concat(["varying vec4 vertexColorVSOutput;"]),a=NI.substitute(a,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,a=NI.substitute(a,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,o=NI.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=NI.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),0===n.lastBoundBO.getCABO().getColorComponents()||n.drawingEdges?n.renderable.getInterpolateScalarsBeforeMapping()&&n.renderable.getColorCoordinates()&&!n.drawingEdges?i=NI.substitute(i,"//VTK::Color::Impl",u.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(r.getBackfaceProperty()&&!n.drawingEdges&&(l=l.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),s?(l=l.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),u=u.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):u=u.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),n.haveCellScalars&&!n.drawingEdges&&(l=l.concat(["uniform samplerBuffer texture1;"])),i=NI.substitute(i,"//VTK::Color::Impl",u).result):i=NI.substitute(i,"//VTK::Color::Impl",u.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result,i=NI.substitute(i,"//VTK::Color::Dec",l).result,e.Vertex=a,e.Geometry=o,e.Fragment=i},e.replaceShaderLight=function(e,t,r){var a=e.Fragment,o=n.lastBoundBO.getReferenceByName("lastLightComplexity"),i=n.lastBoundBO.getReferenceByName("lastLightCount"),s=[];switch(o){case 0:a=NI.substitute(a,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:a=NI.substitute(a,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var l=0;l<i;++l)s=s.concat(["uniform vec3 lightColor".concat(l,";"),"uniform vec3 lightDirectionVC".concat(l,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(l,"; // normalized")]);a=NI.substitute(a,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var u=0;u<i;++u)s=s.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(u,"));"),"  diffuseL += ((df".concat("",") * lightColor").concat(u,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(u,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(u,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(u,");"),"    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=NI.substitute(a,"//VTK::Light::Impl",s,!1).result;break;case 3:for(var c=0;c<i;++c)s=s.concat(["uniform vec3 lightColor".concat(c,";"),"uniform vec3 lightDirectionVC".concat(c,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(c,"; // normalized"),"uniform vec3 lightPositionVC".concat(c,";"),"uniform vec3 lightAttenuation".concat(c,";"),"uniform float lightConeAngle".concat(c,";"),"uniform float lightExponent".concat(c,";"),"uniform int lightPositional".concat(c,";")]);a=NI.substitute(a,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var d=0;d<i;++d)s=s.concat(["  attenuation = 1.0;","  if (lightPositional".concat(d," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(d,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(d,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(d,".x"),"       + lightAttenuation".concat(d,".y * distanceVC"),"       + lightAttenuation".concat(d,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(d," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(d,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(d,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(d,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat("",") * lightColor").concat(d,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(d,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat("",") * lightColor").concat(d,");"),"    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=NI.substitute(a,"//VTK::Light::Impl",s,!1).result;break;default:uD("bad light complexity")}e.Fragment=a},e.replaceShaderNormal=function(e,t,r){if(n.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var a=e.Vertex,o=e.Geometry,i=e.Fragment;n.lastBoundBO.getCABO().getNormalOffset()?(a=NI.substitute(a,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,a=NI.substitute(a,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,o=NI.substitute(o,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,o=NI.substitute(o,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,i=NI.substitute(i,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,i=NI.substitute(i,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):n.haveCellNormals?(i=NI.substitute(i,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,i=NI.substitute(i,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):n.lastBoundBO.getOpenGLMode(r.getProperty().getRepresentation())===n.context.LINES?(i=NI.substitute(i,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,i=NI.substitute(i,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(i=NI.substitute(i,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,i=NI.substitute(i,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,i=NI.substitute(i,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),e.Vertex=a,e.Geometry=o,e.Fragment=i}},e.replaceShaderPositionVC=function(e,t,r){n.lastBoundBO.replaceShaderPositionVC(e,t,r);var a=e.Vertex,o=e.Geometry,i=e.Fragment;n.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(a=NI.substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=NI.substitute(a,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,a=NI.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,i=NI.substitute(i,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,i=NI.substitute(i,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(a=NI.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,a=NI.substitute(a,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),e.Vertex=a,e.Geometry=o,e.Fragment=i},e.replaceShaderTCoord=function(e,t,r){if(n.lastBoundBO.getCABO().getTCoordOffset()){var a=e.Vertex,o=e.Geometry,i=e.Fragment;if(n.drawingEdges)return;a=NI.substitute(a,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var s=n.openGLActor.getActiveTextures(),l=2,u=2;if(s&&s.length>0&&(l=s[0].getComponents(),s[0].getTarget()===n.context.TEXTURE_CUBE_MAP&&(u=3)),n.renderable.getColorTextureMap()&&(l=n.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),u=2),2===u){if(a=NI.substitute(a,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,o=NI.substitute(o,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,o=NI.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,i=NI.substitute(i,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,s&&s.length>=1)switch(l){case 1:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(a=NI.substitute(a,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,o=NI.substitute(o,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,o=NI.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,i=NI.substitute(i,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,l){case 1:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:i=NI.substitute(i,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}e.Vertex=a,e.Geometry=o,e.Fragment=i}},e.replaceShaderClip=function(e,t,r){var a=e.Vertex,o=e.Fragment;if(n.renderable.getNumberOfClippingPlanes()){var i=n.renderable.getNumberOfClippingPlanes();a=NI.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[".concat(i,"];"),"varying float clipDistancesVSOutput[".concat(i,"];")]).result,a=NI.substitute(a,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(i,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=NI.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[".concat(i,"];")]).result,o=NI.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(i,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}e.Vertex=a,e.Fragment=o},e.getCoincidentParameters=function(e,t){var r={factor:0,offset:0},a=t.getProperty();if(n.renderable.getResolveCoincidentTopology()||a.getEdgeVisibility()&&a.getRepresentation()===aD.SURFACE){var o=n.lastBoundBO.getPrimitiveType();o===rD.Points||a.getRepresentation()===aD.POINTS?r=n.renderable.getCoincidentTopologyPointOffsetParameter():o===rD.Lines||a.getRepresentation()===aD.WIREFRAME?r=n.renderable.getCoincidentTopologyLineOffsetParameters():o!==rD.Tris&&o!==rD.TriStrips||(r=n.renderable.getCoincidentTopologyPolygonOffsetParameters()),o!==rD.TrisEdges&&o!==rD.TriStripsEdges||((r=n.renderable.getCoincidentTopologyPolygonOffsetParameters()).factor/=2,r.offset/=2)}var i=n._openGLRenderer.getSelector();return i&&i.getFieldAssociation()===nD.FIELD_ASSOCIATION_POINTS&&(r.offset-=2),r},e.replaceShaderPicking=function(e,t,r){var a=e.Fragment,o=e.Vertex;if(a=NI.substitute(a,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,n._openGLRenderer.getSelector()){switch(n.lastSelectionState!==lR.ID_LOW24&&n.lastSelectionState!==lR.ID_HIGH24||(o=NI.substitute(o,"//VTK::Picking::Dec",["flat out int vertexIDVSOutput;\n","uniform int VertexIDOffset;\n"]).result,o=NI.substitute(o,"//VTK::Picking::Impl","  vertexIDVSOutput = gl_VertexID + VertexIDOffset;\n").result,a=NI.substitute(a,"//VTK::Picking::Dec","flat in int vertexIDVSOutput;\n").result,a=NI.substitute(a,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),n.lastSelectionState){case lR.ID_LOW24:a=NI.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case lR.ID_HIGH24:a=NI.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx)/255.0, 0.0, 0.0, 1.0);").result;break;default:a=NI.substitute(a,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,a=NI.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}e.Fragment=a,e.Vertex=o}},e.replaceShaderValues=function(t,r,a){if(e.replaceShaderColor(t,r,a),e.replaceShaderNormal(t,r,a),e.replaceShaderLight(t,r,a),e.replaceShaderTCoord(t,r,a),e.replaceShaderPicking(t,r,a),e.replaceShaderClip(t,r,a),e.replaceShaderCoincidentOffset(t,r,a),e.replaceShaderPositionVC(t,r,a),n.haveSeenDepthRequest){var o=t.Fragment;o=NI.substitute(o,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,o=NI.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,t.Fragment=o}},e.getNeedToRebuildShaders=function(e,t,r){var a=0,o=0,i=e.getPrimitiveType(),s=n.currentInput,l=!1,u=s.getPointData().getNormals(),c=s.getCellData().getNormals(),d=r.getProperty().getInterpolation()===oD.FLAT,f=r.getProperty().getRepresentation(),p=e.getOpenGLMode(f,i);if(p===n.context.TRIANGLES||c&&!u||!d&&u?l=!0:d||p!==n.context.LINES||(l=!0),r.getProperty().getLighting()&&l){a=0;for(var m=t.getLightsByReference(),g=0;g<m.length;++g){var v=m[g];v.getSwitch()>0&&(o++,0===a&&(a=1)),1===a&&(o>1||1!==v.getIntensity()||!v.lightTypeIsHeadLight())&&(a=2),a<3&&v.getPositional()&&(a=3)}}var h=!1,y=n.lastBoundBO.getReferenceByName("lastLightComplexity"),b=n.lastBoundBO.getReferenceByName("lastLightCount");return y===a&&b===o||(n.lastBoundBO.set({lastLightComplexity:a},!0),n.lastBoundBO.set({lastLightCount:o},!0),h=!0),(!n.currentRenderPass&&n.lastRenderPassShaderReplacement||n.currentRenderPass&&n.currentRenderPass.getShaderReplacement()!==n.lastRenderPassShaderReplacement)&&(h=!0),!!(n.lastHaveSeenDepthRequest!==n.haveSeenDepthRequest||e.getShaderSourceTime().getMTime()<n.renderable.getMTime()||e.getShaderSourceTime().getMTime()<n.currentInput.getMTime()||e.getShaderSourceTime().getMTime()<n.selectionStateChanged.getMTime()||h)&&(n.lastHaveSeenDepthRequest=n.haveSeenDepthRequest,!0)},e.invokeShaderCallbacks=function(e,t,r){var a=n.renderable.getViewSpecificProperties().ShadersCallbacks;a&&a.forEach((function(n){n.callback(n.userData,e,t,r)}))},e.setMapperShaderParameters=function(t,r,a){if(t.getProgram().isUniformUsed("PrimitiveIDOffset")&&t.getProgram().setUniformi("PrimitiveIDOffset",n.primitiveIDOffset),t.getProgram().isUniformUsed("VertexIDOffset")&&t.getProgram().setUniformi("VertexIDOffset",n.vertexIDOffset),t.getCABO().getElementCount()&&(n.VBOBuildTime.getMTime()>t.getAttributeUpdateTime().getMTime()||t.getShaderSourceTime().getMTime()>t.getAttributeUpdateTime().getMTime())){var o=n.lastBoundBO.getReferenceByName("lastLightComplexity");t.getProgram().isAttributeUsed("vertexMC")&&(t.getVAO().addAttributeArray(t.getProgram(),t.getCABO(),"vertexMC",t.getCABO().getVertexOffset(),t.getCABO().getStride(),n.context.FLOAT,3,!1)||uD("Error setting vertexMC in shader VAO.")),t.getProgram().isAttributeUsed("normalMC")&&t.getCABO().getNormalOffset()&&o>0?t.getVAO().addAttributeArray(t.getProgram(),t.getCABO(),"normalMC",t.getCABO().getNormalOffset(),t.getCABO().getStride(),n.context.FLOAT,3,!1)||uD("Error setting normalMC in shader VAO."):t.getVAO().removeAttributeArray("normalMC"),n.renderable.getCustomShaderAttributes().forEach((function(e,r){t.getProgram().isAttributeUsed("".concat(e,"MC"))&&(t.getVAO().addAttributeArray(t.getProgram(),t.getCABO(),"".concat(e,"MC"),t.getCABO().getCustomData()[r].offset,t.getCABO().getStride(),n.context.FLOAT,t.getCABO().getCustomData()[r].components,!1)||uD("Error setting ".concat(e,"MC in shader VAO.")))})),t.getProgram().isAttributeUsed("tcoordMC")&&t.getCABO().getTCoordOffset()?t.getVAO().addAttributeArray(t.getProgram(),t.getCABO(),"tcoordMC",t.getCABO().getTCoordOffset(),t.getCABO().getStride(),n.context.FLOAT,t.getCABO().getTCoordComponents(),!1)||uD("Error setting tcoordMC in shader VAO."):t.getVAO().removeAttributeArray("tcoordMC"),t.getProgram().isAttributeUsed("scalarColor")&&t.getCABO().getColorComponents()?t.getVAO().addAttributeArray(t.getProgram(),t.getCABO().getColorBO(),"scalarColor",t.getCABO().getColorOffset(),t.getCABO().getColorBOStride(),n.context.UNSIGNED_BYTE,4,!0)||uD("Error setting scalarColor in shader VAO."):t.getVAO().removeAttributeArray("scalarColor"),t.getAttributeUpdateTime().modified()}if(n.renderable.getNumberOfClippingPlanes()){var i=n.renderable.getNumberOfClippingPlanes(),s=[],l=t.getCABO().getCoordShiftAndScaleEnabled()?t.getCABO().getInverseShiftAndScaleMatrix():null,u=l?_A(n.tmpMat4,a.getMatrix()):a.getMatrix();l&&(NA(u,u),jA(u,u,l),NA(u,u));for(var c=0;c<i;c++){var d=[];n.renderable.getClippingPlaneInDataCoords(u,c,d);for(var f=0;f<4;f++)s.push(d[f])}t.getProgram().setUniformi("numClipPlanes",i),t.getProgram().setUniform4fv("clipPlanes",s)}n.internalColorTexture&&t.getProgram().isUniformUsed("texture1")&&t.getProgram().setUniformi("texture1",n.internalColorTexture.getTextureUnit());var p=n.openGLActor.getActiveTextures();if(p)for(var m=0;m<p.length;++m){var g=p[m].getTextureUnit(),v="texture".concat(g+1);t.getProgram().isUniformUsed(v)&&t.getProgram().setUniformi(v,g)}if(n.haveSeenDepthRequest&&t.getProgram().setUniformi("depthRequest",n.renderDepth?1:0),t.getProgram().isUniformUsed("coffset")){var h=e.getCoincidentParameters(r,a);t.getProgram().setUniformf("coffset",h.offset),t.getProgram().isUniformUsed("cfactor")&&t.getProgram().setUniformf("cfactor",h.factor)}t.setMapperShaderParameters(r,a,n._openGLRenderer.getTiledSizeAndOrigin());var y=n._openGLRenderer.getSelector();t.getProgram().setUniform3fArray("mapperIndex",y?y.getPropColorValue():[0,0,0]),t.getProgram().setUniformi("picking",y?y.getCurrentPass()+1:0)},e.setLightingShaderParameters=function(e,t,r){var a=n.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(a<2)){for(var o=e.getProgram(),i=0,s=t.getLightsByReference(),l=0;l<s.length;++l){var u=s[l];if(u.getSwitch()>0){var c=u.getColorByReference(),d=u.getIntensity();n.lightColor[0]=c[0]*d,n.lightColor[1]=c[1]*d,n.lightColor[2]=c[2]*d;var f=u.getDirection(),p=t.getActiveCamera().getViewMatrix(),m=rC(f);u.lightTypeIsSceneLight()&&(m[0]=p[0]*f[0]+p[1]*f[1]+p[2]*f[2],m[1]=p[4]*f[0]+p[5]*f[1]+p[6]*f[2],m[2]=p[8]*f[0]+p[9]*f[1]+p[10]*f[2],yT(m)),n.lightDirection[0]=m[0],n.lightDirection[1]=m[1],n.lightDirection[2]=m[2],n.lightHalfAngle[0]=-n.lightDirection[0],n.lightHalfAngle[1]=-n.lightDirection[1],n.lightHalfAngle[2]=1-n.lightDirection[2],yT(n.lightDirection),o.setUniform3fArray("lightColor".concat(i),n.lightColor),o.setUniform3fArray("lightDirectionVC".concat(i),n.lightDirection),o.setUniform3fArray("lightHalfAngleVC".concat(i),n.lightHalfAngle),i++}}if(!(a<3)){var g=t.getActiveCamera().getViewMatrix();NA(g,g),i=0;for(var v=0;v<s.length;++v){var h=s[v];if(h.getSwitch()>0){var y=h.getTransformedPosition(),b=new Float64Array(3);fA(b,y,g),o.setUniform3fArray("lightAttenuation".concat(i),h.getAttenuationValuesByReference()),o.setUniformi("lightPositional".concat(i),h.getPositional()),o.setUniformf("lightExponent".concat(i),h.getExponent()),o.setUniformf("lightConeAngle".concat(i),h.getConeAngle()),o.setUniform3fArray("lightPositionVC".concat(i),[b[0],b[1],b[2]]),i++}}}}},e.setCameraShaderParameters=function(e,o,i){var s=e.getProgram(),l=n.openGLCamera.getKeyMatrices(o),u=o.getActiveCamera(),c=n.openGLCamera.getKeyMatrixTime().getMTime(),d=s.getLastCameraMTime(),f=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,p=i.getIsIdentity(),m=p?{mcwc:null,normalMatrix:null}:n.openGLActor.getKeyMatrices();if(i.getCoordinateSystem()===fD.DISPLAY){var g=n._openGLRenderer.getTiledSizeAndOrigin();VA(n.tmpMat4),n.tmpMat4[0]=2/g.usize,n.tmpMat4[12]=-1,n.tmpMat4[5]=2/g.vsize,n.tmpMat4[13]=-1,jA(n.tmpMat4,n.tmpMat4,f),s.setUniformMatrix("MCPCMatrix",n.tmpMat4)}else s.setUniformMatrix("MCPCMatrix",a([l.wcpc,m.mcwc,f],t,n.tmpMat4));s.isUniformUsed("MCVCMatrix")&&s.setUniformMatrix("MCVCMatrix",a([l.wcvc,m.mcwc,f],t,n.tmpMat4)),s.isUniformUsed("normalMatrix")&&s.setUniformMatrix3x3("normalMatrix",a([l.normalMatrix,m.normalMatrix],r,n.tmpMat3)),d!==c&&(s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",u.getParallelProjection()),s.setLastCameraMTime(c)),p||s.setLastCameraMTime(0)},e.setPropertyShaderParameters=function(e,t,r){var a=e.getProgram(),o=r.getProperty(),i=o.getOpacity(),s=n.drawingEdges?o.getEdgeColorByReference():o.getAmbientColorByReference(),l=n.drawingEdges?o.getEdgeColorByReference():o.getDiffuseColorByReference(),u=n.drawingEdges?1:o.getAmbient(),c=n.drawingEdges?0:o.getDiffuse(),d=n.drawingEdges?0:o.getSpecular(),f=o.getSpecularPower();a.setUniformf("opacityUniform",i),a.setUniform3fArray("ambientColorUniform",s),a.setUniform3fArray("diffuseColorUniform",l),a.setUniformf("ambient",u),a.setUniformf("diffuse",c);var p=n.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(p<1)){var m=o.getSpecularColorByReference();if(a.setUniform3fArray("specularColorUniform",m),a.setUniformf("specularPowerUniform",f),a.setUniformf("specular",d),a.isUniformUsed("ambientIntensityBF")){if(i=(o=r.getBackfaceProperty()).getOpacity(),s=o.getAmbientColor(),u=o.getAmbient(),l=o.getDiffuseColor(),c=o.getDiffuse(),m=o.getSpecularColor(),d=o.getSpecular(),a.setUniformf("ambientIntensityBF",u),a.setUniformf("diffuseIntensityBF",c),a.setUniformf("opacityUniformBF",i),a.setUniform3fArray("ambientColorUniformBF",s),a.setUniform3fArray("diffuseColorUniformBF",l),p<1)return;a.setUniformf("specularIntensityBF",d),a.setUniform3fArray("specularColorUniformBF",m),a.setUniformf("specularPowerUniformBF",f)}}},e.updateMaximumPointCellIds=function(e,t){var r,a,o,i,s=n._openGLRenderer.getSelector();if(s){if(null!==(r=n.selectionWebGLIdsToVTKIds)&&void 0!==r&&null!==(a=r.points)&&void 0!==a&&a.length){var l=n.selectionWebGLIdsToVTKIds.points.length;s.setMaximumPointId(l-1)}if(null!==(o=n.selectionWebGLIdsToVTKIds)&&void 0!==o&&null!==(i=o.cells)&&void 0!==i&&i.length){var u=n.selectionWebGLIdsToVTKIds.cells.length;s.setMaximumCellId(u-1)}s.getFieldAssociation()===nD.FIELD_ASSOCIATION_POINTS&&(n.pointPicking=!0)}},e.renderPieceStart=function(t,r){n.primitiveIDOffset=0,n.vertexIDOffset=0;var a=function(e){var t=e.getSelector();return t?t.getCurrentPass():lR.MIN_KNOWN_PASS-1}(n._openGLRenderer);n.lastSelectionState!==a&&(n.selectionStateChanged.modified(),n.lastSelectionState=a),n._openGLRenderer.getSelector()&&n._openGLRenderer.getSelector().renderProp(r),e.updateBufferObjects(t,r),n.renderable.getColorTextureMap()&&n.internalColorTexture.activate(),n.lastBoundBO=null},e.renderPieceDraw=function(t,r){for(var a=r.getProperty().getRepresentation(),o=r.getProperty().getEdgeVisibility()&&a===aD.SURFACE,i=n._openGLRenderer.getSelector(),s=i&&i.getFieldAssociation()===nD.FIELD_ASSOCIATION_POINTS&&(n.lastSelectionState===lR.ID_LOW24||n.lastSelectionState===lR.ID_HIGH24),l=rD.Start;l<rD.End;l++){n.primitives[l].setPointPicking(s),n.primitives[l].getCABO().getElementCount()&&(n.drawingEdges=o&&(l===rD.TrisEdges||l===rD.TriStripsEdges),n.drawingEdges&&(n.renderDepth||n.lastSelectionState>=0)||(n.lastBoundBO=n.primitives[l],n.primitiveIDOffset+=n.primitives[l].drawArrays(t,r,a,e),n.vertexIDOffset+=n.primitives[l].getCABO().getElementCount()))}},e.renderPieceFinish=function(e,t){n.LastBoundBO&&n.LastBoundBO.getVAO().release(),n.renderable.getColorTextureMap()&&n.internalColorTexture.deactivate()},e.renderPiece=function(t,r){if(e.invokeEvent(cD),n.renderable.getStatic()||n.renderable.update(),n.currentInput=n.renderable.getInputData(),e.invokeEvent(dD),n.currentInput){if(n.currentInput.getPoints&&n.currentInput.getPoints().getNumberOfValues()){var a=n.context,o=r.getProperty().getBackfaceCulling(),i=r.getProperty().getFrontfaceCulling();o||i?i?(n._openGLRenderWindow.enableCullFace(),a.cullFace(a.FRONT)):(n._openGLRenderWindow.enableCullFace(),a.cullFace(a.BACK)):n._openGLRenderWindow.disableCullFace(),e.renderPieceStart(t,r),e.renderPieceDraw(t,r),e.renderPieceFinish(t,r)}}else uD("No input!")},e.computeBounds=function(t,r){e.getInput()?n.bounds=e.getInput().getBounds():yP(n.bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(t,r){var a=n.VBOBuildTime.getMTime();return a<e.getMTime()||a<n.renderable.getMTime()||a<r.getMTime()||a<n.currentInput.getMTime()},e.buildBufferObjects=function(t,r){var a=n.currentInput;if(null!==a){n.renderable.mapScalars(a,1);var o=n.renderable.getColorMapColors();n.haveCellScalars=!1;var i=n.renderable.getScalarMode();n.renderable.getScalarVisibility()&&(i!==iD.USE_CELL_DATA&&i!==iD.USE_CELL_FIELD_DATA&&i!==iD.USE_FIELD_DATA&&a.getPointData().getScalars()||i===iD.USE_POINT_FIELD_DATA||!o||(n.haveCellScalars=!0));var s=r.getProperty().getInterpolation()!==oD.FLAT?a.getPointData().getNormals():null;null===s&&a.getCellData().getNormals()&&(n.haveCellNormals=!0,s=a.getCellData().getNormals());var l=r.getProperty().getRepresentation(),u=a.getPointData().getTCoords();if(n.openGLActor.getActiveTextures()||(u=null),n.renderable.getColorCoordinates()){u=n.renderable.getColorCoordinates(),n.internalColorTexture||(n.internalColorTexture=PO.newInstance({resizable:!0}));var c=n.internalColorTexture;c.setMinificationFilter(sD.NEAREST),c.setMagnificationFilter(sD.NEAREST),c.setWrapS(lD.CLAMP_TO_EDGE),c.setWrapT(lD.CLAMP_TO_EDGE),c.setOpenGLRenderWindow(n._openGLRenderWindow);var d=n.renderable.getColorTextureMap(),f=d.getExtent(),p=d.getPointData().getScalars();c.create2DFromRaw(f[1]-f[0]+1,f[3]-f[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),c.activate(),c.sendParameters(),c.deactivate()}var m="".concat(a.getMTime(),"A").concat(l,"B").concat(a.getMTime())+"C".concat(s?s.getMTime():1,"D").concat(o?o.getMTime():1)+"E".concat(r.getProperty().getEdgeVisibility())+"F".concat(u?u.getMTime():1);if(n.VBOBuildString!==m){var g={points:a.getPoints(),normals:s,tcoords:u,colors:o,cellOffset:0,vertexOffset:0,haveCellScalars:n.haveCellScalars,haveCellNormals:n.haveCellNormals,customAttributes:n.renderable.getCustomShaderAttributes().map((function(e){return a.getPointData().getArrayByName(e)}))};n.renderable.getPopulateSelectionSettings()&&(n.selectionWebGLIdsToVTKIds={points:null,cells:null});for(var v=[{inRep:"verts",cells:a.getVerts()},{inRep:"lines",cells:a.getLines()},{inRep:"polys",cells:a.getPolys()},{inRep:"strips",cells:a.getStrips()},{inRep:"polys",cells:a.getPolys()},{inRep:"strips",cells:a.getStrips()}],h=r.getProperty().getEdgeVisibility()&&l===aD.SURFACE,y=rD.Start;y<rD.End;y++)y!==rD.TrisEdges&&y!==rD.TriStripsEdges?(g.cellOffset+=n.primitives[y].getCABO().createVBO(v[y].cells,v[y].inRep,l,g,n.selectionWebGLIdsToVTKIds),g.vertexOffset+=n.primitives[y].getCABO().getElementCount()):h?n.primitives[y].getCABO().createVBO(v[y].cells,v[y].inRep,aD.WIREFRAME,tD(tD({},g),{},{tcoords:null,colors:null,haveCellScalars:!1,haveCellNormals:!1})):n.primitives[y].releaseGraphicsResources();n.renderable.getPopulateSelectionSettings()&&(n.renderable.setSelectionWebGLIdsToVTKIds(n.selectionWebGLIdsToVTKIds),e.updateMaximumPointCellIds()),n.VBOBuildTime.modified(),n.VBOBuildString=m}}}}var mD={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:lR.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function gD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mD,n),aO.extend(e,t,n),J_.implementReplaceShaderCoincidentOffset(e,t,n),J_.implementBuildShadersWithReplacements(e,t,n),t.primitives=[],t.primTypes=rD,t.tmpMat3=DE(new Float64Array(9)),t.tmpMat4=VA(new Float64Array(16));for(var r=rD.Start;r<rD.End;r++)t.primitives[r]=WI.newInstance(),t.primitives[r].setPrimitiveType(r),t.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);qC(e,t,["context"]),t.VBOBuildTime={},jC(t.VBOBuildTime,{mtime:0}),t.selectionStateChanged={},jC(t.selectionStateChanged,{mtime:0}),pD(e,t)}var vD=eS(gD,"vtkOpenGLPolyDataMapper"),hD={newInstance:vD,extend:gD};function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}uO("vtkMapper",vD);var bD=RC,xD=ZI.Representation,wD=wI.ObjectType,CD=ek.PassTypes,SD={type:"StartEvent"},TD={type:"EndEvent"};function PD(e,t){t.classHierarchy.push("vtkOpenGLGlyph3DMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yD(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.renderPiece=function(n,r){if(e.invokeEvent(SD),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(1),e.invokeEvent(TD),t.currentInput){if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var a=t.context;t._openGLRenderWindow.getWebgl2()?(t.hardwareSupport=!0,t.extension=null):t.extension||(t.extension=t.context.getExtension("ANGLE_instanced_arrays"),t.hardwareSupport=!!t.extension);var o=r.getProperty().getBackfaceCulling(),i=r.getProperty().getFrontfaceCulling();o||i?i?(t._openGLRenderWindow.enableCullFace(),a.cullFace(a.FRONT)):(t._openGLRenderWindow.enableCullFace(),a.cullFace(a.BACK)):t._openGLRenderWindow.disableCullFace(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)}}else bD("No input!")},e.multiply4x4WithOffset=function(e,t,n,r){var a=t[0],o=t[1],i=t[2],s=t[3],l=t[4],u=t[5],c=t[6],d=t[7],f=t[8],p=t[9],m=t[10],g=t[11],v=t[12],h=t[13],y=t[14],b=t[15],x=n[r],w=n[r+1],C=n[r+2],S=n[r+3];e[0]=x*a+w*l+C*f+S*v,e[1]=x*o+w*u+C*p+S*h,e[2]=x*i+w*c+C*m+S*y,e[3]=x*s+w*d+C*g+S*b,x=n[r+4],w=n[r+5],C=n[r+6],S=n[r+7],e[4]=x*a+w*l+C*f+S*v,e[5]=x*o+w*u+C*p+S*h,e[6]=x*i+w*c+C*m+S*y,e[7]=x*s+w*d+C*g+S*b,x=n[r+8],w=n[r+9],C=n[r+10],S=n[r+11],e[8]=x*a+w*l+C*f+S*v,e[9]=x*o+w*u+C*p+S*h,e[10]=x*i+w*c+C*m+S*y,e[11]=x*s+w*d+C*g+S*b,x=n[r+12],w=n[r+13],C=n[r+14],S=n[r+15],e[12]=x*a+w*l+C*f+S*v,e[13]=x*o+w*u+C*p+S*h,e[14]=x*i+w*c+C*m+S*y,e[15]=x*s+w*d+C*g+S*b},e.replaceShaderNormal=function(e,r,a){if(t.hardwareSupport&&t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var o=e.Vertex;t.lastBoundBO.getCABO().getNormalOffset()&&(o=NI.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=NI.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),e.Vertex=o}n.replaceShaderNormal(e,r,a)},e.replaceShaderColor=function(e,r,a){if(t.hardwareSupport&&t.renderable.getColorArray()){var o=e.Vertex,i=e.Geometry,s=e.Fragment,l=t.lastBoundBO.getReferenceByName("lastLightComplexity"),u=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];l&&(u=u.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];l&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  opacity = opacityUniform;"]),l&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),t.drawingEdges||(u=u.concat(["varying vec4 vertexColorVSOutput;"]),o=NI.substitute(o,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,o=NI.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,i=NI.substitute(i,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,i=NI.substitute(i,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,c=c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),s=NI.substitute(s,"//VTK::Color::Impl",c).result,s=NI.substitute(s,"//VTK::Color::Dec",u).result,e.Vertex=o,e.Geometry=i,e.Fragment=s}n.replaceShaderColor(e,r,a)},e.replaceShaderPositionVC=function(e,r,a){if(t.hardwareSupport){var o=e.Vertex;t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(o=NI.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,o=NI.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(o=NI.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),e.Vertex=o}n.replaceShaderPositionVC(e,r,a)},e.replaceShaderPicking=function(e,r,a){if(t.hardwareSupport){var o=e.Fragment,i=e.Vertex;i=NI.substitute(i,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,i=NI.substitute(i,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,e.Vertex=i,o=NI.substitute(o,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,o=NI.substitute(o,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,e.Fragment=o}else n.replaceShaderPicking(e,r,a)},e.updateGlyphShaderParameters=function(n,r,a,o,i,s,l,u){var c=a.getProgram();if(n){var d=t.normalMatrix,f=s,p=9*l,m=t.tmpMat3,g=d[0],v=d[1],h=d[2],y=d[3],b=d[4],x=d[5],w=d[6],C=d[7],S=d[8],T=f[p],P=f[p+1],O=f[p+2],A=f[p+3],E=f[p+4],I=f[p+5],R=f[p+6],k=f[p+7],M=f[p+8];m[0]=T*g+P*y+O*w,m[1]=T*v+P*b+O*C,m[2]=T*h+P*x+O*S,m[3]=A*g+E*y+I*w,m[4]=A*v+E*b+I*C,m[5]=A*h+E*x+I*S,m[6]=R*g+k*y+M*w,m[7]=R*v+k*b+M*C,m[8]=R*h+k*x+M*S,c.setUniformMatrix3x3("normalMatrix",t.tmpMat3)}if(e.multiply4x4WithOffset(t.tmpMat4,t.mcpcMatrix,i,16*l),c.setUniformMatrix("MCPCMatrix",t.tmpMat4),r&&(e.multiply4x4WithOffset(t.tmpMat4,t.mcvcMatrix,i,16*l),c.setUniformMatrix("MCVCMatrix",t.tmpMat4)),o){var _=o.getData();t.tmpColor[0]=_[4*l]/255,t.tmpColor[1]=_[4*l+1]/255,t.tmpColor[2]=_[4*l+2]/255,c.setUniform3fArray("ambientColorUniform",t.tmpColor),c.setUniform3fArray("diffuseColorUniform",t.tmpColor)}u&&c.setUniform3fArray("mapperIndex",u.getPropColorValue())},e.renderPieceDraw=function(n,r){var a=r.getProperty().getRepresentation(),o=t.context,i=r.getProperty().getEdgeVisibility()&&a===xD.SURFACE,s=t.openGLCamera.getKeyMatrices(n),l=t.openGLActor.getKeyMatrices();FE(t.normalMatrix,s.normalMatrix,l.normalMatrix),jA(t.mcpcMatrix,s.wcpc,l.mcwc),jA(t.mcvcMatrix,s.wcvc,l.mcwc);var u=t.renderable.getMatrixArray(),c=t.renderable.getNormalArray(),d=t.renderable.getColorArray(),f=u.length/16,p=!1;t._openGLRenderer.getSelector()&&t._openGLRenderer.getSelector().getCurrentPass()===CD.COMPOSITE_INDEX_PASS&&(p=!0);for(var m=t.primTypes.Start;m<t.primTypes.End;m++){var g=t.primitives[m].getCABO();if(g.getElementCount()){t.drawingEdges=i&&(m===t.primTypes.TrisEdges||m===t.primTypes.TriStripsEdges),t.lastBoundBO=t.primitives[m],t.primitives[m].updateShaders(n,r,e);var v=t.primitives[m].getProgram(),h=t.primitives[m].getOpenGLMode(a),y=v.isUniformUsed("normalMatrix"),b=v.isUniformUsed("MCVCMatrix");if(t.hardwareSupport)t.extension?t.extension.drawArraysInstancedANGLE(h,0,g.getElementCount(),f):o.drawArraysInstanced(h,0,g.getElementCount(),f);else for(var x=0;x<f;++x)p&&t._openGLRenderer.getSelector().renderCompositeIndex(x),e.updateGlyphShaderParameters(y,b,t.primitives[m],d,u,c,x,p?t._openGLRenderer.getSelector():null),o.drawArrays(h,0,g.getElementCount())}}},e.setMapperShaderParameters=function(e,r,a){if(e.getCABO().getElementCount()&&(t.glyphBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime()))return e.getProgram().isAttributeUsed("gMatrix")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.matrixBuffer,"gMatrix",0,64,t.context.FLOAT,4,!1,1)||bD("Error setting gMatrix in shader VAO."):e.getVAO().removeAttributeArray("gMatrix"),e.getProgram().isAttributeUsed("gNormal")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.normalBuffer,"gNormal",0,36,t.context.FLOAT,3,!1,1)||bD("Error setting gNormal in shader VAO."):e.getVAO().removeAttributeArray("gNormal"),e.getProgram().isAttributeUsed("gColor")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.colorBuffer,"gColor",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||bD("Error setting gColor in shader VAO."):e.getVAO().removeAttributeArray("gColor"),e.getProgram().isAttributeUsed("mapperIndexVS")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.pickBuffer,"mapperIndexVS",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||bD("Error setting mapperIndexVS in shader VAO."):e.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(e,r,a),void e.getAttributeUpdateTime().modified();n.setMapperShaderParameters(e,r,a)},e.getNeedToRebuildBufferObjects=function(e,r){return t.renderable.buildArrays(),t.VBOBuildTime.getMTime()<t.renderable.getBuildTime().getMTime()||n.getNeedToRebuildBufferObjects(e,r)},e.getNeedToRebuildShaders=function(e,r,a){return!!(n.getNeedToRebuildShaders(e,r,a)||e.getShaderSourceTime().getMTime()<t.renderable.getMTime()||e.getShaderSourceTime().getMTime()<t.currentInput.getMTime())},e.buildBufferObjects=function(e,r){if(t.hardwareSupport){var a=t.renderable.getMatrixArray(),o=t.renderable.getNormalArray(),i=t.renderable.getColorArray();if(t.matrixBuffer||(t.matrixBuffer=wI.newInstance(),t.matrixBuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.normalBuffer=wI.newInstance(),t.normalBuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.colorBuffer=wI.newInstance(),t.colorBuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.pickBuffer=wI.newInstance(),t.pickBuffer.setOpenGLRenderWindow(t._openGLRenderWindow)),t.renderable.getBuildTime().getMTime()>t.glyphBOBuildTime.getMTime()){t.matrixBuffer.upload(a,wD.ARRAY_BUFFER),t.normalBuffer.upload(o,wD.ARRAY_BUFFER),i?t.colorBuffer.upload(i.getData(),wD.ARRAY_BUFFER):t.colorBuffer.releaseGraphicsResources();for(var s=a.length/16,l=new Uint8Array(4*s),u=0;u<s;++u){var c=u+1,d=4*u;l[d]=c%256,c-=l[d],c/=256,l[d+1]=c%256,c-=l[d+1],c/=256,l[d+2]=c%256,l[d+3]=255}t.pickBuffer.upload(l,wD.ARRAY_BUFFER),t.glyphBOBuildTime.modified()}}return n.buildBufferObjects(e,r)}}var OD={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function AD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,OD,n),hD.extend(e,t,n),t.tmpMat3=DE(new Float64Array(9)),t.normalMatrix=DE(new Float64Array(9)),t.mcpcMatrix=VA(new Float64Array(16)),t.mcvcMatrix=VA(new Float64Array(16)),t.tmpColor=[],t.glyphBOBuildTime={},jC(t.glyphBOBuildTime,{mtime:0}),PD(e,t)}var ED=eS(AD,"vtkOpenGLGlyph3DMapper"),ID={newInstance:ED,extend:AD};uO("vtkGlyph3DMapper",ED);var RD={SlicingMode:{NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5}},kD={NEAREST:0,LINEAR:1},MD={InterpolationType:kD},_D=RC,DD=RD.SlicingMode;function LD(e,t,n){if(t.apply(e)){var r=e.getIndependentComponents();return"".concat(e.getMTime(),"-").concat(r,"-").concat(n)}return"0"}var VD={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function ND(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VD,n),aO.extend(e,t,n),J_.implementReplaceShaderCoincidentOffset(e,t,n),J_.implementBuildShadersWithReplacements(e,t,n),t.tris=WI.newInstance(),t.openGLTexture=PO.newInstance({resizable:!0}),t.colorTexture=PO.newInstance({resizable:!0}),t.pwfTexture=PO.newInstance({resizable:!0}),t.imagemat=VA(new Float64Array(16)),t.imagematinv=VA(new Float64Array(16)),qC(e,t,[]),t.VBOBuildTime={},jC(t.VBOBuildTime),function(e,t){t.classHierarchy.push("vtkOpenGLImageMapper"),e.buildPass=function(n){if(n){t.currentRenderPass=null,t.openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice"),t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.pwfTexture.setOpenGLRenderWindow(t._openGLRenderWindow);var r=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(r.getActiveCamera()),t.renderable.isA("vtkImageMapper")&&t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(r.getActiveCamera())}},e.translucentPass=function(n,r){n&&(t.currentRenderPass=r,e.render())},e.zBufferPass=function(n){n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaqueZBufferPass=function(t){return e.zBufferPass(t)},e.opaquePass=function(t){t&&e.render()},e.getCoincidentParameters=function(e,n){return t.renderable.getResolveCoincidentTopology()?t.renderable.getCoincidentTopologyPolygonOffsetParameters():null},e.render=function(){var n=t.openGLImageSlice.getRenderable(),r=t._openGLRenderer.getRenderable();e.renderPiece(r,n)},e.getShaderTemplate=function(e,t,n){e.Vertex=Z_,e.Fragment=Q_,e.Geometry=""},e.replaceShaderValues=function(n,r,a){var o=n.Vertex,i=n.Fragment;o=NI.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=NI.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,o=NI.substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,o=NI.substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var s=t.openGLTexture.getComponents(),l=a.getProperty().getIndependentComponents(),u=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(l){for(var c=1;c<s;c++)u=u.concat(["uniform float cshift".concat(c,";"),"uniform float cscale".concat(c,";"),"uniform float pwfshift".concat(c,";"),"uniform float pwfscale".concat(c,";")]);switch(s){case 1:u=u.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:u=u.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:_D("Unsupported number of independent coordinates.")}}if(i=NI.substitute(i,"//VTK::TCoord::Dec",u).result,l){for(var d=["r","g","b","a"],f=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],p=0;p<s;p++)f=f.concat(["vec3 tcolor".concat(p," = mix").concat(p," * texture2D(colorTexture1, vec2(tvalue.").concat(d[p]," * cscale").concat(p," + cshift").concat(p,", height").concat(p,")).rgb;"),"float compWeight".concat(p," = mix").concat(p," * texture2D(pwfTexture1, vec2(tvalue.").concat(d[p]," * pwfscale").concat(p," + pwfshift").concat(p,", height").concat(p,")).r;")]);switch(s){case 1:f=f.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:f=f.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:f=f.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:f=f.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:_D("Unsupported number of independent coordinates.")}i=NI.substitute(i,"//VTK::TCoord::Impl",f).result}else switch(s){case 1:i=NI.substitute(i,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:i=NI.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;case 3:i=NI.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]).result;break;default:i=NI.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}t.haveSeenDepthRequest&&(i=NI.substitute(i,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,i=NI.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=o,n.Fragment=i,e.replaceShaderClip(n,r,a),e.replaceShaderCoincidentOffset(n,r,a)},e.replaceShaderClip=function(e,n,r){var a=e.Vertex,o=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){var i=t.renderable.getNumberOfClippingPlanes();i>6&&(RC("OpenGL has a limit of 6 clipping planes"),i=6),a=NI.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,a=NI.substitute(a,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=NI.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,o=NI.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}e.Vertex=a,e.Fragment=o},e.getNeedToRebuildShaders=function(e,n,r){var a=t.openGLTexture.getComponents(),o=r.getProperty().getIndependentComponents(),i=!1;return(!t.currentRenderPass&&t.lastRenderPassShaderReplacement||t.currentRenderPass&&t.currentRenderPass.getShaderReplacement()!==t.lastRenderPassShaderReplacement)&&(i=!0),!(!i&&t.lastHaveSeenDepthRequest===t.haveSeenDepthRequest&&0!==e.getProgram()&&t.lastTextureComponents===a&&t.lastIndependentComponents===o)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=a,t.lastIndependentComponents=o,!0)},e.updateShaders=function(n,r,a){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,r,a);var i=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);i!==n.getProgram()&&(n.setProgram(i),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a)},e.setMapperShaderParameters=function(n,r,a){n.getCABO().getElementCount()&&(t.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||_D("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),t.context.FALSE)||_D("Error setting tcoordMC in shader VAO.")),n.getAttributeUpdateTime().modified());var o=t.openGLTexture.getTextureUnit();n.getProgram().setUniformi("texture1",o);var i=t.openGLTexture.getComponents(),s=a.getProperty().getIndependentComponents();if(s)for(var l=0;l<i;l++)n.getProgram().setUniformf("mix".concat(l),a.getProperty().getComponentWeight(l));for(var u=t.openGLTexture.getShiftAndScale(),c=0;c<i;c++){var d=a.getProperty().getColorWindow(),f=a.getProperty().getColorLevel(),p=s?c:0,m=a.getProperty().getRGBTransferFunction(p);if(m&&a.getProperty().getUseLookupTableScalarRange()){var g=m.getRange();d=g[1]-g[0],f=.5*(g[1]+g[0])}var v=u.scale/d,h=(u.shift-f)/d+.5;n.getProgram().setUniformf("cshift".concat(c),h),n.getProgram().setUniformf("cscale".concat(c),v)}for(var y=0;y<i;y++){var b=1,x=0,w=s?y:0,C=a.getProperty().getPiecewiseFunction(w);if(C){var S=C.getRange(),T=S[1]-S[0],P=.5*(S[0]+S[1]);b=u.scale/T,x=(u.shift-P)/T+.5}n.getProgram().setUniformf("pwfshift".concat(y),x),n.getProgram().setUniformf("pwfscale".concat(y),b)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",t.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var O=e.getCoincidentParameters(r,a);n.getProgram().setUniformf("coffset",O.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",O.factor)}var A=t.colorTexture.getTextureUnit();n.getProgram().setUniformi("colorTexture1",A);var E=t.pwfTexture.getTextureUnit();if(n.getProgram().setUniformi("pwfTexture1",E),t.renderable.getNumberOfClippingPlanes()){var I=t.renderable.getNumberOfClippingPlanes();I>6&&(RC("OpenGL has a limit of 6 clipping planes"),I=6);var R=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null,k=R?_A(t.imagematinv,a.getMatrix()):a.getMatrix();R&&(NA(k,k),jA(k,k,R),NA(k,k)),NA(t.imagemat,t.currentInput.getIndexToWorld()),jA(t.imagematinv,k,t.imagemat);for(var M=[],_=0;_<I;_++){var D=[];t.renderable.getClippingPlaneInDataCoords(t.imagematinv,_,D);for(var L=0;L<4;L++)M.push(D[L])}n.getProgram().setUniformi("numClipPlanes",I),n.getProgram().setUniform4fv("clipPlanes",M)}},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),o=t.openGLImageSlice.getKeyMatrices(),i=t.currentInput.getIndexToWorld();jA(t.imagemat,o.mcwc,i);var s=t.openGLCamera.getKeyMatrices(n);if(jA(t.imagemat,s.wcpc,t.imagemat),e.getCABO().getCoordShiftAndScaleEnabled()){var l=e.getCABO().getInverseShiftAndScaleMatrix();jA(t.imagemat,t.imagemat,l)}a.setUniformMatrix("MCPCMatrix",t.imagemat)},e.setPropertyShaderParameters=function(e,t,n){var r=e.getProgram(),a=n.getProperty().getOpacity();r.setUniformf("opacity",a)},e.renderPieceStart=function(n,r){e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var a=t.context;t.openGLTexture.activate(),t.colorTexture.activate(),t.pwfTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.openGLTexture.deactivate(),t.colorTexture.deactivate(),t.pwfTexture.deactivate()},e.renderPieceFinish=function(e,t){},e.renderPiece=function(n,r){e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getCurrentImage(),e.invokeEvent({type:"EndEvent"}),t.currentInput?(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)):_D("No input!")},e.computeBounds=function(n,r){e.getInput()?t.bounds=e.getInput().getBounds():yP(t.bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(n,r){var a=t.currentInput;if(a){var o=a.getPointData()&&a.getPointData().getScalars();if(o){var i=o.getDataType(),s=o.getNumberOfComponents(),l=r.getProperty(),u=l.getInterpolationType();u===kD.NEAREST?(t.colorTexture.setMinificationFilter(wS.NEAREST),t.colorTexture.setMagnificationFilter(wS.NEAREST),t.pwfTexture.setMinificationFilter(wS.NEAREST),t.pwfTexture.setMagnificationFilter(wS.NEAREST)):(t.colorTexture.setMinificationFilter(wS.LINEAR),t.colorTexture.setMagnificationFilter(wS.LINEAR),t.pwfTexture.setMinificationFilter(wS.LINEAR),t.pwfTexture.setMagnificationFilter(wS.LINEAR));var c=l.getIndependentComponents(),d=c?s:1,f=c?2*d:1,p=LD(l,l.getRGBTransferFunction,d);if(t.colorTextureString!==p){var m=1024,g=new Uint8Array(m*f*3),v=l.getRGBTransferFunction();if(v){for(var h=new Float32Array(3072),y=0;y<d;y++){var b=(v=l.getRGBTransferFunction(y)).getRange();if(v.getTable(b[0],b[1],m,h,1),c)for(var x=0;x<3072;x++)g[y*m*6+x]=255*h[x],g[y*m*6+x+3072]=255*h[x];else for(var w=0;w<3072;w++)g[y*m*6+w]=255*h[w]}t.colorTexture.create2DFromRaw(m,f,3,dS.UNSIGNED_CHAR,g)}else{for(var C=0;C<3072;++C)g[C]=255*C/3069,g[C+1]=255*C/3069,g[C+2]=255*C/3069;t.colorTexture.create2DFromRaw(m,1,3,dS.UNSIGNED_CHAR,g)}t.colorTextureString=p}var S=LD(l,l.getPiecewiseFunction,d);if(t.pwfTextureString!==S){var T=1024,P=T*f,O=new Uint8Array(P),A=l.getPiecewiseFunction();if(t.pwfTexture.resetFormatAndType(),A){for(var E=new Float32Array(P),I=new Float32Array(T),R=0;R<d;++R)if(null===(A=l.getPiecewiseFunction(R)))E.fill(1);else{var k=A.getRange();if(A.getTable(k[0],k[1],T,I,1),c)for(var M=0;M<T;M++)E[R*T*2+M]=I[M],E[R*T*2+M+T]=I[M];else for(var _=0;_<T;_++)E[R*T*2+_]=I[_]}t.pwfTexture.create2DFromRaw(T,f,1,dS.FLOAT,E)}else O.fill(255),t.pwfTexture.create2DFromRaw(T,1,1,dS.UNSIGNED_CHAR,O);t.pwfTextureString=S}var D=t.renderable.getClosestIJKAxis().ijkMode,L=t.renderable.getSlice();D!==t.renderable.getSlicingMode()&&(L=t.renderable.getSliceAtPosition(L));var V,N=t.renderable.isA("vtkImageArrayMapper")?t.renderable.getSubSlice():Math.round(L),B=a.getExtent();D===DD.I&&(V=N-B[0]),D===DD.J&&(V=N-B[2]),D!==DD.K&&D!==DD.NONE||(V=N-B[4]);var F="".concat(L,"A").concat(a.getMTime(),"A").concat(o.getMTime(),"B").concat(e.getMTime(),"C").concat(t.renderable.getSlicingMode(),"D").concat(r.getProperty().getInterpolationType());if(t.VBOBuildString!==F){var U,j,G=a.getDimensions();u===kD.NEAREST?(new Set([1,3,4]).has(s)&&i===dS.UNSIGNED_CHAR&&!c?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(wS.NEAREST)):t.openGLTexture.setMinificationFilter(wS.NEAREST),t.openGLTexture.setMagnificationFilter(wS.NEAREST)):(4!==s||i!==dS.UNSIGNED_CHAR||c?t.openGLTexture.setMinificationFilter(wS.LINEAR):(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(wS.LINEAR_MIPMAP_LINEAR)),t.openGLTexture.setMagnificationFilter(wS.LINEAR)),t.openGLTexture.setWrapS(xS.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(xS.CLAMP_TO_EDGE);for(var z=G[0]*G[1]*s,W=new Float32Array(12),H=new Float32Array(8),K=0;K<4;K++)H[2*K]=K%2?1:0,H[2*K+1]=K>1?1:0;var q=[DD.X,DD.Y,DD.Z].includes(t.renderable.getSlicingMode())?L:N,X=a.getSpatialExtent(),Y=o.getData(),$=null;if(D===DD.I){$=new Y.constructor(G[2]*G[1]*s);for(var Z=0,Q=0;Q<G[2];Q++)for(var J=0;J<G[1];J++){var ee=(V+J*G[0]+Q*G[0]*G[1])*s;Z=(Q*G[1]+J)*s,$.set(Y.subarray(ee,ee+s),Z)}G[0]=G[1],G[1]=G[2],W[0]=q,W[1]=X[2],W[2]=X[4],W[3]=q,W[4]=X[3],W[5]=X[4],W[6]=q,W[7]=X[2],W[8]=X[5],W[9]=q,W[10]=X[3],W[11]=X[5]}else if(D===DD.J){$=new Y.constructor(G[2]*G[0]*s);for(var te=0,ne=0;ne<G[2];ne++)for(var re=0;re<G[0];re++){var ae=(re+V*G[0]+ne*G[0]*G[1])*s;te=(ne*G[0]+re)*s,$.set(Y.subarray(ae,ae+s),te)}G[1]=G[2],W[0]=X[0],W[1]=q,W[2]=X[4],W[3]=X[1],W[4]=q,W[5]=X[4],W[6]=X[0],W[7]=q,W[8]=X[5],W[9]=X[1],W[10]=q,W[11]=X[5]}else D===DD.K||D===DD.NONE?($=Y.subarray(V*z,(V+1)*z),W[0]=X[0],W[1]=X[2],W[2]=q,W[3]=X[1],W[4]=X[2],W[5]=q,W[6]=X[0],W[7]=X[3],W[8]=q,W[9]=X[1],W[10]=X[3],W[11]=q):_D("Reformat slicing not yet supported.");t.openGLTexture.create2DFilterableFromRaw(G[0],G[1],s,o.getDataType(),$,null===(U=(j=t.renderable).getPreferSizeOverAccuracy)||void 0===U?void 0:U.call(j)),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();var oe=eO.newInstance({numberOfComponents:3,values:W});oe.setName("points");var ie=eO.newInstance({numberOfComponents:2,values:H});ie.setName("tcoords");var se=new Uint16Array(8);se[0]=3,se[1]=0,se[2]=1,se[3]=3,se[4]=3,se[5]=0,se[6]=3,se[7]=2;var le=eO.newInstance({numberOfComponents:1,values:se});t.tris.getCABO().createVBO(le,"polys",SI.SURFACE,{points:oe,tcoords:ie,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=F}}}}}(e,t)}var BD=eS(ND,"vtkOpenGLImageMapper"),FD={newInstance:BD,extend:ND};uO("vtkAbstractImageMapper",BD);var UD={context:null,keyMatrixTime:null,keyMatrices:null};function jD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,UD,n),aO.extend(e,t,n),t.keyMatrixTime={},jC(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:VA(new Float64Array(16))},qC(e,t,["context"]),function(e,t){t.classHierarchy.push("vtkOpenGLImageSlice"),e.buildPass=function(n){if(t.renderable&&t.renderable.getVisibility()&&n){if(!t.renderable)return;t._openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseZBufferPass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.traverseOpaqueZBufferPass=function(t){return e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&t.renderable.getIsOpaque()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.zBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(e,n){e&&t.context.depthMask(!0)},e.translucentPass=function(e,n){t.context.depthMask(!e)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(_A(t.keyMatrices.mcwc,t.renderable.getMatrix()),NA(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.keyMatrixTime.modified()),t.keyMatrices}}(e,t)}var GD=eS(jD,"vtkOpenGLImageSlice"),zD={newInstance:GD,extend:jD};uO("vtkImageSlice",GD);var WD=IC;var HD={};function KD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HD,n),aO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),e.opaquePass=function(n,r){t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t._openGLRenderWindow=t._openGLRenderer.getParent();var a=t._openGLRenderer.getAspectRatio(),o=t._openGLRenderer?t._openGLRenderer.getRenderable().getActiveCamera():null,i=t._openGLRenderer.getTiledSizeAndOrigin(),s=null;if(t.renderable.getUseZValues()){var l=r.getZBufferTexture(),u=Math.floor(l.getWidth()),c=Math.floor(l.getHeight()),d=t._openGLRenderWindow.getContext();l.bind();var f=r.getFramebuffer();f?f.saveCurrentBindingsAndBuffers():WD("No framebuffer to save/restore");var p=d.createFramebuffer();d.bindFramebuffer(d.FRAMEBUFFER,p),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,l.getHandle(),0),d.checkFramebufferStatus(d.FRAMEBUFFER)===d.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(u*c*4),d.viewport(0,0,u,c),d.readPixels(0,0,u,c,d.RGBA,d.UNSIGNED_BYTE,s)),f&&f.restorePreviousBindingsAndBuffers(),d.deleteFramebuffer(p)}t.renderable.invokeCallback(t.renderable.getInputData(),o,a,i,s)},e.queryPass=function(e,n){e&&t.renderable.getUseZValues()&&n.requestDepth()}}(e,t)}var qD=eS(KD,"vtkOpenGLPixelSpaceCallbackMapper"),XD={newInstance:qD,extend:KD};uO("vtkPixelSpaceCallbackMapper",qD);var YD=IC;var $D={context:null,selector:null};function ZD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$D,n),aO.extend(e,t,n),zC(e,t,["shaderCache"]),qC(e,t,["selector"]),ZC(0,t,["openGLRenderWindow"]),function(e,t){t.classHierarchy.push("vtkOpenGLRenderer"),e.buildPass=function(n){if(n){if(!t.renderable)return;e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes()}},e.updateLights=function(){for(var e=0,n=t.renderable.getLightsByReference(),r=0;r<n.length;++r)n[r].getSwitch()>0&&e++;return e||(YD("No lights are on, creating one."),t.renderable.createLight()),e},e.zBufferPass=function(n){if(n){var r=0,a=t.context;t.renderable.getTransparent()||(t.context.clearColor(1,0,0,1),r|=a.COLOR_BUFFER_BIT),t.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),r|=a.DEPTH_BUFFER_BIT,t.context.depthMask(!0));var o=e.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),a.viewport(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),a.colorMask(!0,!0,!0,!0),r&&a.clear(r),a.enable(a.DEPTH_TEST)}},e.opaqueZBufferPass=function(t){return e.zBufferPass(t)},e.cameraPass=function(t){t&&e.clear()},e.getAspectRatio=function(){var e=t._parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.getTiledSizeAndOrigin=function(){var e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=e[0]-n[0],a=e[1]-n[1],o=t._parent.normalizedDisplayToDisplay(r,a),i=Math.round(o[0]),s=Math.round(o[1]),l=e[2]-n[0],u=e[3]-n[1],c=t._parent.normalizedDisplayToDisplay(l,u),d=Math.round(c[0])-i,f=Math.round(c[1])-s;return d<0&&(d=0),f<0&&(f=0),{usize:d,vsize:f,lowerLeftU:i,lowerLeftV:s}},e.clear=function(){var n=0,r=t.context;if(!t.renderable.getTransparent()){var a=t.renderable.getBackgroundByReference();t.context.clearColor(a[0],a[1],a[2],a[3]),n|=r.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,t.context.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var o=e.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),r.viewport(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),n&&r.clear(n),r.enable(r.DEPTH_TEST)},e.releaseGraphicsResources=function(){null!==t.selector&&t.selector.releaseGraphicsResources()},e.setOpenGLRenderWindow=function(n){t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))}}(e,t)}var QD=eS(ZD,"vtkOpenGLRenderer"),JD={newInstance:QD,extend:ZD};uO("vtkRenderer",QD);var eL=RC;var tL={context:null};function nL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tL,n),aO.extend(e,t,n),t.openGLTexture=PO.newInstance(),t.tris=WI.newInstance(),t.keyMatrixTime={},jC(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:DE(new Float64Array(9)),mcwc:VA(new Float64Array(16))},qC(e,t,["context"]),zC(e,t,["activeTextures"]),function(e,t){t.classHierarchy.push("vtkOpenGLSkybox"),e.buildPass=function(n){if(n){t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t._openGLRenderWindow);var r=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(r.getActiveCamera())}},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementOpaqueActorCount()}},e.opaquePass=function(n,r){if(n&&!t._openGLRenderer.getSelector()){e.updateBufferObjects(),t.context.depthMask(!0),t._openGLRenderWindow.getShaderCache().readyShaderProgram(t.tris.getProgram()),t.openGLTexture.render(t._openGLRenderWindow);var a=t.openGLTexture.getTextureUnit();t.tris.getProgram().setUniformi("sbtexture",a);var o=t._openGLRenderer.getRenderable(),i=t.openGLCamera.getKeyMatrices(o),s=new Float64Array(16);if(BA(s,i.wcpc),t.tris.getProgram().setUniformMatrix("IMCPCMatrix",s),"box"===t.lastFormat){var l=o.getActiveCamera().getPosition();t.tris.getProgram().setUniform3f("camPos",l[0],l[1],l[2])}t.tris.getVAO().bind(),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.openGLTexture.deactivate()}},e.updateBufferObjects=function(){if(!t.tris.getCABO().getElementCount()){for(var e=new Float32Array(12),n=0;n<4;n++)e[3*n]=n%2*2-1,e[3*n+1]=n>1?1:-1,e[3*n+2]=1;var r=eO.newInstance({numberOfComponents:3,values:e});r.setName("points");var a=new Uint16Array(8);a[0]=3,a[1]=0,a[2]=1,a[3]=3,a[4]=3,a[5]=0,a[6]=3,a[7]=2;var o=eO.newInstance({numberOfComponents:1,values:a});t.tris.getCABO().createVBO(o,"polys",SI.SURFACE,{points:r,cellOffset:0})}t.renderable.getFormat()!==t.lastFormat&&(t.lastFormat=t.renderable.getFormat(),"box"===t.lastFormat&&t.tris.setProgram(t._openGLRenderWindow.getShaderCache().readyShaderProgramArray("//VTK::System::Dec\n             attribute vec3 vertexMC;\n             uniform mat4 IMCPCMatrix;\n             varying vec3 TexCoords;\n             void main () {\n              gl_Position = vec4(vertexMC.xyz, 1.0);\n              vec4 wpos = IMCPCMatrix * gl_Position;\n              TexCoords = wpos.xyz/wpos.w;\n             }","//VTK::System::Dec\n             //VTK::Output::Dec\n             varying vec3 TexCoords;\n             uniform samplerCube sbtexture;\n             uniform vec3 camPos;\n             void main () {\n               // skybox looks from inside out\n               // which means we have to adjust\n               // our tcoords. Otherwise text would\n               // be flipped\n               vec3 tc = normalize(TexCoords - camPos);\n               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))\n               {\n                 tc = vec3(1.0, 1.0, -1.0) * tc;\n               }\n               else\n               {\n                 tc = vec3(-1.0, 1.0, 1.0) * tc;\n               }\n               gl_FragData[0] = textureCube(sbtexture, tc);\n             }","")),"background"===t.lastFormat&&t.tris.setProgram(t._openGLRenderWindow.getShaderCache().readyShaderProgramArray("//VTK::System::Dec\n             attribute vec3 vertexMC;\n             uniform mat4 IMCPCMatrix;\n             varying vec2 TexCoords;\n             void main () {\n              gl_Position = vec4(vertexMC.xyz, 1.0);\n              vec4 wpos = IMCPCMatrix * gl_Position;\n              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;\n             }","//VTK::System::Dec\n             //VTK::Output::Dec\n             varying vec2 TexCoords;\n             uniform sampler2D sbtexture;\n             void main () {\n               gl_FragData[0] = texture2D(sbtexture, TexCoords);\n             }","")),t.tris.getShaderSourceTime().modified(),t.tris.getVAO().bind(),t.tris.getVAO().addAttributeArray(t.tris.getProgram(),t.tris.getCABO(),"vertexMC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||eL("Error setting vertexMC in shader VAO."));var i=t.renderable.getTextures();i.length||eL("vtkSkybox requires a texture map"),t.openGLTexture.getRenderable()!==i[0]&&(t.openGLTexture.releaseGraphicsResources(t._openGLRenderWindow),t.openGLTexture.setRenderable(i[0]))}}(e,t)}var rL=eS(nL),aL={newInstance:rL,extend:nL};uO("vtkSkybox",rL);var oL="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkSphereMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Spheres\n\nattribute vec4 vertexMC;\nattribute vec2 offsetMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n//VTK::Picking::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying vec3 centerVCVSOutput;\n\nuniform int cameraParallel;\nuniform float scaleFactor;\n\nvoid main()\n{\n  //VTK::Picking::Impl\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  // compute the projected vertex position\n  vec2 scaledOffsetMC = scaleFactor * offsetMC;\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = length(scaledOffsetMC)*0.5;\n\n  // make the triangle face the camera\n  if (cameraParallel == 0)\n    {\n    vec3 dir = normalize(-vertexVCVSOutput.xyz);\n    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));\n    vec3 base1 = cross(base2,dir);\n    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + scaledOffsetMC.x*base1 + scaledOffsetMC.y*base2;\n    }\n  else\n    {\n    // add in the offset\n    vertexVCVSOutput.xy = vertexVCVSOutput.xy + scaledOffsetMC;\n    }\n\n  gl_Position = VCPCMatrix * vertexVCVSOutput;\n}\n";function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var sL=RC;function lL(e,t){t.classHierarchy.push("vtkOpenGLSphereMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=oL,e.Fragment=Q_,e.Geometry=""},e.replaceShaderValues=function(e,r,a){var o=e.Vertex,i=e.Fragment;o=NI.substitute(o,"//VTK::Camera::Dec",["uniform mat4 VCPCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,i=NI.substitute(i,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,i=NI.substitute(i,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;\n"]).result;i=NI.substitute(i,"//VTK::Normal::Dec",["uniform float invertedDepth;\n","uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCPCMatrix;\n"]).result;var s="";t.context.getExtension("EXT_frag_depth")&&(s="gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),t._openGLRenderWindow.getWebgl2()&&(s="gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;\n"),i=NI.substitute(i,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float b = 2.0*dot(EyePos,EyeDir);\n","  float c = dot(EyePos,EyePos) - 1.0;\n","  float d = b*b - 4.0*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t = (-b - invertedDepth*sqrt(d))*0.5;\n","    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);\n","    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;\n","    }\n","  vec4 pos = VCPCMatrix * vertexVC;\n",s]).result,i=NI.substitute(i,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(i=NI.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=o,e.Fragment=i,n.replaceShaderValues(e,r,a)},e.setMapperShaderParameters=function(e,r,a){if(e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"offsetMC",12,e.getCABO().getStride(),t.context.FLOAT,2,!1)||sL("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isUniformUsed("invertedDepth")&&e.getProgram().setUniformf("invertedDepth",t.invert?-1:1),e.getProgram().isUniformUsed("scaleFactor")){var o=t.currentInput.getPointData();null!=t.renderable.getScaleArray()&&o.hasArray(t.renderable.getScaleArray())?e.getProgram().setUniformf("scaleFactor",t.renderable.getScaleFactor()):e.getProgram().setUniformf("scaleFactor",1)}n.setMapperShaderParameters(e,r,a)},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),o=n.getActiveCamera(),i=t.openGLCamera.getKeyMatrices(n);if(a.isUniformUsed("VCPCMatrix")&&a.setUniformMatrix("VCPCMatrix",i.vcpc),a.isUniformUsed("MCVCMatrix"))if(r.getIsIdentity())a.setUniformMatrix("MCVCMatrix",i.wcvc);else{var s=t.openGLActor.getKeyMatrices(),l=new Float64Array(16);jA(l,i.wcvc,s.mcwc),a.setUniformMatrix("MCVCMatrix",l)}a.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",o.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var a=t.renderable.getColorMapColors(),o=t.primitives[t.primTypes.Tris].getCABO(),i=r.getPointData(),s=r.getPoints(),l=s.getNumberOfPoints(),u=s.getData(),c=null;null!=t.renderable.getScaleArray()&&i.hasArray(t.renderable.getScaleArray())&&(c=i.getArray(t.renderable.getScaleArray()).getData());var d=null,f=0,p=null;a?(f=a.getNumberOfComponents(),o.setColorOffset(0),o.setColorBOStride(4),d=a.getData(),p=new Uint8Array(3*l*4),o.getColorBO()||o.setColorBO(wI.newInstance()),o.getColorBO().setOpenGLRenderWindow(t._openGLRenderWindow)):o.getColorBO()&&o.setColorBO(null),o.setColorComponents(f);var m=new Float32Array(5*l*3);o.setStride(20);for(var g=Math.cos(jS(30)),v=0,h=0,y=0,b=0,x=0;x<l;++x){var w=t.renderable.getRadius();c&&(w=c[x]),v=3*x,m[y++]=u[v++],m[y++]=u[v++],m[y++]=u[v++],m[y++]=-2*w*g,m[y++]=-w,d&&(h=x*f,p[b++]=d[h],p[b++]=d[h+1],p[b++]=d[h+2],p[b++]=d[h+3]),v=3*x,m[y++]=u[v++],m[y++]=u[v++],m[y++]=u[v++],m[y++]=2*w*g,m[y++]=-w,d&&(p[b++]=d[h],p[b++]=d[h+1],p[b++]=d[h+2],p[b++]=d[h+3]),v=3*x,m[y++]=u[v++],m[y++]=u[v++],m[y++]=u[v++],m[y++]=0,m[y++]=2*w,d&&(p[b++]=d[h],p[b++]=d[h+1],p[b++]=d[h+2],p[b++]=d[h+3])}o.setElementCount(y/5),o.upload(m,mI.ARRAY_BUFFER),a&&o.getColorBO().upload(p,mI.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var uL={};function cL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,uL,n),hD.extend(e,t,n),lL(e,t)}var dL=eS(cL,"vtkOpenGLSphereMapper"),fL={newInstance:dL,extend:cL};uO("vtkSphereMapper",dL);var pL="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkStickMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Sticks\n\nattribute vec4 vertexMC;\nattribute vec3 orientMC;\nattribute vec4 offsetMC;\nattribute float radiusMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n//VTK::Picking::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying float lengthVCVSOutput;\nvarying vec3 centerVCVSOutput;\nvarying vec3 orientVCVSOutput;\n\nuniform int cameraParallel;\n\nvoid main()\n{\n  //VTK::Picking::Impl\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = radiusMC;\n  lengthVCVSOutput = length(orientMC);\n  orientVCVSOutput = normalMatrix * normalize(orientMC);\n\n  // make sure it is pointing out of the screen\n  if (orientVCVSOutput.z < 0.0)\n    {\n    orientVCVSOutput = -orientVCVSOutput;\n    }\n\n  // make the basis\n  vec3 xbase;\n  vec3 ybase;\n  vec3 dir = vec3(0.0,0.0,1.0);\n  if (cameraParallel == 0)\n    {\n    dir = normalize(-vertexVCVSOutput.xyz);\n    }\n  if (abs(dot(dir,orientVCVSOutput)) == 1.0)\n    {\n    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));\n    ybase = cross(xbase,orientVCVSOutput);\n    }\n  else\n    {\n    xbase = normalize(cross(orientVCVSOutput,dir));\n    ybase = cross(orientVCVSOutput,xbase);\n    }\n\n  vec3 offsets = offsetMC.xyz*2.0-1.0;\n  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +\n    radiusVCVSOutput*offsets.x*xbase +\n    radiusVCVSOutput*offsets.y*ybase +\n    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;\n\n  gl_Position = VCPCMatrix * vertexVCVSOutput;\n}\n";function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gL=RC;function vL(e,t){t.classHierarchy.push("vtkOpenGLStickMapper");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mL(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=pL,e.Fragment=Q_,e.Geometry=""},e.replaceShaderValues=function(e,r,a){var o=e.Vertex,i=e.Fragment;o=NI.substitute(o,"//VTK::Camera::Dec",["uniform mat4 VCPCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,i=NI.substitute(i,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,i=NI.substitute(i,"//VTK::PositionVC::Impl","  vec4 vertexVC = vertexVCVSOutput;\n").result;i=NI.substitute(i,"//VTK::Normal::Dec",["uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 orientVCVSOutput;\n","varying float lengthVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCPCMatrix;\n"]).result;var s="";t.context.getExtension("EXT_frag_depth")&&(s="  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),t._openGLRenderWindow.getWebgl2()&&(s="gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;\n"),i=NI.substitute(i,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  vec3 base1;\n","  if (abs(orientVCVSOutput.z) < 0.99) {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }\n","  else {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }\n","  vec3 base2 = cross(orientVCVSOutput,base1);\n","  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));\n","  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;\n","  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);\n","  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;\n","  float d = b*b - 4.0*a*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t =  (-b - sqrt(d))/(2.0*a);\n","    float tz = EyePos.z + t*EyeDir.z;\n","    vec3 iPoint = EyePos + t*EyeDir;\n","    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {\n","      float t2 = (-b + sqrt(d))/(2.0*a);\n","      float tz2 = EyePos.z + t2*EyeDir.z;\n","      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }\n","      else {\n","        normalVCVSOutput = orientVCVSOutput;\n","        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;\n","        iPoint = EyePos + t3*EyeDir;\n","        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","        }\n","      }\n","    else {\n","      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;\n","      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","      }\n","    }\n","  vec4 pos = VCPCMatrix * vertexVC;\n",s]).result,i=NI.substitute(i,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(i=NI.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=o,e.Fragment=i,n.replaceShaderValues(e,r,a)},e.setMapperShaderParameters=function(e,r,a){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getProgram().isAttributeUsed("orientMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"orientMC",12,e.getCABO().getStride(),t.context.FLOAT,3,!1)||gL("Error setting 'orientMC' in shader VAO.")),e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO().getColorBO(),"offsetMC",0,e.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,3,!0)||gL("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isAttributeUsed("radiusMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"radiusMC",24,e.getCABO().getStride(),t.context.FLOAT,1,!1)||gL("Error setting 'radiusMC' in shader VAO."))),n.setMapperShaderParameters(e,r,a)},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),o=n.getActiveCamera(),i=t.openGLCamera.getKeyMatrices(n);if(a.isUniformUsed("VCPCMatrix")&&a.setUniformMatrix("VCPCMatrix",i.vcpc),r.getIsIdentity())a.isUniformUsed("MCVCMatrix")&&a.setUniformMatrix("MCVCMatrix",i.wcvc),a.isUniformUsed("normalMatrix")&&a.setUniformMatrix3x3("normalMatrix",i.normalMatrix);else{var s=t.openGLActor.getKeyMatrices();if(a.isUniformUsed("MCVCMatrix")){var l=new Float64Array(16);jA(l,i.wcvc,s.mcwc),a.setUniformMatrix("MCVCMatrix",l)}if(a.isUniformUsed("normalMatrix")){var u=new Float64Array(9);FE(u,i.normalMatrix,s.normalMatrix),a.setUniformMatrix3x3("normalMatrix",u)}}a.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",o.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var a=t.renderable.getColorMapColors(),o=t.primitives[t.primTypes.Tris].getCABO(),i=r.getPointData(),s=r.getPoints(),l=s.getNumberOfPoints(),u=s.getData();4;var c=null,d=0;o.setColorBOStride(4),o.getColorBO()||o.setColorBO(wI.newInstance()),o.getColorBO().setOpenGLRenderWindow(t._openGLRenderWindow),a&&(d=a.getNumberOfComponents(),o.setColorOffset(4),c=a.getData(),o.setColorBOStride(8)),o.setColorComponents(d),o.setStride(28);var f=new Float32Array(7*l*12),p=new Uint8Array(12*l*(c?8:4)),m=null,g=null;null!=t.renderable.getScaleArray()&&i.hasArray(t.renderable.getScaleArray())&&(m=i.getArray(t.renderable.getScaleArray()).getData()),null!=t.renderable.getOrientationArray()&&i.hasArray(t.renderable.getOrientationArray())?g=i.getArray(t.renderable.getOrientationArray()).getData():gL(["Error setting orientationArray.\n","You have to specify the stick orientation"]);for(var v=[0,1,3,0,3,2,2,3,5,2,5,4],h=0,y=0,b=0,x=0,w=0;w<l;++w){var C=t.renderable.getLength(),S=t.renderable.getRadius();m&&(C=m[2*w],S=m[2*w+1]);for(var T=0;T<v.length;++T)h=3*w,f[b++]=u[h++],f[b++]=u[h++],f[b++]=u[h++],h=3*w,f[b++]=g[h++]*C,f[b++]=g[h++]*C,f[b++]=g[h++]*C,f[b++]=S,p[x++]=v[T]%2*255,p[x++]=v[T]>=4?255:0,p[x++]=v[T]>=2?255:0,p[x++]=255,y=w*d,c&&(p[x++]=c[y],p[x++]=c[y+1],p[x++]=c[y+2],p[x++]=c[y+3])}o.setElementCount(b/7),o.upload(f,mI.ARRAY_BUFFER),o.getColorBO().upload(p,mI.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}var hL={};function yL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hL,n),hD.extend(e,t,n),vL(e,t)}var bL=eS(yL,"vtkOpenGLStickMapper"),xL={newInstance:bL,extend:yL};uO("vtkStickMapper",bL);var wL={};function CL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,wL,n),aO.extend(e,t,n),t.keyMatrixTime={},jC(t.keyMatrixTime,{mtime:0}),t.normalMatrix=new Float64Array(9),t.MCWCMatrix=new Float64Array(16),qC(e,t,["context"]),function(e,t){t.classHierarchy.push("vtkOpenGLVolume"),e.buildPass=function(n){t.renderable&&t.renderable.getVisibility()&&n&&(t._openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementVolumeCount()}},e.traverseVolumePass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&(!t._openGLRenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.children[0].traverse(n),e.apply(n,!1))},e.volumePass=function(e){t.renderable&&t.renderable.getVisibility()&&t.context.depthMask(!e)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),_A(t.MCWCMatrix,t.renderable.getMatrix()),NA(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?DE(t.normalMatrix):(IE(t.normalMatrix,t.MCWCMatrix),VE(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}}}(e,t)}var SL=eS(CL,"vtkOpenGLVolume"),TL={newInstance:SL,extend:CL};uO("vtkVolume",SL);var PL={NEAREST:0,LINEAR:1,FAST_LINEAR:2},OL={FRACTIONAL:0,PROPORTIONAL:1},AL={InterpolationType:PL,OpacityMode:OL},EL={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4,RADON_TRANSFORM_BLEND:5},IL=EL,RL={OFF:0,NORMALIZED:1,RAW:2},kL="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexDC;\n\nvarying vec3 vertexVCVSOutput;\nuniform mat4 PCVCMatrix;\n\nuniform float dcxmin;\nuniform float dcxmax;\nuniform float dcymin;\nuniform float dcymax;\n\nvoid main()\n{\n  // dcsmall is the device coords reduced to the\n  // x y area covered by the volume\n  vec4 dcsmall = vec4(\n    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),\n    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),\n    vertexDC.z,\n    vertexDC.w);\n  vec4 vcpos = PCVCMatrix * dcsmall;\n  vertexVCVSOutput = vcpos.xyz/vcpos.w;\n  gl_Position = dcsmall;\n}\n",ML="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkVolumeFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the volume mappers fragment shader\n\n// the output of this shader\n//VTK::Output::Dec\n\nvarying vec3 vertexVCVSOutput;\n\n// first declare the settings from the mapper\n// that impact the code paths in here\n\n// always set vtkNumComponents 1,2,3,4\n//VTK::NumComponents\n\n// possibly define vtkTrilinearOn\n//VTK::TrilinearOn\n\n// possibly define vtkIndependentComponents\n//VTK::IndependentComponentsOn\n\n// possibly define any \"proportional\" components\n//VTK::vtkProportionalComponents\n\n// Define the blend mode to use\n#define vtkBlendMode //VTK::BlendMode\n\n// Possibly define vtkImageLabelOutlineOn\n//VTK::ImageLabelOutlineOn\n\n#ifdef vtkImageLabelOutlineOn\nuniform int outlineThickness;\nuniform float outlineOpacity;\nuniform float vpWidth;\nuniform float vpHeight;\nuniform float vpOffsetX;\nuniform float vpOffsetY;\nuniform mat4 PCWCMatrix;\nuniform mat4 vWCtoIDX;\n#endif\n\n// define vtkLightComplexity\n//VTK::LightComplexity\n#if vtkLightComplexity > 0\nuniform float vSpecularPower;\nuniform float vAmbient;\nuniform float vDiffuse;\nuniform float vSpecular;\n//VTK::Light::Dec\n#endif\n\n//VTK::VolumeShadowOn\n//VTK::SurfaceShadowOn\n//VTK::localAmbientOcclusionOn\n//VTK::LAO::Dec\n//VTK::VolumeShadow::Dec\n\n// define vtkComputeNormalFromOpacity\n//VTK::vtkComputeNormalFromOpacity\n\n// possibly define vtkGradientOpacityOn\n//VTK::GradientOpacityOn\n#ifdef vtkGradientOpacityOn\nuniform float goscale0;\nuniform float goshift0;\nuniform float gomin0;\nuniform float gomax0;\n#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\nuniform float goscale1;\nuniform float goshift1;\nuniform float gomin1;\nuniform float gomax1;\n#if vtkNumComponents >= 3\nuniform float goscale2;\nuniform float goshift2;\nuniform float gomin2;\nuniform float gomax2;\n#endif\n#if vtkNumComponents >= 4\nuniform float goscale3;\nuniform float goshift3;\nuniform float gomin3;\nuniform float gomax3;\n#endif\n#endif\n#endif\n\n// if you want to see the raw tiled\n// data in webgl1 uncomment the following line\n// #define debugtile\n\n// camera values\nuniform float camThick;\nuniform float camNear;\nuniform float camFar;\nuniform int cameraParallel;\n\n// values describing the volume geometry\nuniform vec3 vOriginVC;\nuniform vec3 vSpacing;\nuniform ivec3 volumeDimensions; // 3d texture dimensions\nuniform vec3 vPlaneNormal0;\nuniform float vPlaneDistance0;\nuniform vec3 vPlaneNormal1;\nuniform float vPlaneDistance1;\nuniform vec3 vPlaneNormal2;\nuniform float vPlaneDistance2;\nuniform vec3 vPlaneNormal3;\nuniform float vPlaneDistance3;\nuniform vec3 vPlaneNormal4;\nuniform float vPlaneDistance4;\nuniform vec3 vPlaneNormal5;\nuniform float vPlaneDistance5;\n\n//VTK::ClipPlane::Dec\n\n// opacity and color textures\nuniform sampler2D otexture;\nuniform float oshift0;\nuniform float oscale0;\nuniform sampler2D ctexture;\nuniform float cshift0;\nuniform float cscale0;\n\n// jitter texture\nuniform sampler2D jtexture;\n\n// some 3D texture values\nuniform float sampleDistance;\nuniform vec3 vVCToIJK;\n\n// the heights defined below are the locations\n// for the up to four components of the tfuns\n// the tfuns have a height of 2XnumComps pixels so the\n// values are computed to hit the middle of the two rows\n// for that component\n#ifdef vtkIndependentComponentsOn\n#if vtkNumComponents == 2\nuniform float mix0;\nuniform float mix1;\n#define height0 0.25\n#define height1 0.75\n#endif\n#if vtkNumComponents == 3\nuniform float mix0;\nuniform float mix1;\nuniform float mix2;\n#define height0 0.17\n#define height1 0.5\n#define height2 0.83\n#endif\n#if vtkNumComponents == 4\nuniform float mix0;\nuniform float mix1;\nuniform float mix2;\nuniform float mix3;\n#define height0 0.125\n#define height1 0.375\n#define height2 0.625\n#define height3 0.875\n#endif\n#endif\n\n#if vtkNumComponents >= 2\nuniform float oshift1;\nuniform float oscale1;\nuniform float cshift1;\nuniform float cscale1;\n#endif\n#if vtkNumComponents >= 3\nuniform float oshift2;\nuniform float oscale2;\nuniform float cshift2;\nuniform float cscale2;\n#endif\n#if vtkNumComponents >= 4\nuniform float oshift3;\nuniform float oscale3;\nuniform float cshift3;\nuniform float cscale3;\n#endif\n\nuniform vec4 ipScalarRangeMin;\nuniform vec4 ipScalarRangeMax;\n\n// declaration for intermixed geometry\n//VTK::ZBuffer::Dec\n\n//=======================================================================\n// global and custom variables (a temporary section before photorealistics rendering module is complete)\nvec3 rayDirVC;\nfloat sampleDistanceISVS;\nfloat sampleDistanceIS;\n\n#define SQRT3    1.7321\n#define INV4PI   0.0796\n#define EPSILON  0.001\n#define PI       3.1415\n#define PI2      9.8696\n\n//=======================================================================\n// Webgl2 specific version of functions\n#if __VERSION__ == 300\n\nuniform highp sampler3D texture1;\n\nvec4 getTextureValue(vec3 pos)\n{\n  vec4 tmp = texture(texture1, pos);\n#if vtkNumComponents == 1\n  tmp.a = tmp.r;\n#endif\n#if vtkNumComponents == 2\n  tmp.a = tmp.g;\n#endif\n#if vtkNumComponents == 3\n  tmp.a = length(tmp.rgb);\n#endif\n  return tmp;\n}\n\n//=======================================================================\n// WebGL1 specific version of functions\n#else\n\nuniform sampler2D texture1;\n\nuniform float texWidth;\nuniform float texHeight;\nuniform int xreps;\nuniform int xstride;\nuniform int ystride;\n\n// if computing trilinear values from multiple z slices\n#ifdef vtkTrilinearOn\nvec4 getTextureValue(vec3 ijk)\n{\n  float zoff = 1.0/float(volumeDimensions.z);\n  vec4 val1 = getOneTextureValue(ijk);\n  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));\n\n  float indexZ = float(volumeDimensions)*ijk.z;\n  float zmix =  indexZ - floor(indexZ);\n\n  return mix(val1, val2, zmix);\n}\n\nvec4 getOneTextureValue(vec3 ijk)\n#else // nearest or fast linear\nvec4 getTextureValue(vec3 ijk)\n#endif\n{\n  vec3 tdims = vec3(volumeDimensions);\n\n#ifdef debugtile\n  vec2 tpos = vec2(ijk.x, ijk.y);\n  vec4 tmp = texture2D(texture1, tpos);\n  tmp.a = 1.0;\n\n#else\n  int z = int(ijk.z * tdims.z);\n  int yz = z / xreps;\n  int xz = z - yz*xreps;\n\n  int tileWidth = volumeDimensions.x/xstride;\n  int tileHeight = volumeDimensions.y/ystride;\n\n  xz *= tileWidth;\n  yz *= tileHeight;\n\n  float ni = float(xz) + (ijk.x*float(tileWidth));\n  float nj = float(yz) + (ijk.y*float(tileHeight));\n\n  vec2 tpos = vec2(ni/texWidth, nj/texHeight);\n\n  vec4 tmp = texture2D(texture1, tpos);\n\n#if vtkNumComponents == 1\n  tmp.a = tmp.r;\n#endif\n#if vtkNumComponents == 2\n  tmp.g = tmp.a;\n#endif\n#if vtkNumComponents == 3\n  tmp.a = length(tmp.rgb);\n#endif\n#endif\n\n  return tmp;\n}\n\n// End of Webgl1 specific code\n//=======================================================================\n#endif\n\n//=======================================================================\n// transformation between VC and IS space\n\n// convert vector position from idx to vc\n#if vtkLightComplexity > 0\nvec3 IStoVC(vec3 posIS){\n  vec3 posVC = posIS / vVCToIJK;\n  return posVC.x * vPlaneNormal0 +\n         posVC.y * vPlaneNormal2 +\n         posVC.z * vPlaneNormal4 +\n         vOriginVC;\n}\n\n// convert vector position from vc to idx\nvec3 VCtoIS(vec3 posVC){\n  posVC = posVC - vOriginVC;\n  posVC = vec3(\n    dot(posVC, vPlaneNormal0),\n    dot(posVC, vPlaneNormal2),\n    dot(posVC, vPlaneNormal4));\n  return posVC * vVCToIJK;\n}\n#endif\n\n//Rotate vector to view coordinate\n#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)\nvoid rotateToViewCoord(inout vec3 dirIS){\n  dirIS.xyz =\n    dirIS.x * vPlaneNormal0 +\n    dirIS.y * vPlaneNormal2 +\n    dirIS.z * vPlaneNormal4;\n}\n\n//Rotate vector to idx coordinate\nvec3 rotateToIDX(vec3 dirVC){\n  vec3 dirIS;\n  dirIS.xyz = vec3(\n    dot(dirVC, vPlaneNormal0),\n    dot(dirVC, vPlaneNormal2),\n    dot(dirVC, vPlaneNormal4));\n  return dirIS;\n}\n#endif\n\n//=======================================================================\n// Given a normal compute the gradient opacity factors\nfloat computeGradientOpacityFactor(\n  float normalMag, float goscale, float goshift, float gomin, float gomax)\n{\n#if defined(vtkGradientOpacityOn)\n  return clamp(normalMag * goscale + goshift, gomin, gomax);\n#else\n  return 1.0;\n#endif\n}\n\n//=======================================================================\n// compute the normal and gradient magnitude for a position, uses forward difference\n#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)\n  #ifdef vtkComputeNormalFromOpacity\n    #ifdef vtkGradientOpacityOn\n      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out mat3 scalarInterp, out vec3 secondaryGradientMag)\n      {\n        vec4 result;\n        scalarInterp[0][0] = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a;\n        scalarInterp[0][1] = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a;\n        scalarInterp[0][2] = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a;\n        // look up scalar values for computing secondary gradient\n        scalarInterp[1][0] = getTextureValue(pos + vec3(2.0*tstep.x, 0.0, 0.0)).a;\n        scalarInterp[1][1] = getTextureValue(pos + vec3(0.0, 2.0*tstep.y, 0.0)).a;\n        scalarInterp[1][2] = getTextureValue(pos + vec3(0.0, 0.0, 2.0*tstep.z)).a;\n        scalarInterp[2][0] = getTextureValue(pos + vec3(tstep.x, tstep.y, 0.0)).a;\n        scalarInterp[2][1] = getTextureValue(pos + vec3(tstep.x, 0.0, tstep.z)).a;\n        scalarInterp[2][2] = getTextureValue(pos + vec3(0.0, tstep.y, tstep.z)).a;\n        result.x = scalarInterp[0][0] - scalar;\n        result.y = scalarInterp[0][1] - scalar;\n        result.z = scalarInterp[0][2] - scalar;\n        // divide by spacing\n        result.xyz /= vSpacing;\n        result.w = length(result.xyz);\n        rotateToViewCoord(result.xyz);\n        secondaryGradientMag.x = length(vec3(scalarInterp[1][0] - scalarInterp[0][0],\n                                             scalarInterp[2][0] - scalarInterp[0][0],\n                                             scalarInterp[2][1] - scalarInterp[0][0]) / vSpacing);\n        secondaryGradientMag.y = length(vec3(scalarInterp[2][0] - scalarInterp[0][1],\n                                             scalarInterp[1][1] - scalarInterp[0][1],\n                                             scalarInterp[2][2] - scalarInterp[0][1]) / vSpacing);\n        secondaryGradientMag.z = length(vec3(scalarInterp[2][1] - scalarInterp[0][2],\n                                             scalarInterp[2][2] - scalarInterp[0][2],\n                                             scalarInterp[1][2] - scalarInterp[0][2]) / vSpacing);\n        if (length(result.xyz) > 0.0) {\n          return vec4(normalize(result.xyz),result.w);\n        } else {\n          return vec4(0.0);\n        }\n      }\n\n      vec4 computeDensityNormal(float scalar, float gradientMag, mat3 scalarInterp, vec3 secondaryGradientMag)\n      {\n        vec4 opacityG;\n        vec3 opacityInterp = vec3(0.0);\n        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r;\n        if (gradientMag >= 0.0){\n          opacity *= computeGradientOpacityFactor(gradientMag, goscale0, goshift0, gomin0, gomax0);\n        }\n        opacityInterp.x = texture2D(otexture, vec2(scalarInterp[0][0] * oscale0 + oshift0, 0.5)).r;\n        if (secondaryGradientMag.x >= 0.0){\n          opacityInterp.x *= computeGradientOpacityFactor(secondaryGradientMag.x, goscale0, goshift0, gomin0, gomax0);\n        }\n\n        opacityInterp.y = texture2D(otexture, vec2(scalarInterp[0][1] * oscale0 + oshift0, 0.5)).r;\n        if (secondaryGradientMag.y >= 0.0){\n          opacityInterp.y *= computeGradientOpacityFactor(secondaryGradientMag.y, goscale0, goshift0, gomin0, gomax0);\n        }\n\n        opacityInterp.z = texture2D(otexture, vec2(scalarInterp[0][2] * oscale0 + oshift0, 0.5)).r;\n        if (secondaryGradientMag.z >= 0.0){\n          opacityInterp.z *= computeGradientOpacityFactor(secondaryGradientMag.z, goscale0, goshift0, gomin0, gomax0);\n        }\n\n        opacityG.xyz = opacityInterp - vec3(opacity,opacity,opacity);\n        // divide by spacing\n        opacityG.xyz /= vSpacing;\n        opacityG.w = length(opacityG.xyz);\n        rotateToViewCoord(opacityG.xyz);\n        if (length(opacityG.xyz) > 0.0) {\n          return vec4(normalize(opacityG.xyz),opacityG.w);\n        } else {\n          return vec4(0.0);\n        }\n      }\n\n    #else\n    //if gradient opacity not on but using density gradient\n      vec4 computeDensityNormal(float scalar, vec3 scalarInterp)\n      {\n        vec4 opacityG;\n        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r;\n        opacityG.x = texture2D(otexture, vec2(scalarInterp.x * oscale0 + oshift0, 0.5)).r - opacity;\n        opacityG.y = texture2D(otexture, vec2(scalarInterp.y * oscale0 + oshift0, 0.5)).r - opacity;\n        opacityG.z = texture2D(otexture, vec2(scalarInterp.z * oscale0 + oshift0, 0.5)).r - opacity;\n        // divide by spacing\n        opacityG.xyz /= vSpacing;\n        opacityG.w = length(opacityG.xyz);\n        // rotate to View Coords\n        rotateToViewCoord(opacityG.xyz);\n        if (length(opacityG.xyz) > 0.0) {\n          return vec4(normalize(opacityG.xyz),opacityG.w);\n        } else {\n          return vec4(0.0);\n        }\n      }\n      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out vec3 scalarInterp)\n      {\n        vec4 result;\n        scalarInterp.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a;\n        scalarInterp.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a;\n        scalarInterp.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a;\n        result.x = scalarInterp.x - scalar;\n        result.y = scalarInterp.y - scalar;\n        result.z = scalarInterp.z - scalar;\n        // divide by spacing\n        result.xyz /= vSpacing;\n        result.w = length(result.xyz);\n        // rotate to View Coords\n        rotateToViewCoord(result.xyz);\n        if (length(result.xyz) > 0.0) {\n          return vec4(normalize(result.xyz),result.w);\n        } else {\n          return vec4(0.0);\n        }\n      }\n    #endif\n  #endif\n  // compute scalar density\n  vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)\n  {\n    vec4 result;\n    result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;\n    result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;\n    result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;\n    // divide by spacing\n    result.xyz /= vSpacing;\n    result.w = length(result.xyz);\n    if (result.w > 0.0){\n      // rotate to View Coords\n      rotateToViewCoord(result.xyz);\n      return vec4(normalize(result.xyz),result.w);\n    } else {\n      return vec4(0.0);\n    }\n  }\n#endif\n\n#ifdef vtkImageLabelOutlineOn\nvec3 fragCoordToIndexSpace(vec4 fragCoord) {\n  vec4 pcPos = vec4(\n    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,\n    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,\n    (fragCoord.z - 0.5) * 2.0,\n    1.0);\n\n  vec4 worldCoord = PCWCMatrix * pcPos;\n  vec4 vertex = (worldCoord/worldCoord.w);\n\n  vec3 index = (vWCtoIDX * vertex).xyz;\n\n  // half voxel fix for labelmapOutline\n  return (index + vec3(0.5)) / vec3(volumeDimensions);\n}\n#endif\n\n//=======================================================================\n// compute the normals and gradient magnitudes for a position\n// for independent components\nmat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)\n{\n  mat4 result;\n  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;\n  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;\n  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;\n\n  // divide by spacing\n  distX /= vSpacing.x;\n  distY /= vSpacing.y;\n  distZ /= vSpacing.z;\n\n  mat3 rot;\n  rot[0] = vPlaneNormal0;\n  rot[1] = vPlaneNormal2;\n  rot[2] = vPlaneNormal4;\n\n#if !defined(vtkComponent0Proportional)\n  result[0].xyz = vec3(distX.r, distY.r, distZ.r);\n  result[0].a = length(result[0].xyz);\n  result[0].xyz *= rot;\n  if (result[0].w > 0.0)\n  {\n    result[0].xyz /= result[0].w;\n  }\n#endif\n\n// optionally compute the 2nd component\n#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)\n  result[1].xyz = vec3(distX.g, distY.g, distZ.g);\n  result[1].a = length(result[1].xyz);\n  result[1].xyz *= rot;\n  if (result[1].w > 0.0)\n  {\n    result[1].xyz /= result[1].w;\n  }\n#endif\n\n// optionally compute the 3rd component\n#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)\n  result[2].xyz = vec3(distX.b, distY.b, distZ.b);\n  result[2].a = length(result[2].xyz);\n  result[2].xyz *= rot;\n  if (result[2].w > 0.0)\n  {\n    result[2].xyz /= result[2].w;\n  }\n#endif\n\n// optionally compute the 4th component\n#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)\n  result[3].xyz = vec3(distX.a, distY.a, distZ.a);\n  result[3].a = length(result[3].xyz);\n  result[3].xyz *= rot;\n  if (result[3].w > 0.0)\n  {\n    result[3].xyz /= result[3].w;\n  }\n#endif\n\n  return result;\n}\n\n//=======================================================================\n// global shadow - secondary ray\n#if defined(VolumeShadowOn) || defined(localAmbientOcclusionOn)\nfloat random()\n{\n  float rand = fract(sin(dot(gl_FragCoord.xy,vec2(12.9898,78.233)))*43758.5453123);\n  float jitter=texture2D(jtexture,gl_FragCoord.xy/32.).r;\n  uint pcg_state = floatBitsToUint(jitter);\n  uint state = pcg_state;\n  pcg_state = pcg_state * uint(747796405) + uint(2891336453);\n  uint word = ((state >> ((state >> uint(28)) + uint(4))) ^ state) * uint(277803737);\n  return (float((((word >> uint(22)) ^ word) >> 1 ))/float(2147483647) + rand)/2.0;\n}\n#endif\n\n#ifdef VolumeShadowOn\n// henyey greenstein phase function\nfloat phase_function(float cos_angle)\n{\n  // divide by 2.0 instead of 4pi to increase intensity\n  return ((1.0-anisotropy2)/pow(1.0+anisotropy2-2.0*anisotropy*cos_angle, 1.5))/2.0;\n}\n\n// Computes the intersection between a ray and a box\nstruct Hit\n{\n  float tmin;\n  float tmax;\n};\n\nstruct Ray\n{\n  vec3 origin;\n  vec3 dir;\n  vec3 invDir;\n};\n\nbool BBoxIntersect(vec3 boundMin, vec3 boundMax, const Ray r, out Hit hit)\n{\n  vec3 tbot = r.invDir * (boundMin - r.origin);\n  vec3 ttop = r.invDir * (boundMax - r.origin);\n  vec3 tmin = min(ttop, tbot);\n  vec3 tmax = max(ttop, tbot);\n  vec2 t = max(tmin.xx, tmin.yz);\n  float t0 = max(t.x, t.y);\n  t = min(tmax.xx, tmax.yz);\n  float t1 = min(t.x, t.y);\n  hit.tmin = t0;\n  hit.tmax = t1;\n  return t1 > max(t0,0.0);\n}\n\n// As BBoxIntersect requires the inverse of the ray coords,\n// this function is used to avoid numerical issues\nvoid safe_0_vector(inout Ray ray)\n{\n  if(abs(ray.dir.x) < EPSILON) ray.dir.x = sign(ray.dir.x) * EPSILON;\n  if(abs(ray.dir.y) < EPSILON) ray.dir.y = sign(ray.dir.y) * EPSILON;\n  if(abs(ray.dir.z) < EPSILON) ray.dir.z = sign(ray.dir.z) * EPSILON;\n}\n\nfloat volume_shadow(vec3 posIS, vec3 lightDirNormIS)\n{\n  float shadow = 1.0;\n  float opacity = 0.0;\n\n  // modify sample distance with a random number between 1.5 and 3.0\n  float sampleDistanceISVS_jitter = sampleDistanceISVS * mix(1.5, 3.0, random());\n  float opacityPrev = texture2D(otexture, vec2(getTextureValue(posIS).r * oscale0 + oshift0, 0.5)).r;\n\n  // in case the first sample near surface has a very tiled light ray, we need to offset start position\n  posIS += sampleDistanceISVS_jitter * lightDirNormIS;\n\n  // compute the start and end points for the ray\n  Ray ray;\n  Hit hit;\n  ray.origin = posIS;\n  ray.dir = lightDirNormIS;\n  safe_0_vector(ray);\n  ray.invDir = 1.0/ray.dir;\n\n  if(!BBoxIntersect(vec3(0.0),vec3(1.0), ray, hit))\n  {\n    return 1.0;\n  }\n  float maxdist = hit.tmax;\n\n  // interpolate shadow ray length between: 1 unit of sample distance in IS to SQRT3, based on globalIlluminationReach\n  float maxgi = mix(sampleDistanceISVS_jitter,SQRT3,giReach);\n  maxdist = min(maxdist,maxgi);\n  if(maxdist < EPSILON) {\n    return 1.0;\n  }\n\n  // support gradient opacity\n  #ifdef vtkGradientOpacityOn\n    vec4 normal;\n  #endif\n\n  float current_dist = 0.0;\n  float current_step = length(sampleDistanceISVS_jitter * lightDirNormIS);\n  float clamped_step = 0.0;\n\n  vec4 scalar = vec4(0.0);\n  while(current_dist < maxdist)\n  {\n    scalar = getTextureValue(posIS);\n    opacity = texture2D(otexture, vec2(scalar.r * oscale0 + oshift0, 0.5)).r;\n    #ifdef vtkGradientOpacityOn\n      normal = computeNormal(posIS, scalar.a, vec3(1.0/vec3(volumeDimensions)));\n      opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);\n    #endif\n    shadow *= 1.0 - opacity;\n\n    // optimization: early termination\n    if (shadow < EPSILON){\n      return 0.0;\n    }\n\n    clamped_step = min(maxdist - current_dist, current_step);\n    posIS += clamped_step * lightDirNormIS;\n    current_dist += current_step;\n  }\n\n  return shadow;\n}\n\nvec3 applyShadowRay(vec3 tColor, vec3 posIS, vec3 viewDirectionVC)\n{\n  vec3 vertLight = vec3(0.0);\n  vec3 secondary_contrib = vec3(0.0);\n  // here we assume only positional light, no effect of cones\n  for (int i = 0; i < lightNum; i++)\n  {\n    #if(vtkLightComplexity==3)\n      if (lightPositional[i] == 1){\n        vertLight = lightPositionVC[i] - IStoVC(posIS);\n      }else{\n        vertLight = - lightDirectionVC[i];\n      }\n    #else\n      vertLight = - lightDirectionVC[i];\n    #endif\n    // here we assume achromatic light, only intensity\n    float dDotL = dot(viewDirectionVC, normalize(vertLight));\n    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity\n    float phase_attenuation = 0.5;\n    if (abs(anisotropy) > EPSILON){\n      phase_attenuation = phase_function(dDotL);\n    }\n    float vol_shadow = volume_shadow(posIS, normalize(rotateToIDX(vertLight)));\n    secondary_contrib += tColor * vDiffuse * lightColor[i] * vol_shadow * phase_attenuation;\n    secondary_contrib += tColor * vAmbient;\n  }\n  return secondary_contrib;\n}\n#endif\n\n//=======================================================================\n// local ambient occlusion\n#ifdef localAmbientOcclusionOn\nvec3 sample_direction_uniform(int i)\n{\n  float rand = random() * 0.5;\n  float theta = PI2 * (kernelSample[i][0] + rand);\n  float phi = acos(2.0 * (kernelSample[i][1] + rand) -1.0) / 2.5;\n  return normalize(vec3(cos(theta)*sin(phi), sin(theta)*sin(phi), cos(phi)));\n}\n\n// return a matrix that transform startDir into z axis; startDir should be normalized\nmat3 zBaseRotationalMatrix(vec3 startDir){\n  vec3 axis = cross(startDir, vec3(0.0,0.0,1.0));\n  float cosA = startDir.z;\n  float k = 1.0 / (1.0 + cosA);\n  mat3 matrix = mat3((axis.x * axis.x * k) + cosA, (axis.y * axis.x * k) - axis.z, (axis.z * axis.x * k) + axis.y,\n              (axis.x * axis.y * k) + axis.z, (axis.y * axis.y * k) + cosA, (axis.z * axis.y * k) - axis.x,\n              (axis.x * axis.z * k) - axis.y, (axis.y * axis.z * k) + axis.x, (axis.z * axis.z * k) + cosA);\n  return matrix;\n}\n\nfloat computeLAO(vec3 posIS, float op, vec3 lightDir, vec4 normal){\n  // apply LAO only at selected locations, otherwise return full brightness\n  if (normal.w > 0.0 && op > 0.05){\n    float total_transmittance = 0.0;\n    mat3 inverseRotateBasis = inverse(zBaseRotationalMatrix(normalize(-normal.xyz)));\n    vec3 currPos, randomDirStep;\n    float weight, transmittance, opacity;\n    for (int i = 0; i < kernelSize; i++)\n    {\n      randomDirStep = inverseRotateBasis * sample_direction_uniform(i) * sampleDistanceIS;\n      weight = 1.0 - dot(normalize(lightDir), normalize(randomDirStep));\n      currPos = posIS;\n      transmittance = 1.0;\n      for (int j = 0; j < kernelRadius ; j++){\n        currPos += randomDirStep;\n        // check if it's at clipping plane, if so return full brightness\n        if (all(greaterThan(currPos, vec3(EPSILON))) && all(lessThan(currPos,vec3(1.0-EPSILON)))){\n          opacity = texture2D(otexture, vec2(getTextureValue(currPos).r * oscale0 + oshift0, 0.5)).r;\n          #ifdef vtkGradientOpacityOn\n             opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);\n          #endif\n          transmittance *= 1.0 - opacity;\n        }\n        else{\n          break;\n        }\n      }\n      total_transmittance += transmittance / float(kernelRadius) * weight;\n\n      // early termination if fully translucent\n      if (total_transmittance > 1.0 - EPSILON){\n        return 1.0;\n      }\n    }\n    // average transmittance and reduce variance\n    return clamp(total_transmittance / float(kernelSize), 0.3, 1.0);\n  } else {\n    return 1.0;\n  }\n}\n#endif\n\n//=======================================================================\n// surface light contribution\n#if vtkLightComplexity > 0\n  void applyLighting(inout vec3 tColor, vec4 normal)\n  {\n    vec3 diffuse = vec3(0.0, 0.0, 0.0);\n    vec3 specular = vec3(0.0, 0.0, 0.0);\n    float df, sf = 0.0;\n    for (int i = 0; i < lightNum; i++){\n        df = abs(dot(normal.rgb, -lightDirectionVC[i]));\n        diffuse += df * lightColor[i];\n        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);\n        specular += sf * lightColor[i];\n    }\n    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;\n  }\n  #ifdef SurfaceShadowOn\n  #if vtkLightComplexity < 3\n    vec3 applyLightingDirectional(vec3 posIS, vec4 tColor, vec4 normal)\n    {\n      // everything in VC\n      vec3 diffuse = vec3(0.0);\n      vec3 specular = vec3(0.0);\n      #ifdef localAmbientOcclusionOn\n        vec3 ambient = vec3(0.0);\n      #endif\n      vec3 vertLightDirection;\n      for (int i = 0; i < lightNum; i++){\n        float ndotL,vdotR;\n        vertLightDirection = lightDirectionVC[i];\n        ndotL = dot(normal.xyz, vertLightDirection);\n        if (ndotL < 0.0 && twoSidedLighting)\n        {\n          ndotL = -ndotL;\n        }\n        if (ndotL > 0.0)\n        {\n          diffuse += ndotL * lightColor[i];\n          //specular\n          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));\n          if (vdotR > 0.0)\n          {\n            specular += pow(vdotR, vSpecularPower) * lightColor[i];\n          }\n        }\n        #ifdef localAmbientOcclusionOn\n            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);\n        #endif\n      }\n      #ifdef localAmbientOcclusionOn\n        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;\n      #else\n        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;\n      #endif\n    }\n  #else\n    vec3 applyLightingPositional(vec3 posIS, vec4 tColor, vec4 normal, vec3 posVC)\n    {\n      // everything in VC\n      vec3 diffuse = vec3(0.0);\n      vec3 specular = vec3(0.0);\n      #ifdef localAmbientOcclusionOn\n        vec3 ambient = vec3(0.0);\n      #endif\n      vec3 vertLightDirection;\n      for (int i = 0; i < lightNum; i++){\n        float distance,attenuation,ndotL,vdotR;\n        vec3 lightDir;\n        if (lightPositional[i] == 1){\n          lightDir = lightDirectionVC[i];\n          vertLightDirection = posVC - lightPositionVC[i];\n          distance = length(vertLightDirection);\n          vertLightDirection = normalize(vertLightDirection);\n          attenuation = 1.0 / (lightAttenuation[i].x\n                              + lightAttenuation[i].y * distance\n                              + lightAttenuation[i].z * distance * distance);\n          // per OpenGL standard cone angle is 90 or less for a spot light\n          if (lightConeAngle[i] <= 90.0){\n            float coneDot = dot(vertLightDirection, lightDir);\n            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone\n              attenuation = attenuation * pow(coneDot, lightExponent[i]);\n            }\n            else {\n              attenuation = 0.0;\n            }\n          }\n          ndotL = dot(normal.xyz, vertLightDirection);\n          if (ndotL < 0.0 && twoSidedLighting)\n          {\n            ndotL = -ndotL;\n          }\n          if (ndotL > 0.0)\n          {\n            diffuse += ndotL * attenuation * lightColor[i];\n            //specular\n            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));\n            if (vdotR > 0.0)\n            {\n              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];\n            }\n          }\n          #ifdef localAmbientOcclusionOn\n            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);\n          #endif\n        } else {\n          vertLightDirection = lightDirectionVC[i];\n          ndotL = dot(normal.xyz, vertLightDirection);\n          if (ndotL < 0.0 && twoSidedLighting)\n          {\n            ndotL = -ndotL;\n          }\n          if (ndotL > 0.0)\n          {\n            diffuse += ndotL * lightColor[i];\n            //specular\n            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));\n            if (vdotR > 0.0)\n            {\n              specular += pow(vdotR, vSpecularPower) * lightColor[i];\n            }\n          }\n          #ifdef localAmbientOcclusionOn\n            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);\n          #endif\n        }\n      }\n      #ifdef localAmbientOcclusionOn\n        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;\n      #else\n        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;\n      #endif\n    }\n  #endif\n  #endif\n#endif\n\n//=======================================================================\n// Given a texture value compute the color and opacity\n//\nvec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)\n{\n#ifdef vtkImageLabelOutlineOn\n  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space\n  vec4 centerValue = getTextureValue(centerPosIS);\n  bool pixelOnBorder = false;\n  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));\n\n  // Get alpha of segment from opacity function.\n  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;\n\n  // Only perform outline check on fragments rendering voxels that aren't invisible.\n  // Saves a bunch of needless checks on the background.\n  // TODO define epsilon when building shader?\n  if (float(tColor.a) > 0.01) {\n    for (int i = -outlineThickness; i <= outlineThickness; i++) {\n      for (int j = -outlineThickness; j <= outlineThickness; j++) {\n        if (i == 0 || j == 0) {\n          continue;\n        }\n\n        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),\n          gl_FragCoord.y + float(j),\n          gl_FragCoord.z, gl_FragCoord.w);\n\n        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);\n        vec4 value = getTextureValue(neighborPosIS);\n\n        // If any of my neighbours are not the same value as I\n        // am, this means I am on the border of the segment.\n        // We can break the loops\n        if (any(notEqual(value, centerValue))) {\n          pixelOnBorder = true;\n          break;\n        }\n      }\n\n      if (pixelOnBorder == true) {\n        break;\n      }\n    }\n\n    // If I am on the border, I am displayed at full opacity\n    if (pixelOnBorder == true) {\n      tColor.a = outlineOpacity;\n    }\n  }\n\n#else\n  // compute the normal and gradient magnitude if needed\n  // We compute it as a vec4 if possible otherwise a mat4\n  //\n  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);\n\n  // compute the normal vectors as needed\n  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)\n    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\n      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);\n      #if !defined(vtkComponent0Proportional)\n        vec4 normal0 = normalMat[0];\n      #endif\n      #if !defined(vtkComponent1Proportional)\n        vec4 normal1 = normalMat[1];\n      #endif\n      #if vtkNumComponents > 2\n        #if !defined(vtkComponent2Proportional)\n          vec4 normal2 = normalMat[2];\n        #endif\n        #if vtkNumComponents > 3\n          #if !defined(vtkComponent3Proportional)\n            vec4 normal3 = normalMat[3];\n          #endif\n        #endif\n      #endif\n    #else\n      vec4 normalLight;\n      #ifdef vtkComputeNormalFromOpacity\n        #ifdef vtkGradientOpacityOn\n          mat3 scalarInterp;\n          vec3 secondaryGradientMag;\n          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp, secondaryGradientMag);\n          normalLight = computeDensityNormal(tValue.a, normal0.w, scalarInterp,secondaryGradientMag);\n          if (length(normalLight) == 0.0){\n            normalLight = normal0;\n          }\n        #else\n          vec3 scalarInterp;\n          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp);\n          if (length(normal0)>0.0){\n            normalLight = computeDensityNormal(tValue.a,scalarInterp);\n            if (length(normalLight)==0.0){\n              normalLight = normal0;\n            }\n          }\n        #endif\n      #else\n        vec4 normal0 = computeNormal(posIS, tValue.a, tstep);\n        normalLight = normal0;\n      #endif\n    #endif\n  #endif\n\n  // compute gradient opacity factors as needed\n  #if defined(vtkGradientOpacityOn)\n    #if !defined(vtkComponent0Proportional)\n      goFactor.x =\n        computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);\n    #endif\n    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\n      #if !defined(vtkComponent1Proportional)\n        goFactor.y =\n          computeGradientOpacityFactor(normal1.a, goscale1, goshift1, gomin1, gomax1);\n      #endif\n      #if vtkNumComponents > 2\n        #if !defined(vtkComponent2Proportional)\n          goFactor.z =\n            computeGradientOpacityFactor(normal2.a, goscale2, goshift2, gomin2, gomax2);\n        #endif\n        #if vtkNumComponents > 3\n          #if !defined(vtkComponent3Proportional)\n            goFactor.w =\n              computeGradientOpacityFactor(normal3.a, goscale3, goshift3, gomin3, gomax3);\n          #endif\n        #endif\n      #endif\n    #endif\n  #endif\n\n  // single component is always independent\n  #if vtkNumComponents == 1\n    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;\n    if (tColor.a < EPSILON){\n      return vec4(0.0);\n    }\n  #endif\n\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));\n    #if !defined(vtkComponent0Proportional)\n      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;\n    #else\n      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;\n      tColor *= pwfValue;\n      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));\n    #endif\n\n    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;\n    #if !defined(vtkComponent1Proportional)\n      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;\n    #else\n      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;\n      tColor1 *= pwfValue;\n      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));\n    #endif\n\n    #if vtkNumComponents >= 3\n      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;\n      #if !defined(vtkComponent2Proportional)\n        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;\n      #else\n        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;\n        tColor2 *= pwfValue;\n        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));\n      #endif\n\n      #if vtkNumComponents >= 4\n        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;\n        #if !defined(vtkComponent3Proportional)\n          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;\n        #else\n          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;\n          tColor3 *= pwfValue;\n          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));\n        #endif\n      #endif\n    #endif\n  #else // then not independent\n\n  #if vtkNumComponents == 2\n    float lum = tValue.r * cscale0 + cshift0;\n    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;\n    vec4 tColor = vec4(lum, lum, lum, alpha);\n  #endif\n  #if vtkNumComponents == 3\n    vec4 tColor;\n    tColor.r = tValue.r * cscale0 + cshift0;\n    tColor.g = tValue.g * cscale1 + cshift1;\n    tColor.b = tValue.b * cscale2 + cshift2;\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;\n  #endif\n  #if vtkNumComponents == 4\n    vec4 tColor;\n    tColor.r = tValue.r * cscale0 + cshift0;\n    tColor.g = tValue.g * cscale1 + cshift1;\n    tColor.b = tValue.b * cscale2 + cshift2;\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;\n  #endif\n  #endif // dependent\n\n  // apply lighting if requested as appropriate\n  #if vtkLightComplexity > 0\n    #if !defined(vtkComponent0Proportional)\n      #if vtkNumComponents == 1\n        #ifdef SurfaceShadowOn\n            #if vtkLightComplexity < 3\n                vec3 tColorS = applyLightingDirectional(posIS, tColor, normalLight);\n            #else\n                vec3 tColorS = applyLightingPositional(posIS, tColor, normalLight, IStoVC(posIS));\n            #endif\n        #endif\n\n        #ifdef VolumeShadowOn\n          vec3 tColorVS = applyShadowRay(tColor.rgb, posIS, rayDirVC);\n          #ifdef SurfaceShadowOn\n            float vol_coef = volumetricScatteringBlending * (1.0 - tColor.a / 2.0) * (1.0 - atan(normalLight.w) * INV4PI);\n            tColor.rgb = (1.0-vol_coef) * tColorS + vol_coef * tColorVS;\n          #else\n            tColor.rgb = tColorVS;\n          #endif\n        #else\n            tColor.rgb = tColorS;\n        #endif\n\n      #else\n        applyLighting(tColor.rgb, normal0);\n      #endif\n    #endif\n\n    #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n      #if !defined(vtkComponent1Proportional)\n        applyLighting(tColor1, normal1);\n      #endif\n    #if vtkNumComponents >= 3\n      #if !defined(vtkComponent2Proportional)\n        applyLighting(tColor2, normal2);\n      #endif\n    #if vtkNumComponents >= 4\n      #if !defined(vtkComponent3Proportional)\n        applyLighting(tColor3, normal3);\n      #endif\n    #endif\n    #endif\n    #endif\n  #endif\n\n// perform final independent blend as needed\n#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\n  tColor.rgb += tColor1;\n#if vtkNumComponents >= 3\n  tColor.rgb += tColor2;\n#if vtkNumComponents >= 4\n  tColor.rgb += tColor3;\n#endif\n#endif\n#endif\n\n#endif\nreturn tColor;\n}\n\nbool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {\n  bool withinRange = false;\n  #if vtkNumComponents == 1\n    if (val.r >= min.r && val.r <= max.r) {\n      withinRange = true;\n    }\n  #endif\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2\n     if (val.r >= min.r && val.r <= max.r &&\n        val.g >= min.g && val.g <= max.g) {\n      withinRange = true;\n    }\n  #endif\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3\n    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&\n        all(lessThanEqual(val, ipScalarRangeMax))) {\n      withinRange = true;\n    }\n  #endif\n  return withinRange;\n}\n\n//=======================================================================\n// Apply the specified blend mode operation along the ray's path.\n//\nvoid applyBlend(vec3 posIS, vec3 endIS, vec3 tdims)\n{\n  vec3 tstep = 1.0/tdims;\n\n  // start slightly inside and apply some jitter\n  vec3 delta = endIS - posIS;\n  vec3 stepIS = normalize(delta)*sampleDistanceIS;\n  float raySteps = length(delta)/sampleDistanceIS;\n\n  // avoid 0.0 jitter\n  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;\n  float stepsTraveled = jitter;\n\n  // local vars for the loop\n  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\n  vec4 tValue;\n  vec4 tColor;\n\n  // if we have less than one step then pick the middle point\n  // as our value\n  // if (raySteps <= 1.0)\n  // {\n  //   posIS = (posIS + endIS)*0.5;\n  // }\n\n  // Perform initial step at the volume boundary\n  // compute the scalar\n  tValue = getTextureValue(posIS);\n\n  #if vtkBlendMode == 0 // COMPOSITE_BLEND\n    // now map through opacity and color\n    tColor = getColorForValue(tValue, posIS, tstep);\n\n    // handle very thin volumes\n    if (raySteps <= 1.0)\n    {\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);\n      gl_FragData[0] = tColor;\n      return;\n    }\n\n    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);\n    color = vec4(tColor.rgb*tColor.a, tColor.a);\n    posIS += (jitter*stepIS);\n\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // now map through opacity and color\n      tColor = getColorForValue(tValue, posIS, tstep);\n\n      float mix = (1.0 - color.a);\n\n      // this line should not be needed but nvidia seems to not handle\n      // the break correctly on windows/chrome 58 angle\n      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));\n\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\n      stepsTraveled++;\n      posIS += stepIS;\n      if (color.a > 0.99) { color.a = 1.0; break; }\n    }\n\n    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)\n    {\n      posIS = endIS;\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // now map through opacity and color\n      tColor = getColorForValue(tValue, posIS, tstep);\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);\n\n      float mix = (1.0 - color.a);\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\n    }\n\n    gl_FragData[0] = vec4(color.rgb/color.a, color.a);\n  #endif\n  #if vtkBlendMode == 1 || vtkBlendMode == 2\n    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND\n    // Find maximum/minimum intensity along the ray.\n\n    // Define the operation we will use (min or max)\n    #if vtkBlendMode == 1\n    #define OP max\n    #else\n    #define OP min\n    #endif\n\n    // If the clipping range is shorter than the sample distance\n    // we can skip the sampling loop along the ray.\n    if (raySteps <= 1.0)\n    {\n      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);\n      return;\n    }\n\n    vec4 value = tValue;\n    posIS += (jitter*stepIS);\n\n    // Sample along the ray until MaximumSamplesValue,\n    // ending slightly inside the total distance\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      // If we have reached the last step, break\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // Update the maximum value if necessary\n      value = OP(tValue, value);\n\n      // Otherwise, continue along the ray\n      stepsTraveled++;\n      posIS += stepIS;\n    }\n\n    // Perform the last step along the ray using the\n    // residual distance\n    posIS = endIS;\n    tValue = getTextureValue(posIS);\n    value = OP(tValue, value);\n\n    // Now map through opacity and color\n    gl_FragData[0] = getColorForValue(value, posIS, tstep);\n  #endif\n  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND\n    vec4 sum = vec4(0.);\n\n    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n      sum += tValue;\n    }\n\n    if (raySteps <= 1.0) {\n      gl_FragData[0] = getColorForValue(sum, posIS, tstep);\n      return;\n    }\n\n    posIS += (jitter*stepIS);\n\n    // Sample along the ray until MaximumSamplesValue,\n    // ending slightly inside the total distance\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      // If we have reached the last step, break\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar\n      tValue = getTextureValue(posIS);\n\n      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.\n      // Notes:\n      // - We are comparing all values in the texture to see if any of them\n      //   are outside of the scalar range. In the future we might want to allow\n      //   scalar ranges for each component.\n      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n        // Sum the values across each step in the path\n        sum += tValue;\n      }\n      stepsTraveled++;\n      posIS += stepIS;\n    }\n\n    // Perform the last step along the ray using the\n    // residual distance\n    posIS = endIS;\n\n    // compute the scalar\n    tValue = getTextureValue(posIS);\n\n    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation\n    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {\n      sum += tValue;\n\n      stepsTraveled++;\n    }\n\n    #if vtkBlendMode == 3 // Average\n      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);\n    #endif\n\n    gl_FragData[0] = getColorForValue(sum, posIS, tstep);\n  #endif\n  #if vtkBlendMode == 5 // RADON\n    float normalizedRayIntensity = 1.0;\n\n    // handle very thin volumes\n    if (raySteps <= 1.0)\n    {\n      tValue = getTextureValue(posIS);\n      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;\n      gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity, 0.5));\n      return;\n    }\n\n    posIS += (jitter*stepIS);\n\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\n    {\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\n\n      // compute the scalar value\n      tValue = getTextureValue(posIS);\n\n      // Convert scalar value to normalizedRayIntensity coefficient and accumulate normalizedRayIntensity\n      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;\n\n      posIS += stepIS;\n      stepsTraveled++;\n    }\n\n    // map normalizedRayIntensity to color\n    gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity , 0.5));\n\n  #endif\n}\n\n//=======================================================================\n// Compute a new start and end point for a given ray based\n// on the provided bounded clipping plane (aka a rectangle)\nvoid getRayPointIntersectionBounds(\n  vec3 rayPos, vec3 rayDir,\n  vec3 planeDir, float planeDist,\n  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,\n  float vSize1, float vSize2)\n{\n  float result = dot(rayDir, planeDir);\n  if (abs(result) < 1e-6)\n  {\n    return;\n  }\n  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;\n  vec3 xposVC = rayPos + rayDir*result;\n  vec3 vxpos = xposVC - vOriginVC;\n  vec2 vpos = vec2(\n    dot(vxpos, vPlaneX),\n    dot(vxpos, vPlaneY));\n\n  // on some apple nvidia systems this does not work\n  // if (vpos.x < 0.0 || vpos.x > vSize1 ||\n  //     vpos.y < 0.0 || vpos.y > vSize2)\n  // even just\n  // if (vpos.x < 0.0 || vpos.y < 0.0)\n  // fails\n  // so instead we compute a value that represents in and out\n  //and then compute the return using this value\n  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds\n  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out\n\n  tbounds = mix(\n   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value\n   tbounds, // out value\n   check);  // 0 in 1 out\n}\n\n//=======================================================================\n// given a\n// - ray direction (rayDir)\n// - starting point (vertexVCVSOutput)\n// - bounding planes of the volume\n// - optionally depth buffer values\n// - far clipping plane\n// compute the start/end distances of the ray we need to cast\nvec2 computeRayDistances(vec3 rayDir, vec3 tdims)\n{\n  vec2 dists = vec2(100.0*camFar, -1.0);\n\n  vec3 vSize = vSpacing*tdims;\n\n  // all this is in View Coordinates\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,\n    vSize.y, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,\n    vSize.y, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,\n    vSize.x, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,\n    vSize.x, vSize.z);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,\n    vSize.x, vSize.y);\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\n    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,\n    vSize.x, vSize.y);\n\n  //VTK::ClipPlane::Impl\n\n  // do not go behind front clipping plane\n  dists.x = max(0.0,dists.x);\n\n  // do not go PAST far clipping plane\n  float farDist = -camThick/rayDir.z;\n  dists.y = min(farDist,dists.y);\n\n  // Do not go past the zbuffer value if set\n  // This is used for intermixing opaque geometry\n  //VTK::ZBuffer::Impl\n\n  return dists;\n}\n\n//=======================================================================\n// Compute the index space starting position (pos) and end\n// position\n//\nvoid computeIndexSpaceValues(out vec3 pos, out vec3 endPos, vec3 rayDir, vec2 dists)\n{\n  // compute starting and ending values in volume space\n  pos = vertexVCVSOutput + dists.x*rayDir;\n  pos = pos - vOriginVC;\n  // convert to volume basis and origin\n  pos = vec3(\n    dot(pos, vPlaneNormal0),\n    dot(pos, vPlaneNormal2),\n    dot(pos, vPlaneNormal4));\n\n  endPos = vertexVCVSOutput + dists.y*rayDir;\n  endPos = endPos - vOriginVC;\n  endPos = vec3(\n    dot(endPos, vPlaneNormal0),\n    dot(endPos, vPlaneNormal2),\n    dot(endPos, vPlaneNormal4));\n\n  float delta = length(endPos - pos);\n\n  pos *= vVCToIJK;\n  endPos *= vVCToIJK;\n\n  float delta2 = length(endPos - pos);\n  sampleDistanceIS = sampleDistance*delta2/delta;\n  #ifdef VolumeShadowOn\n    sampleDistanceISVS = sampleDistanceIS * volumeShadowSamplingDistFactor;\n  #endif\n}\n\nvoid main()\n{\n\n  if (cameraParallel == 1)\n  {\n    // Camera is parallel, so the rayDir is just the direction of the camera.\n    rayDirVC = vec3(0.0, 0.0, -1.0);\n  } else {\n    // camera is at 0,0,0 so rayDir for perspective is just the vc coord\n    rayDirVC = normalize(vertexVCVSOutput);\n  }\n\n  vec3 tdims = vec3(volumeDimensions);\n\n  // compute the start and end points for the ray\n  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);\n\n  // do we need to composite? aka does the ray have any length\n  // If not, bail out early\n  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)\n  {\n    discard;\n  }\n\n  // IS = Index Space\n  vec3 posIS;\n  vec3 endIS;\n  computeIndexSpaceValues(posIS, endIS, rayDirVC, rayStartEndDistancesVC);\n\n  // Perform the blending operation along the ray\n  applyBlend(posIS, endIS, tdims);\n}\n";function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var DL=kC,LL=RC;function VL(e,t){t.classHierarchy.push("vtkOpenGLVolumeMapper"),e.buildPass=function(){t.zBufferTexture=null},e.zBufferPass=function(e,n){if(e){var r=n.getZBufferTexture();r!==t.zBufferTexture&&(t.zBufferTexture=r)}},e.opaqueZBufferPass=function(t,n){return e.zBufferPass(t,n)},e.volumePass=function(n,r){if(n){t._openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow),t.jitterTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.scalarTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.opacityTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLVolume=e.getFirstAncestorOfType("vtkOpenGLVolume");var a=t.openGLVolume.getRenderable();t._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var o=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(o.getActiveCamera()),e.renderPiece(o,a)}},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=kL,e.Fragment=ML,e.Geometry=""},e.replaceShaderValues=function(n,r,a){var o=n.Fragment;a.getProperty().getInterpolationType()===PL.LINEAR&&(o=NI.substitute(o,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),!0===a.getProperty().getUseLabelOutline()&&(o=NI.substitute(o,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var i=t.scalarTexture.getComponents();o=NI.substitute(o,"//VTK::NumComponents","#define vtkNumComponents ".concat(i)).result;var s=a.getProperty().getIndependentComponents();if(s){o=NI.substitute(o,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var l=[],u=0;u<i;u++)a.getProperty().getOpacityMode(u)===OL.PROPORTIONAL&&l.push("#define vtkComponent".concat(u,"Proportional"));l.length>0&&(o=NI.substitute(o,"//VTK::vtkProportionalComponents",l.join("\n")).result)}var c=t.currentInput.getSpatialExtent(),d=t.currentInput.getSpacing(),f=new Float64Array(3);GO(f,(c[1]-c[0])*d[0],(c[3]-c[2])*d[1],(c[5]-c[4])*d[2]);var p=FO(f)/t.renderable.getSampleDistance();o=NI.substitute(o,"//VTK::MaximumSamplesValue","".concat(Math.ceil(p))).result,o=NI.substitute(o,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(t.lastLightComplexity)).result,t.lastLightComplexity>0&&(t.renderable.getVolumetricScatteringBlending()>0&&(o=NI.substitute(o,"//VTK::VolumeShadowOn","#define VolumeShadowOn").result),t.renderable.getVolumetricScatteringBlending()<1&&(o=NI.substitute(o,"//VTK::SurfaceShadowOn","#define SurfaceShadowOn").result),t.renderable.getLocalAmbientOcclusion()&&a.getProperty().getAmbient()>0&&(o=NI.substitute(o,"//VTK::localAmbientOcclusionOn","#define localAmbientOcclusionOn").result)),t.gopacity=a.getProperty().getUseGradientOpacity(0);for(var m=1;s&&!t.gopacity&&m<i;++m)a.getProperty().getUseGradientOpacity(m)&&(t.gopacity=!0);t.gopacity&&(o=NI.substitute(o,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),t.renderable.getComputeNormalFromOpacity()&&(o=NI.substitute(o,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),null!==t.zBufferTexture&&(o=NI.substitute(o,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,o=NI.substitute(o,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","if (cameraParallel == 0) {","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;}","else {","zdepth = (zdepth + 1.0) * 0.5 * (camFar - camNear);}\n","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),o=NI.substitute(o,"//VTK::BlendMode","".concat(t.renderable.getBlendMode())).result,n.Fragment=o,e.replaceShaderLight(n,r,a),e.replaceShaderClippingPlane(n,r,a)},e.replaceShaderLight=function(e,n,r){if(0!==t.lastLightComplexity){var a=e.Fragment,o=0;n.getLights().forEach((function(e){e.getSwitch()&&(o+=1)})),a=NI.substitute(a,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;","uniform vec3 lightColor[".concat(o,"];"),"uniform vec3 lightDirectionVC[".concat(o,"]; // normalized"),"uniform vec3 lightHalfAngleVC[".concat(o,"];"),"//VTK::Light::Dec"],!1).result,3===t.lastLightComplexity&&(a=NI.substitute(a,"//VTK::Light::Dec",["uniform vec3 lightPositionVC[".concat(o,"];"),"uniform vec3 lightAttenuation[".concat(o,"];"),"uniform float lightConeAngle[".concat(o,"];"),"uniform float lightExponent[".concat(o,"];"),"uniform int lightPositional[".concat(o,"];")],!1).result),t.renderable.getVolumetricScatteringBlending()>0&&(a=NI.substitute(a,"//VTK::VolumeShadow::Dec",["uniform float volumetricScatteringBlending;","uniform float giReach;","uniform float volumeShadowSamplingDistFactor;","uniform float anisotropy;","uniform float anisotropy2;"],!1).result),t.renderable.getLocalAmbientOcclusion()&&r.getProperty().getAmbient()>0&&(a=NI.substitute(a,"//VTK::LAO::Dec",["uniform int kernelRadius;","uniform vec2 kernelSample[".concat(t.renderable.getLAOKernelRadius(),"];"),"uniform int kernelSize;"],!1).result),e.Fragment=a}},e.replaceShaderClippingPlane=function(e,n,r){var a=e.Fragment;if(t.renderable.getClippingPlanes().length>0){var o=t.renderable.getClippingPlanes().length;a=NI.substitute(a,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,a=NI.substitute(a,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(o,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}e.Fragment=a},e.getNeedToRebuildShaders=function(n,r,a){var o=0;a.getProperty().getShade()&&t.renderable.getBlendMode()===EL.COMPOSITE_BLEND&&(o=0,t.numberOfLights=0,r.getLights().forEach((function(e){e.getSwitch()>0&&(t.numberOfLights++,0===o&&(o=1)),1===o&&(t.numberOfLights>1||1!==e.getIntensity()||!e.lightTypeIsHeadLight())&&(o=2),o<3&&e.getPositional()&&(o=3)})));var i=!1;t.lastLightComplexity!==o&&(t.lastLightComplexity=o,i=!0);var s=t.scalarTexture.getComponents(),l=a.getProperty().getIndependentComponents(),u=!1,c=[];if(l){for(var d=0;d<s;d++)c.push(a.getProperty().getOpacityMode(d));c.length>0&&(u=!0)}var f=t.currentInput.getSpatialExtent(),p=t.currentInput.getSpacing(),m=new Float64Array(3);GO(m,(f[1]-f[0])*p[0],(f[3]-f[2])*p[1],(f[5]-f[4])*p[2]);var g=FO(m)/t.renderable.getSampleDistance(),v={interpolationType:a.getProperty().getInterpolationType(),useLabelOutline:a.getProperty().getUseLabelOutline(),numComp:s,usesProportionalComponents:u,iComps:l,maxSamples:g,useGradientOpacity:a.getProperty().getUseGradientOpacity(0),blendMode:t.renderable.getBlendMode(),proportionalComponents:c};return t.previousState&&t.previousState.interpolationType===v.interpolationType&&t.previousState.useLabelOutline===v.useLabelOutline&&t.previousState.numComp===v.numComp&&t.previousState.usesProportionalComponents===v.usesProportionalComponents&&t.previousState.iComps===v.iComps&&t.previousState.maxSamples===v.maxSamples&&t.previousState.useGradientOpacity===v.useGradientOpacity&&t.previousState.blendMode===v.blendMode&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(t.previousState.proportionalComponents,v.proportionalComponents)?!!(0===n.getProgram()||i||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||!!t.lastZBufferTexture!==!!t.zBufferTexture||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime())&&(t.lastZBufferTexture=t.zBufferTexture,!0):(t.previousState=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v),!0)},e.updateShaders=function(n,r,a){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,r,a);var i=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);i!==n.getProgram()&&(n.setProgram(i),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a),e.getClippingPlaneShaderParameters(n,r,a)},e.setMapperShaderParameters=function(e,n,r){var a=e.getProgram();e.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(a.isAttributeUsed("vertexDC")&&(e.getVAO().addAttributeArray(a,e.getCABO(),"vertexDC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||LL("Error setting vertexDC in shader VAO.")),e.getAttributeUpdateTime().modified()),a.setUniformi("texture1",t.scalarTexture.getTextureUnit()),a.setUniformf("sampleDistance",t.renderable.getSampleDistance());for(var o=t.scalarTexture.getVolumeInfo(),i=t.renderable.getIpScalarRange(),s=[],l=[],u=0;u<4;u++)s[u]=i[0]*o.dataComputedScale[u]+o.dataComputedOffset[u],l[u]=i[1]*o.dataComputedScale[u]+o.dataComputedOffset[u],s[u]=(s[u]-o.offset[u])/o.scale[u],l[u]=(l[u]-o.offset[u])/o.scale[u];if(a.setUniform4f("ipScalarRangeMin",s[0],s[1],s[2],s[3]),a.setUniform4f("ipScalarRangeMax",l[0],l[1],l[2],l[3]),null!==t.zBufferTexture){a.setUniformi("zBufferTexture",t.zBufferTexture.getTextureUnit());var c=t._useSmallViewport?[t._smallViewportWidth,t._smallViewportHeight]:t._openGLRenderWindow.getFramebufferSize();a.setUniformf("vpWidth",c[0]),a.setUniformf("vpHeight",c[1])}},e.setCameraShaderParameters=function(n,r,a){var o=t.openGLCamera.getKeyMatrices(r),i=t.openGLVolume.getKeyMatrices();jA(t.modelToView,o.wcvc,i.mcwc);var s=n.getProgram(),l=t.openGLCamera.getRenderable(),u=l.getClippingRange();s.setUniformf("camThick",u[1]-u[0]),s.setUniformf("camNear",u[0]),s.setUniformf("camFar",u[1]);for(var c=t.currentInput.getBounds(),d=t.currentInput.getDimensions(),f=new Float64Array(3),p=new Float64Array(3),m=1,g=-1,v=1,h=-1,y=0;y<8;++y){if(GO(f,c[y%2],c[2+Math.floor(y/2)%2],c[4+Math.floor(y/4)]),fA(f,f,t.modelToView),!l.getParallelProjection())oA(p,f),QO(f,p,-u[0]/f[2]);fA(f,f,o.vcpc),m=Math.min(f[0],m),g=Math.max(f[0],g),v=Math.min(f[1],v),h=Math.max(f[1],h)}s.setUniformf("dcxmin",m),s.setUniformf("dcxmax",g),s.setUniformf("dcymin",v),s.setUniformf("dcymax",h),s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",l.getParallelProjection());var b=t.currentInput.getSpatialExtent(),x=t.currentInput.getSpacing(),w=new Float64Array(3);GO(w,(b[1]-b[0])*x[0],(b[3]-b[2])*x[1],(b[5]-b[4])*x[2]),s.setUniform3f("vSpacing",x[0],x[1],x[2]),GO(f,b[0],b[2],b[4]),t.currentInput.indexToWorldVec3(f,f),fA(f,f,t.modelToView),s.setUniform3f("vOriginVC",f[0],f[1],f[2]);var C=t.currentInput.getIndexToWorld();jA(t.idxToView,t.modelToView,C),FE(t.idxNormalMatrix,o.normalMatrix,i.normalMatrix),FE(t.idxNormalMatrix,t.idxNormalMatrix,t.currentInput.getDirectionByReference());var S=FO(w)/t.renderable.getSampleDistance();S>t.renderable.getMaximumSamplesPerRay()&&DL("The number of steps required ".concat(Math.ceil(S)," is larger than the\n        specified maximum number of steps ").concat(t.renderable.getMaximumSamplesPerRay(),".\n        Please either change the\n        volumeMapper sampleDistance or its maximum number of samples."));var T=new Float64Array(3);if(GO(T,1,1,1),KO(T,T,w),s.setUniform3f("vVCToIJK",T[0],T[1],T[2]),s.setUniform3i("volumeDimensions",d[0],d[1],d[2]),!t._openGLRenderWindow.getWebgl2()){var P=t.scalarTexture.getVolumeInfo();s.setUniformf("texWidth",t.scalarTexture.getWidth()),s.setUniformf("texHeight",t.scalarTexture.getHeight()),s.setUniformi("xreps",P.xreps),s.setUniformi("xstride",P.xstride),s.setUniformi("ystride",P.ystride)}for(var O=new Float64Array(3),A=new Float64Array(3),E=0;E<6;++E){switch(E){case 1:GO(O,-1,0,0),GO(A,b[0],b[2],b[4]);break;case 2:GO(O,0,1,0),GO(A,b[1],b[3],b[5]);break;case 3:GO(O,0,-1,0),GO(A,b[0],b[2],b[4]);break;case 4:GO(O,0,0,1),GO(A,b[1],b[3],b[5]);break;case 5:GO(O,0,0,-1),GO(A,b[0],b[2],b[4]);break;default:GO(O,1,0,0),GO(A,b[1],b[3],b[5])}pA(O,O,t.idxNormalMatrix),fA(A,A,t.idxToView);var I=-1*iA(A,O);s.setUniform3f("vPlaneNormal".concat(E),O[0],O[1],O[2]),s.setUniformf("vPlaneDistance".concat(E),I)}if(a.getProperty().getUseLabelOutline()){var R=t.currentInput.getWorldToIndex();s.setUniformMatrix("vWCtoIDX",R);var k=r.getActiveCamera(),M=eC(k.getClippingRange(),2),_=M[0],D=M[1],L=k.getDistance();k.setClippingRange(L,L+.1);var V=t.openGLCamera.getKeyMatrices(r);BA(t.projectionToWorld,V.wcpc),k.setClippingRange(_,D),t.openGLCamera.getKeyMatrices(r),s.setUniformMatrix("PCWCMatrix",t.projectionToWorld);var N=e.getRenderTargetSize();s.setUniformf("vpWidth",N[0]),s.setUniformf("vpHeight",N[1]);var B=e.getRenderTargetOffset();s.setUniformf("vpOffsetX",B[0]/N[0]),s.setUniformf("vpOffsetY",B[1]/N[1])}if(BA(t.projectionToView,o.vcpc),s.setUniformMatrix("PCVCMatrix",t.projectionToView),0!==t.lastLightComplexity){var F=0,U=[],j=[],G=[];if(r.getLights().forEach((function(e){if(e.getSwitch()>0){var t=e.getColor(),n=e.getIntensity();U[0+3*F]=t[0]*n,U[1+3*F]=t[1]*n,U[2+3*F]=t[2]*n;var r=e.getDirection();GO(O,r[0],r[1],r[2]),pA(O,O,o.normalMatrix),oA(O,O),j[0+3*F]=O[0],j[1+3*F]=O[1],j[2+3*F]=O[2],G[0+3*F]=-.5*O[0],G[1+3*F]=-.5*O[1],G[2+3*F]=-.5*(O[2]-1),F++}})),s.setUniformi("twoSidedLighting",r.getTwoSidedLighting()),s.setUniformi("lightNum",F),s.setUniform3fv("lightColor",U),s.setUniform3fv("lightDirectionVC",j),s.setUniform3fv("lightHalfAngleVC",G),3===t.lastLightComplexity){F=0;var z=[],W=[],H=[],K=[],q=[];r.getLights().forEach((function(e){if(e.getSwitch()>0){var n=e.getAttenuationValues();W[0+3*F]=n[0],W[1+3*F]=n[1],W[2+3*F]=n[2],K[F]=e.getExponent(),H[F]=e.getConeAngle(),q[F]=e.getPositional();var r=e.getTransformedPosition();fA(r,r,t.modelToView),z[0+3*F]=r[0],z[1+3*F]=r[1],z[2+3*F]=r[2],F+=1}})),s.setUniform3fv("lightPositionVC",z),s.setUniform3fv("lightAttenuation",W),s.setUniformfv("lightConeAngle",H),s.setUniformfv("lightExponent",K),s.setUniformiv("lightPositional",q)}if(t.renderable.getVolumetricScatteringBlending()>0&&(s.setUniformf("giReach",t.renderable.getGlobalIlluminationReach()),s.setUniformf("volumetricScatteringBlending",t.renderable.getVolumetricScatteringBlending()),s.setUniformf("volumeShadowSamplingDistFactor",t.renderable.getVolumeShadowSamplingDistFactor()),s.setUniformf("anisotropy",t.renderable.getAnisotropy()),s.setUniformf("anisotropy2",Math.pow(t.renderable.getAnisotropy(),2))),t.renderable.getLocalAmbientOcclusion()&&a.getProperty().getAmbient()>0){var X=t.renderable.getLAOKernelSize();s.setUniformi("kernelSize",X);for(var Y=[],$=0;$<X;$++)Y[2*$]=.5*Math.random(),Y[2*$+1]=.5*Math.random();s.setUniform2fv("kernelSample",Y),s.setUniformi("kernelRadius",t.renderable.getLAOKernelRadius())}}},e.setPropertyShaderParameters=function(e,n,r){var a=e.getProgram();a.setUniformi("ctexture",t.colorTexture.getTextureUnit()),a.setUniformi("otexture",t.opacityTexture.getTextureUnit()),a.setUniformi("jtexture",t.jitterTexture.getTextureUnit());var o=t.scalarTexture.getVolumeInfo(),i=r.getProperty(),s=t.scalarTexture.getComponents(),l=r.getProperty().getIndependentComponents();if(l&&s>=2)for(var u=0;u<s;u++)a.setUniformf("mix".concat(u),r.getProperty().getComponentWeight(u));for(var c=0;c<s;c++){var d=l?c:0,f=o.scale[c],p=i.getScalarOpacity(d).getRange(),m=f/(p[1]-p[0]),g=(o.offset[c]-p[0])/(p[1]-p[0]);a.setUniformf("oshift".concat(c),g),a.setUniformf("oscale".concat(c),m);var v=i.getRGBTransferFunction(d).getRange(),h=(o.offset[c]-v[0])/(v[1]-v[0]),y=f/(v[1]-v[0]);a.setUniformf("cshift".concat(c),h),a.setUniformf("cscale".concat(c),y)}if(t.gopacity)if(l)for(var b=0;b<s;++b){var x=o.scale[b];if(i.getUseGradientOpacity(b)){var w=i.getGradientOpacityMinimumOpacity(b),C=i.getGradientOpacityMaximumOpacity(b);a.setUniformf("gomin".concat(b),w),a.setUniformf("gomax".concat(b),C);var S=[i.getGradientOpacityMinimumValue(b),i.getGradientOpacityMaximumValue(b)];a.setUniformf("goscale".concat(b),x*(C-w)/(S[1]-S[0])),a.setUniformf("goshift".concat(b),-S[0]*(C-w)/(S[1]-S[0])+w)}else a.setUniformf("gomin".concat(b),1),a.setUniformf("gomax".concat(b),1),a.setUniformf("goscale".concat(b),0),a.setUniformf("goshift".concat(b),1)}else{var T=o.scale[s-1],P=i.getGradientOpacityMinimumOpacity(0),O=i.getGradientOpacityMaximumOpacity(0);a.setUniformf("gomin0",P),a.setUniformf("gomax0",O);var A=[i.getGradientOpacityMinimumValue(0),i.getGradientOpacityMaximumValue(0)];a.setUniformf("goscale0",T*(O-P)/(A[1]-A[0])),a.setUniformf("goshift0",-A[0]*(O-P)/(A[1]-A[0])+P)}if(!0===r.getProperty().getUseLabelOutline()){var E=r.getProperty().getLabelOutlineThickness(),I=r.getProperty().getLabelOutlineOpacity();a.setUniformi("outlineThickness",E),a.setUniformf("outlineOpacity",I)}t.lastLightComplexity>0&&(a.setUniformf("vAmbient",i.getAmbient()),a.setUniformf("vDiffuse",i.getDiffuse()),a.setUniformf("vSpecular",i.getSpecular()),a.setUniformf("vSpecularPower",i.getSpecularPower()))},e.getClippingPlaneShaderParameters=function(e,n,r){if(t.renderable.getClippingPlanes().length>0){for(var a=t.openGLCamera.getKeyMatrices(n),o=[],i=[],s=t.renderable.getClippingPlanes(),l=s.length,u=0;u<l;++u){var c=s[u].getNormal(),d=s[u].getOrigin();pA(c,c,a.normalMatrix),fA(d,d,a.wcvc);var f=-1*iA(d,c);o.push(c[0]),o.push(c[1]),o.push(c[2]),i.push(f)}var p=e.getProgram();p.setUniform3fv("vClipPlaneNormals",o),p.setUniformfv("vClipPlaneDistances",i)}},e.delete=tS((function(){t._animationRateSubscription&&(t._animationRateSubscription.unsubscribe(),t._animationRateSubscription=null)}),e.delete),e.getRenderTargetSize=function(){if(t._useSmallViewport)return[t._smallViewportWidth,t._smallViewportHeight];var e=t._openGLRenderer.getTiledSizeAndOrigin();return[e.usize,e.vsize]},e.getRenderTargetOffset=function(){var e=t._openGLRenderer.getTiledSizeAndOrigin();return[e.lowerLeftU,e.lowerLeftV]},e.renderPieceStart=function(n,r){var a=n.getVTKWindow().getInteractor();if(t._useSmallViewport=!1,a.isAnimating()&&t._lastScale>1.5&&(t._useSmallViewport=!0),t._animationRateSubscription||(t._animationRateSubscription=a.onAnimationFrameRateUpdate((function(){if(t.renderable.getAutoAdjustSampleDistances()){var e=a.getRecentAnimationFrameRate(),n=a.getDesiredUpdateRate()/e;(n>1.15||n<.85)&&(t._lastScale*=n),t._lastScale>400&&(t._lastScale=400),t._lastScale<1.5&&(t._lastScale=1.5)}else t._lastScale=t.renderable.getImageSampleDistance()*t.renderable.getImageSampleDistance();var r=t._openGLRenderWindow.getFramebufferSize();t._smallViewportWidth=Math.ceil(r[0]/Math.sqrt(t._lastScale)),t._smallViewportHeight=Math.ceil(r[1]/Math.sqrt(t._lastScale))}))),t._useSmallViewport){var o=t._openGLRenderWindow.getFramebufferSize();if(t._smallViewportHeight>o[1]&&(t._smallViewportHeight=o[1]),t._smallViewportWidth>o[0]&&(t._smallViewportWidth=o[0]),t.framebuffer.saveCurrentBindingsAndBuffers(),null===t.framebuffer.getGLFramebuffer())t.framebuffer.create(o[0],o[1]),t.framebuffer.populateFramebuffer();else{var i=t.framebuffer.getSize();i[0]===o[0]&&i[1]===o[1]||(t.framebuffer.create(o[0],o[1]),t.framebuffer.populateFramebuffer())}t.framebuffer.bind();var s=t.context;s.clearColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clear(s.COLOR_BUFFER_BIT),s.viewport(0,0,t._smallViewportWidth,t._smallViewportHeight),t.fvp=[t._smallViewportWidth/o[0],t._smallViewportHeight/o[1]]}t.context.disable(t.context.DEPTH_TEST),e.updateBufferObjects(n,r),r.getProperty().getInterpolationType()===PL.NEAREST?(t.scalarTexture.setMinificationFilter(wS.NEAREST),t.scalarTexture.setMagnificationFilter(wS.NEAREST)):(t.scalarTexture.setMinificationFilter(wS.LINEAR),t.scalarTexture.setMagnificationFilter(wS.LINEAR)),t.lastBoundBO=null,null!==t.zBufferTexture&&t.zBufferTexture.activate()},e.renderPieceDraw=function(n,r){var a=t.context;t.scalarTexture.activate(),t.opacityTexture.activate(),t.colorTexture.activate(),t.jitterTexture.activate(),e.updateShaders(t.tris,n,r),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.scalarTexture.deactivate(),t.colorTexture.deactivate(),t.opacityTexture.deactivate(),t.jitterTexture.deactivate()},e.renderPieceFinish=function(e,n){if(null!==t.zBufferTexture&&t.zBufferTexture.deactivate(),t._useSmallViewport){if(t.framebuffer.restorePreviousBindingsAndBuffers(),null===t.copyShader){t.copyShader=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join("\n"),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join("\n"),"");var r=t.copyShader;t.copyVAO=UI.newInstance(),t.copyVAO.setOpenGLRenderWindow(t._openGLRenderWindow),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(r,t.tris.getCABO(),"vertexDC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||LL("Error setting vertexDC in copy shader VAO.")}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(t.copyShader);var a=t._openGLRenderWindow.getFramebufferSize();t.context.viewport(0,0,a[0],a[1]);var o=t.framebuffer.getColorTexture();o.activate(),t.copyShader.setUniformi("texture",o.getTextureUnit()),t.copyShader.setUniform2f("tfactor",t.fvp[0],t.fvp[1]);var i=t.context;i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),o.deactivate(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)}},e.renderPiece=function(n,r){e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),t.currentInput?(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)):LL("No input!")},e.computeBounds=function(n,r){e.getInput()?t.bounds=e.getInput().getBounds():yP(t.Bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(r){var a=r.getPointData()&&r.getPointData().getScalars();if(a){var o=n.getProperty();if(!t.jitterTexture.getHandle()){for(var i=new Uint8Array(1024),s=0;s<1024;++s)i[s]=255*Math.random();t.jitterTexture.setMinificationFilter(wS.LINEAR),t.jitterTexture.setMagnificationFilter(wS.LINEAR),t.jitterTexture.create2DFromRaw(32,32,1,dS.UNSIGNED_CHAR,i)}var l=a.getNumberOfComponents(),u=o.getIndependentComponents()?l:1,c="".concat(o.getMTime());if(t.opacityTextureString!==c){for(var d=1024,f=2048*u,p=new Float32Array(f),m=new Float32Array(d),g=0;g<u;++g){var v=o.getScalarOpacity(g),h=t.renderable.getSampleDistance()/o.getScalarOpacityUnitDistance(g),y=v.getRange();v.getTable(y[0],y[1],d,m,1);for(var b=0;b<d;++b)p[g*d*2+b]=1-Math.pow(1-m[b],h),p[g*d*2+b+d]=p[g*d*2+b]}if(t.opacityTexture.releaseGraphicsResources(t._openGLRenderWindow),t.opacityTexture.setMinificationFilter(wS.LINEAR),t.opacityTexture.setMagnificationFilter(wS.LINEAR),t._openGLRenderWindow.getWebgl2()||t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear"))t.opacityTexture.create2DFromRaw(d,2*u,1,dS.FLOAT,p);else{for(var x=new Uint8Array(f),w=0;w<f;++w)x[w]=255*p[w];t.opacityTexture.create2DFromRaw(d,2*u,1,dS.UNSIGNED_CHAR,x)}t.opacityTextureString=c}if(c="".concat(o.getMTime()),t.colorTextureString!==c){for(var C=1024,S=new Uint8Array(2048*u*3),T=new Float32Array(3072),P=0;P<u;++P){var O=o.getRGBTransferFunction(P),A=O.getRange();O.getTable(A[0],A[1],C,T,1);for(var E=0;E<3072;++E)S[P*C*6+E]=255*T[E],S[P*C*6+E+3072]=255*T[E]}t.colorTexture.releaseGraphicsResources(t._openGLRenderWindow),t.colorTexture.setMinificationFilter(wS.LINEAR),t.colorTexture.setMagnificationFilter(wS.LINEAR),t.colorTexture.create2DFromRaw(C,2*u,3,dS.UNSIGNED_CHAR,S),t.colorTextureString=c}if(c="".concat(r.getMTime()),t.scalarTextureString!==c){var I=r.getDimensions();t.scalarTexture.setOglNorm16Ext(t.context.getExtension("EXT_texture_norm16")),t.scalarTexture.releaseGraphicsResources(t._openGLRenderWindow),t.scalarTexture.resetFormatAndType(),t.scalarTexture.create3DFilterableFromDataArray(I[0],I[1],I[2],a,t.renderable.getPreferSizeOverAccuracy()),t.scalarTextureString=c}if(!t.tris.getCABO().getElementCount()){for(var R=new Float32Array(12),k=0;k<4;k++)R[3*k]=k%2*2-1,R[3*k+1]=k>1?1:-1,R[3*k+2]=-1;var M=new Uint16Array(8);M[0]=3,M[1]=0,M[2]=1,M[3]=3,M[4]=3,M[5]=0,M[6]=3,M[7]=2;var _=eO.newInstance({numberOfComponents:3,values:R});_.setName("points");var D=eO.newInstance({numberOfComponents:1,values:M});t.tris.getCABO().createVBO(D,"polys",SI.SURFACE,{points:_,cellOffset:0})}t.VBOBuildTime.modified()}}}}var NL={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function BL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,NL,n),aO.extend(e,t,n),t.VBOBuildTime={},jC(t.VBOBuildTime,{mtime:0}),t.tris=WI.newInstance(),t.scalarTexture=PO.newInstance(),t.opacityTexture=PO.newInstance(),t.colorTexture=PO.newInstance(),t.jitterTexture=PO.newInstance(),t.jitterTexture.setWrapS(xS.REPEAT),t.jitterTexture.setWrapT(xS.REPEAT),t.framebuffer=EO.newInstance(),t.idxToView=VA(new Float64Array(16)),t.idxNormalMatrix=DE(new Float64Array(9)),t.modelToView=VA(new Float64Array(16)),t.projectionToView=VA(new Float64Array(16)),t.projectionToWorld=VA(new Float64Array(16)),t._lastScale=1,qC(e,t,["context"]),VL(e,t)}var FL=eS(BL,"vtkOpenGLVolumeMapper"),UL={newInstance:FL,extend:BL};uO("vtkVolumeMapper",FL);iS.vtkWarningMacro;var jL={};function GL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jL,n),UL.extend(e,t,n),t.scalarTexture=n.scalarTexture,t.previousState={},function(e,t){t.classHierarchy.push("vtkStreamingOpenGLVolumeMapper"),e.buildBufferObjects=function(e,n){var r=t.currentInput;if(r){var a=r.getPointData()&&r.getPointData().getScalars();if(a){var o=n.getProperty();if(!t.jitterTexture.getHandle()){for(var i=new Uint8Array(1024),s=0;s<1024;++s)i[s]=255*Math.random();t.jitterTexture.setMinificationFilter(wS.LINEAR),t.jitterTexture.setMagnificationFilter(wS.LINEAR),t.jitterTexture.create2DFromRaw(32,32,1,dS.UNSIGNED_CHAR,i)}var l=a.getNumberOfComponents(),u=o.getIndependentComponents()?l:1,c="".concat(o.getMTime());if(t.opacityTextureString!==c){for(var d=1024,f=2048*u,p=new Float32Array(f),m=new Float32Array(d),g=0;g<u;++g){var v=o.getScalarOpacity(g),h=t.renderable.getSampleDistance()/o.getScalarOpacityUnitDistance(g),y=v.getRange();v.getTable(y[0],y[1],d,m,1);for(var b=0;b<d;++b)p[g*d*2+b]=1-Math.pow(1-m[b],h),p[g*d*2+b+d]=p[g*d*2+b]}if(t.opacityTexture.releaseGraphicsResources(t._openGLRenderWindow),t.opacityTexture.setMinificationFilter(wS.LINEAR),t.opacityTexture.setMagnificationFilter(wS.LINEAR),t._openGLRenderWindow.getWebgl2()||t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear"))t.opacityTexture.create2DFromRaw(d,2*u,1,dS.FLOAT,p);else{for(var x=new Uint8Array(f),w=0;w<f;++w)x[w]=255*p[w];t.opacityTexture.create2DFromRaw(d,2*u,1,dS.UNSIGNED_CHAR,x)}t.opacityTextureString=c}if(c="".concat(o.getMTime()),t.colorTextureString!==c){for(var C=1024,S=new Uint8Array(2048*u*3),T=new Float32Array(3072),P=0;P<u;++P){var O=o.getRGBTransferFunction(P),A=O.getRange();O.getTable(A[0],A[1],C,T,1);for(var E=0;E<3072;++E)S[P*C*6+E]=255*T[E],S[P*C*6+E+3072]=255*T[E]}t.colorTexture.releaseGraphicsResources(t._openGLRenderWindow),t.colorTexture.setMinificationFilter(wS.LINEAR),t.colorTexture.setMagnificationFilter(wS.LINEAR),t.colorTexture.create2DFromRaw(C,2*u,3,dS.UNSIGNED_CHAR,S),t.colorTextureString=c}if(c="".concat(r.getMTime()),t.scalarTextureString!==c){var I=r.getDimensions(),R=t.scalarTexture.getTextureParameters(),k=r.getPointData().getScalars().getDataType(),M=r.getPointData().getScalars().getData(),_=!0;if(R.dataType&&R.dataType===k){var D=R.width*R.height*R.depth*R.numComps;M.length===D&&(_=!1)}_?(t.scalarTexture.setOglNorm16Ext(t.context.getExtension("EXT_texture_norm16")),t.scalarTexture.releaseGraphicsResources(t._openGLRenderWindow),t.scalarTexture.resetFormatAndType(),t.scalarTexture.create3DFilterableFromRaw(I[0],I[1],I[2],l,a.getDataType(),a.getData(),t.renderable.getPreferSizeOverAccuracy())):(t.scalarTexture.deactivate(),t.scalarTexture.update3DFromRaw(M)),t.scalarTextureString=c}if(!t.tris.getCABO().getElementCount()){for(var L=new Float32Array(12),V=0;V<4;V++)L[3*V]=V%2*2-1,L[3*V+1]=V>1?1:-1,L[3*V+2]=-1;var N=new Uint16Array(8);N[0]=3,N[1]=0,N[2]=1,N[3]=3,N[4]=3,N[5]=0,N[6]=3,N[7]=2;var B=eO.newInstance({numberOfComponents:3,values:L});B.setName("points");var F=eO.newInstance({numberOfComponents:1,values:N});t.tris.getCABO().createVBO(F,"polys",SI.SURFACE,{points:B,cellOffset:0})}t.VBOBuildTime.modified()}}},e.getRenderTargetSize=function(){if(t._useSmallViewport)return[t._smallViewportWidth,t._smallViewportHeight];var e=t._openGLRenderer.getTiledSizeAndOrigin();return[e.usize,e.vsize]},e.getRenderTargetOffset=function(){var e=t._openGLRenderer.getTiledSizeAndOrigin();return[e.lowerLeftU,e.lowerLeftV]}}(e,t)}var zL={newInstance:iS.newInstance(GL,"vtkStreamingOpenGLVolumeMapper"),extend:GL};var WL={};function HL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,WL,n),sO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkStreamingOpenGLViewNodeFactory"),e.createNode=function(n){if(n.isDeleted())return null;for(var r=0,a=n.getClassName(r++),o=!1,i=Object.keys(t.overrides);a&&!o;)-1!==i.indexOf(a)?o=!0:a=n.getClassName(r++);if(!o)return null;var s=t.getModelInitialValues(n),l=t.overrides[a](s);return l.setMyFactory(e),l},t.getModelInitialValues=function(e){var t={};return"vtkSharedVolumeMapper"===e.getClassName()&&(t.scalarTexture=e.getScalarTexture()),t}}(e,t),e.registerOverride("vtkActor",Lk.newInstance),e.registerOverride("vtkActor2D",Fk.newInstance),e.registerOverride("vtkCamera",zk.newInstance),e.registerOverride("vtkGlyph3DMapper",ID.newInstance),e.registerOverride("vtkImageMapper",FD.newInstance),e.registerOverride("vtkImageSlice",zD.newInstance),e.registerOverride("vtkMapper",hD.newInstance),e.registerOverride("vtkPixelSpaceCallbackMapper",XD.newInstance),e.registerOverride("vtkRenderer",JD.newInstance),e.registerOverride("vtkSkybox",aL.newInstance),e.registerOverride("vtkSphereMapper",fL.newInstance),e.registerOverride("vtkStickMapper",xL.newInstance),e.registerOverride("vtkTexture",PO.newInstance),e.registerOverride("vtkVolume",TL.newInstance),e.registerOverride("vtkVolumeMapper",UL.newInstance),e.registerOverride("vtkSharedVolumeMapper",zL.newInstance)}var KL={newInstance:iS.newInstance(HL,"vtkStreamingOpenGLViewNodeFactory"),extend:HL};function qL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,n),kk.extend(e,t,n),t.myFactory=KL.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",XL),function(e,t){t.classHierarchy.push("vtkStreamingOpenGLRenderWindow")}(0,t)}var XL=iS.newInstance(qL,"vtkStreamingOpenGLRenderWindow"),YL={newInstance:XL,extend:qL},$L=iS.vtkDebugMacro;var ZL={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:kA(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function QL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ZL,n),iS.obj(e,t),iS.get(e,t,["distance"]),iS.setGet(e,t,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),iS.getArray(e,t,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),iS.setGetArray(e,t,["clippingRange","windowCenter"],2),iS.setGetArray(e,t,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),function(e,t){t.classHierarchy.push("vtkCamera");var n=new Float64Array(3),r=new Float64Array([0,0,-1]),a=new Float64Array([0,1,0]),o=VA(new Float64Array(16)),i=VA(new Float64Array(16)),s=new Float64Array(3),l=new Float64Array(3),u=new Float64Array(3),c=VA(new Float64Array(16)),d=VA(new Float64Array(16)),f=new Float64Array(3),p=new Float64Array(3);function m(){t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]}e.orthogonalizeViewUp=function(){var n=e.getViewMatrix();t.viewUp[0]=n[4],t.viewUp[1]=n[5],t.viewUp[2]=n[6],e.modified()},e.setPosition=function(n,r,a){n===t.position[0]&&r===t.position[1]&&a===t.position[2]||(t.position[0]=n,t.position[1]=r,t.position[2]=a,e.computeDistance(),e.modified())},e.setFocalPoint=function(n,r,a){n===t.focalPoint[0]&&r===t.focalPoint[1]&&a===t.focalPoint[2]||(t.focalPoint[0]=n,t.focalPoint[1]=r,t.focalPoint[2]=a,e.computeDistance(),e.modified())},e.setDistance=function(n){if(t.distance!==n){t.distance=n,t.distance<1e-20&&(t.distance=1e-20,$L("Distance is set to minimum."));var r=t.directionOfProjection;t.focalPoint[0]=t.position[0]+r[0]*t.distance,t.focalPoint[1]=t.position[1]+r[1]*t.distance,t.focalPoint[2]=t.position[2]+r[2]*t.distance,e.modified()}},e.computeDistance=function(){var e=t.focalPoint[0]-t.position[0],n=t.focalPoint[1]-t.position[1],r=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(e*e+n*n+r*r),t.distance<1e-20){t.distance=1e-20,$L("Distance is set to minimum.");var a=t.directionOfProjection;t.focalPoint[0]=t.position[0]+a[0]*t.distance,t.focalPoint[1]=t.position[1]+a[1]*t.distance,t.focalPoint[2]=t.position[2]+a[2]*t.distance}t.directionOfProjection[0]=e/t.distance,t.directionOfProjection[1]=n/t.distance,t.directionOfProjection[2]=r/t.distance,m()},e.dolly=function(n){if(!(n<=0)){var r=t.distance/n;e.setPosition(t.focalPoint[0]-r*t.directionOfProjection[0],t.focalPoint[1]-r*t.directionOfProjection[1],t.focalPoint[2]-r*t.directionOfProjection[2])}},e.roll=function(n){var r=t.position,a=t.focalPoint,o=t.viewUp,i=new Float64Array([o[0],o[1],o[2],0]);VA(c);var s=new Float64Array([a[0]-r[0],a[1]-r[1],a[2]-r[2]]);WA(c,c,jS(n),s),sI(i,i,c),t.viewUp[0]=i[0],t.viewUp[1]=i[1],t.viewUp[2]=i[2],e.modified()},e.azimuth=function(n){var r=t.focalPoint;VA(d),GA(d,d,r),WA(d,d,jS(n),t.viewUp),GA(d,d,[-r[0],-r[1],-r[2]]),fA(f,t.position,d),e.setPosition(f[0],f[1],f[2])},e.yaw=function(n){var r=t.position;VA(d),GA(d,d,r),WA(d,d,jS(n),t.viewUp),GA(d,d,[-r[0],-r[1],-r[2]]),fA(p,t.focalPoint,d),e.setFocalPoint(p[0],p[1],p[2])},e.elevation=function(n){var r=t.focalPoint,a=e.getViewMatrix(),o=[-a[0],-a[1],-a[2]];VA(d),GA(d,d,r),WA(d,d,jS(n),o),GA(d,d,[-r[0],-r[1],-r[2]]),fA(f,t.position,d),e.setPosition(f[0],f[1],f[2])},e.pitch=function(n){var r=t.position,a=e.getViewMatrix(),o=[a[0],a[1],a[2]];VA(d),GA(d,d,r),WA(d,d,jS(n),o),GA(d,d,[-r[0],-r[1],-r[2]]),fA(p,t.focalPoint,d),e.setFocalPoint.apply(e,rC(p))},e.zoom=function(n){n<=0||(t.parallelProjection?t.parallelScale/=n:t.viewAngle/=n,e.modified())},e.translate=function(n,r,a){var o=[n,r,a];lT(t.position,o,t.position),lT(t.focalPoint,o,t.focalPoint),e.computeDistance(),e.modified()},e.applyTransform=function(n){var r=[].concat(rC(t.viewUp),[1]),a=[],o=[],i=[];r[0]+=t.position[0],r[1]+=t.position[1],r[2]+=t.position[2],sI(a,[].concat(rC(t.position),[1]),n),sI(o,[].concat(rC(t.focalPoint),[1]),n),sI(i,r,n),i[0]-=a[0],i[1]-=a[1],i[2]-=a[2],e.setPosition.apply(e,rC(a.slice(0,3))),e.setFocalPoint.apply(e,rC(o.slice(0,3))),e.setViewUp.apply(e,rC(i.slice(0,3)))},e.getThickness=function(){return t.clippingRange[1]-t.clippingRange[0]},e.setThickness=function(n){var r=n;r<1e-20&&(r=1e-20,$L("Thickness is set to minimum.")),e.setClippingRange(t.clippingRange[0],t.clippingRange[0]+r)},e.setThicknessFromFocalPoint=function(n){var r=n;r<1e-20&&(r=1e-20,$L("Thickness is set to minimum.")),e.setClippingRange(t.distance-r/2,t.distance+r/2)},e.setRoll=function(e){},e.getRoll=function(){},e.setObliqueAngles=function(e,t){},e.getOrientation=function(){},e.getOrientationWXYZ=function(){},e.getFrustumPlanes=function(e){},e.getCameraLightTransformMatrix=function(e){return _A(e,t.cameraLightTransform),e},e.computeCameraLightTransform=function(){_A(o,e.getViewMatrix()),BA(o,o),YA(i,[t.distance,t.distance,t.distance]),jA(o,o,i),VA(t.cameraLightTransform),GA(t.cameraLightTransform,o,[0,0,-1])},e.deepCopy=function(e){},e.physicalOrientationToWorldDirection=function(e){var t=fI(e[0],e[1],e[2],e[3]),n=lI(),r=fI(0,0,1,0);return function(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3]}(n,t),cI(r,t,r),cI(r,r,n),[r[0],r[1],r[2]]},e.getPhysicalToWorldMatrix=function(t){e.getWorldToPhysicalMatrix(t),BA(t,t)},e.getWorldToPhysicalMatrix=function(e){VA(e);var n=[3];vT(t.physicalViewNorth,t.physicalViewUp,n),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[4]=t.physicalViewUp[0],e[5]=t.physicalViewUp[1],e[6]=t.physicalViewUp[2],e[8]=-t.physicalViewNorth[0],e[9]=-t.physicalViewNorth[1],e[10]=-t.physicalViewNorth[2],NA(e,e),GO(s,1/t.physicalScale,1/t.physicalScale,1/t.physicalScale),zA(e,e,s),GA(e,e,t.physicalTranslation)},e.computeViewParametersFromViewMatrix=function(i){BA(o,i),fA(s,n,o),e.computeDistance();var c=t.distance;e.setPosition(s[0],s[1],s[2]),fA(l,r,o),WO(l,l,s),oA(l,l),e.setDirectionOfProjection(l[0],l[1],l[2]),fA(u,a,o),WO(u,u,s),oA(u,u),e.setViewUp(u[0],u[1],u[2]),e.setDistance(c)},e.computeViewParametersFromPhysicalMatrix=function(t){e.getWorldToPhysicalMatrix(o),jA(o,t,o),e.computeViewParametersFromViewMatrix(o)},e.setViewMatrix=function(n){t.viewMatrix=n,t.viewMatrix&&(_A(o,t.viewMatrix),e.computeViewParametersFromViewMatrix(o),NA(t.viewMatrix,t.viewMatrix))},e.getViewMatrix=function(){if(t.viewMatrix)return t.viewMatrix;vE(o,t.position,t.focalPoint,t.viewUp),NA(o,o);var e=new Float64Array(16);return _A(e,o),e},e.setProjectionMatrix=function(e){t.projectionMatrix=e},e.getProjectionMatrix=function(e,n,r){var a=new Float64Array(16);if(VA(a),t.projectionMatrix){var i=1/t.physicalScale;return GO(s,i,i,i),_A(a,t.projectionMatrix),zA(a,a,s),NA(a,a),a}VA(o);var l=t.clippingRange[1]-t.clippingRange[0],u=[t.clippingRange[0]+(n+1)*l/2,t.clippingRange[0]+(r+1)*l/2];if(t.parallelProjection){var c=t.parallelScale*e,d=t.parallelScale,f=(t.windowCenter[0]-1)*c,p=(t.windowCenter[0]+1)*c,m=(t.windowCenter[1]-1)*d,g=(t.windowCenter[1]+1)*d;mE(o,f,p,m,g,u[0],u[1]),NA(o,o)}else{if(t.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var v,h,y=Math.tan(jS(t.viewAngle)/2);!0===t.useHorizontalViewAngle?(v=t.clippingRange[0]*y,h=t.clippingRange[0]*y/e):(v=t.clippingRange[0]*y*e,h=t.clippingRange[0]*y);var b=(t.windowCenter[0]-1)*v,x=(t.windowCenter[0]+1)*v,w=(t.windowCenter[1]-1)*h,C=(t.windowCenter[1]+1)*h,S=u[0],T=u[1];o[0]=2*S/(x-b),o[5]=2*S/(C-w),o[2]=(b+x)/(x-b),o[6]=(w+C)/(C-w),o[10]=-(S+T)/(T-S),o[14]=-1,o[11]=-2*S*T/(T-S),o[15]=0}return _A(a,o),a},e.getCompositeProjectionMatrix=function(t,n,r){var a=e.getViewMatrix(),o=e.getProjectionMatrix(t,n,r);return jA(o,a,o),o},e.setDirectionOfProjection=function(e,n,r){if(t.directionOfProjection[0]!==e||t.directionOfProjection[1]!==n||t.directionOfProjection[2]!==r){t.directionOfProjection[0]=e,t.directionOfProjection[1]=n,t.directionOfProjection[2]=r;var a=t.directionOfProjection;t.focalPoint[0]=t.position[0]+a[0]*t.distance,t.focalPoint[1]=t.position[1]+a[1]*t.distance,t.focalPoint[2]=t.position[2]+a[2]*t.distance,m()}},e.setDeviceAngles=function(n,r,a,o){var i=[3];vT(t.physicalViewNorth,t.physicalViewUp,i);var s=VA(new Float64Array(16));WA(s,s,jS(n),t.physicalViewUp),WA(s,s,jS(r),i),WA(s,s,jS(a),t.physicalViewNorth),WA(s,s,jS(-o),t.physicalViewUp);var l=new Float64Array([-t.physicalViewUp[0],-t.physicalViewUp[1],-t.physicalViewUp[2]]),u=new Float64Array(t.physicalViewNorth);fA(l,l,s),fA(u,u,s),e.setDirectionOfProjection(l[0],l[1],l[2]),e.setViewUp(u[0],u[1],u[2]),e.modified()},e.setOrientationWXYZ=function(t,n,r,a){var o=VA(new Float64Array(16));if(0!==t&&(0!==n||0!==r||0!==a)){var i=jS(t),s=lI();uI(s,[n,r,a],i),sE(o,s)}var l=new Float64Array(3);fA(l,[0,0,-1],o);var u=new Float64Array(3);fA(u,[0,1,0],o),e.setDirectionOfProjection.apply(e,rC(l)),e.setViewUp.apply(e,rC(u)),e.modified()},e.computeClippingRange=function(e){var n,r;n=t.viewPlaneNormal,r=t.position;for(var a=-n[0],o=-n[1],i=-n[2],s=-(a*r[0]+o*r[1]+i*r[2]),l=[a*e[0]+o*e[2]+i*e[4]+s,1e-18],u=0;u<2;u++)for(var c=0;c<2;c++)for(var d=0;d<2;d++){var f=a*e[d]+o*e[2+c]+i*e[4+u]+s;l[0]=f<l[0]?f:l[0],l[1]=f>l[1]?f:l[1]}return l}}(e,t)}var JL={newInstance:iS.newInstance(QL,"vtkCamera"),extend:QL};var eV={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,coneFalloff:5,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function tV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,eV,n),iS.obj(e,t),iS.setGet(e,t,["intensity","switch","positional","exponent","coneAngle","coneFalloff","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),iS.setGetArray(e,t,["color","position","focalPoint","attenuationValues"],3),function(e,t){t.classHierarchy.push("vtkLight");var n=new Float64Array(3);e.getTransformedPosition=function(){return t.transformMatrix?fA(n,t.position,t.transformMatrix):GO(n,t.position[0],t.position[1],t.position[2]),n},e.getTransformedFocalPoint=function(){return t.transformMatrix?fA(n,t.focalPoint,t.transformMatrix):GO(n,t.focalPoint[0],t.focalPoint[1],t.focalPoint[2]),n},e.getDirection=function(){return t.directionMTime<t.mtime&&(SA(t.direction,t.focalPoint,t.position),yT(t.direction),t.directionMTime=t.mtime),t.direction},e.setDirection=function(e){var n=new Float64Array(3);SA(n,t.position,e),t.focalPoint=n},e.setDirectionAngle=function(t,n){var r=jS(t),a=jS(n);e.setPosition(Math.cos(r)*Math.sin(a),Math.sin(r),Math.cos(r)*Math.cos(a)),e.setFocalPoint(0,0,0),e.setPositional(0)},e.setLightTypeToHeadLight=function(){e.setLightType("HeadLight")},e.setLightTypeToCameraLight=function(){e.setLightType("CameraLight")},e.setLightTypeToSceneLight=function(){e.setTransformMatrix(null),e.setLightType("SceneLight")},e.lightTypeIsHeadLight=function(){return"HeadLight"===t.lightType},e.lightTypeIsSceneLight=function(){return"SceneLight"===t.lightType},e.lightTypeIsCameraLight=function(){return"CameraLight"===t.lightType}}(e,t)}var nV={newInstance:iS.newInstance(tV,"vtkLight"),extend:tV,LIGHT_TYPES:["HeadLight","CameraLight","SceneLight"]},rV=iS.vtkErrorMacro;function aV(e,t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);var r=e.getNestedProps();if(r&&r.length)for(var a=0;a<r.length;a++)n(r[a],t);return t}var r;t.classHierarchy.push("vtkViewport"),e.getViewProps=function(){return t.props},e.hasViewProp=function(e){return t.props.includes(e)},e.addViewProp=function(n){n&&!e.hasViewProp(n)&&t.props.push(n)},e.removeViewProp=function(e){var n=t.props.filter((function(t){return t!==e}));t.props.length!==n.length&&(t.props=n)},e.removeAllViewProps=function(){t.props=[]},e.getViewPropsWithNestedProps=function(){for(var e=[],r=0;r<t.props.length;r++)n(t.props[r],e);return e},e.addActor2D=e.addViewProp,e.removeActor2D=function(t){e.removeViewProp(t)},e.getActors2D=function(){return t.actors2D=[],t.props.forEach((function(e){t.actors2D=t.actors2D.concat(e.getActors2D())})),t.actors2D},e.displayToView=function(){return rV("call displayToView on your view instead")},e.viewToDisplay=function(){return rV("callviewtodisplay on your view instead")},e.getSize=function(){return rV("call getSize on your View instead")},e.normalizedDisplayToProjection=function(t,n,r){var a=e.normalizedDisplayToNormalizedViewport(t,n,r);return e.normalizedViewportToProjection(a[0],a[1],a[2])},e.normalizedDisplayToNormalizedViewport=function(e,n,r){var a=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/a[0],(n-t.viewport[1])/a[1],r]},e.normalizedViewportToProjection=function(e,t,n){return[2*e-1,2*t-1,2*n-1]},e.projectionToNormalizedDisplay=function(t,n,r){var a=e.projectionToNormalizedViewport(t,n,r);return e.normalizedViewportToNormalizedDisplay(a[0],a[1],a[2])},e.normalizedViewportToNormalizedDisplay=function(e,n,r){var a=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[e*a[0]+t.viewport[0],n*a[1]+t.viewport[1],r]},e.projectionToNormalizedViewport=function(e,t,n){return[.5*(e+1),.5*(t+1),.5*(n+1)]},e.PickPropFrom=(r="PickPropFrom",function(){return rV("vtkViewport::".concat(r," - NOT IMPLEMENTED"))})}var oV={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function iV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,oV,n),iS.obj(e,t),iS.event(e,t,"event"),iS.setGetArray(e,t,["viewport"],4),iS.setGetArray(e,t,["background","background2"],3),aV(e,t)}var sV={newInstance:iS.newInstance(iV,"vtkViewport"),extend:iV},lV=IC,uV=RC,cV=kC;function dV(e){return function(){return uV("vtkRenderer::".concat(e," - NOT IMPLEMENTED"))}}var fV={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:VP(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,environmentTexture:null,environmentTextureDiffuseStrength:1,environmentTextureSpecularStrength:1,useEnvironmentTextureAsBackground:!1,pass:0};function pV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(Object.assign(t,fV,n),sV.extend(e,t,n),t.background||(t.background=[0,0,0,1]);t.background.length<3;)t.background.push(0);3===t.background.length&&t.background.push(1),zC(e,t,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),qC(e,t,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","environmentTexture","environmentTextureDiffuseStrength","environmentTextureSpecularStrength","useEnvironmentTextureAsBackground","useShadows","pass"]),XC(e,t,["actors","volumes","lights"]),$C(e,t,["background"],4,1),ZC(0,t,["renderWindow"]),function(e,t){t.classHierarchy.push("vtkRenderer");var n={type:"ComputeVisiblePropBoundsEvent",renderer:e},r={type:"ResetCameraClippingRangeEvent",renderer:e},a={type:"ResetCameraEvent",renderer:e};e.updateCamera=function(){return t.activeCamera||(lV("No cameras are on, creating one."),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0},e.updateLightsGeometryToFollowCamera=function(){var n=e.getActiveCameraAndResetIfCreated();t.lights.forEach((function(e){e.lightTypeIsSceneLight()||(e.lightTypeIsHeadLight()?(e.setPositionFrom(n.getPositionByReference()),e.setFocalPointFrom(n.getFocalPointByReference()),e.modified(n.getMTime())):e.lightTypeIsCameraLight()?e.setTransformMatrix(n.getCameraLightTransformMatrix(kA())):uV("light has unknown light type",e.get()))}))},e.updateLightGeometry=function(){return!t.lightFollowCamera||e.updateLightsGeometryToFollowCamera()},e.allocateTime=dV("allocateTime"),e.updateGeometry=dV("updateGeometry"),e.getVTKWindow=function(){return t._renderWindow},e.setLayer=function(n){lV(e.getClassName(),e,"setting Layer to ",n),t.layer!==n&&(t.layer=n,e.modified()),e.setPreserveColorBuffer(!!n)},e.setActiveCamera=function(n){return t.activeCamera!==n&&(t.activeCamera=n,e.modified(),e.invokeEvent({type:"ActiveCameraEvent",camera:n}),!0)},e.makeCamera=function(){var t=JL.newInstance();return e.invokeEvent({type:"CreateCameraEvent",camera:t}),t},e.getActiveCamera=function(){return t.activeCamera||(t.activeCamera=e.makeCamera()),t.activeCamera},e.getActiveCameraAndResetIfCreated=function(){return t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera},e.getActors=function(){return t.actors=[],t.props.forEach((function(e){t.actors=t.actors.concat(e.getActors())})),t.actors},e.addActor=e.addViewProp,e.removeActor=function(n){t.actors=t.actors.filter((function(e){return e!==n})),e.removeViewProp(n),e.modified()},e.removeAllActors=function(){e.getActors().forEach((function(t){e.removeViewProp(t)})),t.actors=[],e.modified()},e.getVolumes=function(){return t.volumes=[],t.props.forEach((function(e){t.volumes=t.volumes.concat(e.getVolumes())})),t.volumes},e.addVolume=e.addViewProp,e.removeVolume=function(n){t.volumes=t.volumes.filter((function(e){return e!==n})),e.removeViewProp(n),e.modified()},e.removeAllVolumes=function(){e.getVolumes().forEach((function(t){e.removeViewProp(t)})),t.volumes=[],e.modified()},e.hasLight=function(e){return t.lights.includes(e)},e.addLight=function(n){n&&!e.hasLight(n)&&(t.lights.push(n),e.modified())},e.removeLight=function(n){t.lights=t.lights.filter((function(e){return e!==n})),e.modified()},e.removeAllLights=function(){t.lights=[],e.modified()},e.setLightCollection=function(n){t.lights=n,e.modified()},e.makeLight=nV.newInstance,e.createLight=function(){t.automaticLightCreation&&(t._createdLight&&(e.removeLight(t._createdLight),t._createdLight.delete(),t._createdLight=null),t._createdLight=e.makeLight(),e.addLight(t._createdLight),t._createdLight.setLightTypeToHeadLight(),t._createdLight.setPosition(e.getActiveCamera().getPosition()),t._createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))},e.normalizedDisplayToWorld=function(t,n,r,a){var o=e.normalizedDisplayToProjection(t,n,r);return o=e.projectionToView(o[0],o[1],o[2],a),e.viewToWorld(o[0],o[1],o[2])},e.worldToNormalizedDisplay=function(t,n,r,a){var o=e.worldToView(t,n,r);return o=e.viewToProjection(o[0],o[1],o[2],a),e.projectionToNormalizedDisplay(o[0],o[1],o[2])},e.viewToWorld=function(e,n,r){if(null===t.activeCamera)return uV("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var a=t.activeCamera.getViewMatrix();BA(a,a),NA(a,a);var o=new Float64Array([e,n,r]);return fA(o,o,a),o},e.projectionToView=function(e,n,r,a){if(null===t.activeCamera)return uV("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getProjectionMatrix(a,-1,1);BA(o,o),NA(o,o);var i=new Float64Array([e,n,r]);return fA(i,i,o),i},e.worldToView=function(e,n,r){if(null===t.activeCamera)return uV("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var a=t.activeCamera.getViewMatrix();NA(a,a);var o=new Float64Array([e,n,r]);return fA(o,o,a),o},e.viewToProjection=function(e,n,r,a){if(null===t.activeCamera)return uV("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getProjectionMatrix(a,-1,1);NA(o,o);var i=new Float64Array([e,n,r]);return fA(i,i,o),i},e.computeVisiblePropBounds=function(){t.allBounds[0]=WM.INIT_BOUNDS[0],t.allBounds[1]=WM.INIT_BOUNDS[1],t.allBounds[2]=WM.INIT_BOUNDS[2],t.allBounds[3]=WM.INIT_BOUNDS[3],t.allBounds[4]=WM.INIT_BOUNDS[4],t.allBounds[5]=WM.INIT_BOUNDS[5];var r=!0;e.invokeEvent(n);for(var a=0;a<t.props.length;++a){var o=t.props[a];if(o.getVisibility()&&o.getUseBounds()){var i=o.getBounds();i&&bP(i)&&(r=!1,i[0]<t.allBounds[0]&&(t.allBounds[0]=i[0]),i[1]>t.allBounds[1]&&(t.allBounds[1]=i[1]),i[2]<t.allBounds[2]&&(t.allBounds[2]=i[2]),i[3]>t.allBounds[3]&&(t.allBounds[3]=i[3]),i[4]<t.allBounds[4]&&(t.allBounds[4]=i[4]),i[5]>t.allBounds[5]&&(t.allBounds[5]=i[5]))}}return r&&(yP(t.allBounds),lV("Can't compute bounds, no 3D props are visible")),t.allBounds},e.resetCamera=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||e.computeVisiblePropBounds(),r=[0,0,0];if(!bP(n))return lV("Cannot reset camera!"),!1;var o=null;if(!e.getActiveCamera())return uV("Trying to reset non-existent camera"),!1;o=t.activeCamera.getViewPlaneNormal(),t.activeCamera.setViewAngle(30),r[0]=(n[0]+n[1])/2,r[1]=(n[2]+n[3])/2,r[2]=(n[4]+n[5])/2;var i=n[1]-n[0],s=n[3]-n[2],l=n[5]-n[4],u=(i*=i)+(s*=s)+(l*=l);u=0===u?1:u,u=.5*Math.sqrt(u);var c=jS(t.activeCamera.getViewAngle()),d=u,f=u/Math.sin(.5*c),p=t.activeCamera.getViewUp();return Math.abs(mT(p,o))>.999&&(cV("Resetting view-up since view plane normal is parallel"),t.activeCamera.setViewUp(-p[2],p[0],p[1])),t.activeCamera.setFocalPoint(r[0],r[1],r[2]),t.activeCamera.setPosition(r[0]+f*o[0],r[1]+f*o[1],r[2]+f*o[2]),e.resetCameraClippingRange(n),t.activeCamera.setParallelScale(d),t.activeCamera.setPhysicalScale(u),t.activeCamera.setPhysicalTranslation(-r[0],-r[1],-r[2]),e.invokeEvent(a),!0},e.resetCameraClippingRange=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||e.computeVisiblePropBounds();if(!bP(n))return lV("Cannot reset camera clipping range!"),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return uV("Trying to reset clipping range of non-existent camera"),!1;var a=t.activeCamera.computeClippingRange(n),o=0;if(t.activeCamera.getParallelProjection())o=.2*t.activeCamera.getParallelScale();else{var i=jS(t.activeCamera.getViewAngle());o=.2*Math.tan(i/2)*a[1]}return a[1]-a[0]<o&&(o=o-a[1]+a[0],a[1]+=o/2,a[0]-=o/2),a[0]<0&&(a[0]=0),a[0]=.99*a[0]-(a[1]-a[0])*t.clippingRangeExpansion,a[1]=1.01*a[1]+(a[1]-a[0])*t.clippingRangeExpansion,a[0]=a[0]>=a[1]?.01*a[1]:a[0],t.nearClippingPlaneTolerance||(t.nearClippingPlaneTolerance=.01),a[0]<t.nearClippingPlaneTolerance*a[1]&&(a[0]=t.nearClippingPlaneTolerance*a[1]),t.activeCamera.setClippingRange(a[0],a[1]),e.invokeEvent(r),!1},e.setRenderWindow=function(e){e!==t._renderWindow&&(t._vtkWindow=e,t._renderWindow=e)},e.visibleActorCount=function(){return t.props.filter((function(e){return e.getVisibility()})).length},e.visibleVolumeCount=e.visibleActorCount,e.getMTime=function(){var e=t.mtime,n=t.activeCamera?t.activeCamera.getMTime():0;n>e&&(e=n);var r=t._createdLight?t._createdLight.getMTime():0;return r>e&&(e=r),e},e.getTransparent=function(){return!!t.preserveColorBuffer},e.isActiveCameraCreated=function(){return!!t.activeCamera}}(e,t)}var mV={newInstance:eS(pV,"vtkRenderer"),extend:pV},gV={Device:{Unknown:0,LeftController:1,RightController:2},Input:{Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},Axis:{Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4}};function vV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vV(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yV=gV.Device,bV=gV.Input,xV=iS.vtkWarningMacro,wV=iS.vtkErrorMacro,CV=iS.normalizeWheel,SV=iS.vtkOnceErrorMacro,TV=new MouseEvent(""),PV={"xr-standard":[bV.Trigger,bV.Grip,bV.TrackPad,bV.Thumbstick,bV.A,bV.B]},OV=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function AV(e){e.cancelable&&e.preventDefault()}function EV(e){var t=Object.create(null);return e.forEach((function(e){var n=e.pointerId,r=e.position;t[n]=r})),t}var IV={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1,mouseScrollDebounceByPass:!1};function RV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,IV,n),iS.obj(e,t),t._animationExtendedEnd=0,iS.event(e,t,"RenderEvent"),OV.forEach((function(n){return iS.event(e,t,n)})),iS.get(e,t,["initialized","container","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),iS.setGet(e,t,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp","mouseScrollDebounceByPass"]),iS.moveToProtected(e,t,["view"]),function(e,t){t.classHierarchy.push("vtkRenderWindowInteractor");var n=new Set,r=new Map,a=1;function o(n,r){t._forcedRenderer||(t.currentRenderer=e.findPokedRenderer(n,r))}function i(e){var n=t._view.getCanvas(),a=n.getBoundingClientRect(),i=n.width/a.width,s=n.height/a.height,l={x:i*(e.clientX-a.left),y:s*(a.height-e.clientY+a.top),z:0};return(r.size<=1||!t.currentRenderer)&&o(l.x,l.y),l}function s(e){return{controlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey}}function l(e){var t=s(e);return hV({key:e.key,keyCode:e.charCode},t)}function u(e){return e.pointerType||""}function c(){t._view&&t.enabled&&t.enableRender&&(t.inRender=!0,t._view.traverseAllPasses(),t.inRender=!1),e.invokeRenderEvent()}e.start=function(){(t.initialized||(e.initialize(),t.initialized))&&e.startEventLoop()},e.setRenderWindow=function(e){wV("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},e.setInteractorStyle=function(n){t.interactorStyle!==n&&(null!=t.interactorStyle&&t.interactorStyle.setInteractor(null),t.interactorStyle=n,null!=t.interactorStyle&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))},e.initialize=function(){t.initialized=!0,e.enable(),e.render()},e.enable=function(){return e.setEnabled(!0)},e.disable=function(){return e.setEnabled(!1)},e.startEventLoop=function(){return xV("empty event loop")},e.getCurrentRenderer=function(){return t.currentRenderer||o(0,0),t.currentRenderer},e.bindEvents=function(n){t.container=n,n.addEventListener("contextmenu",AV),n.addEventListener("wheel",e.handleWheel),n.addEventListener("DOMMouseScroll",e.handleWheel),n.addEventListener("pointerenter",e.handlePointerEnter),n.addEventListener("pointerleave",e.handlePointerLeave),n.addEventListener("pointermove",e.handlePointerMove,{passive:!1}),n.addEventListener("pointerdown",e.handlePointerDown,{passive:!1}),n.addEventListener("pointerup",e.handlePointerUp),n.addEventListener("pointercancel",e.handlePointerCancel),document.addEventListener("keypress",e.handleKeyPress),document.addEventListener("keydown",e.handleKeyDown),document.addEventListener("keyup",e.handleKeyUp),document.addEventListener("pointerlockchange",e.handlePointerLockChange),n.style.touchAction="none",n.style.userSelect="none",n.style.webkitTapHighlightColor="rgba(0,0,0,0)"},e.unbindEvents=function(){var n=t.container;n.removeEventListener("contextmenu",AV),n.removeEventListener("wheel",e.handleWheel),n.removeEventListener("DOMMouseScroll",e.handleWheel),n.removeEventListener("pointerenter",e.handlePointerEnter),n.removeEventListener("pointerleave",e.handlePointerLeave),n.removeEventListener("pointermove",e.handlePointerMove,{passive:!1}),n.removeEventListener("pointerdown",e.handlePointerDown,{passive:!1}),n.removeEventListener("pointerup",e.handlePointerUp),n.removeEventListener("pointercancel",e.handlePointerCancel),document.removeEventListener("keypress",e.handleKeyPress),document.removeEventListener("keydown",e.handleKeyDown),document.removeEventListener("keyup",e.handleKeyUp),document.removeEventListener("pointerlockchange",e.handlePointerLockChange),t.container=null,r.clear()},e.handleKeyPress=function(t){var n=l(t);e.keyPressEvent(n)},e.handleKeyDown=function(t){var n=l(t);e.keyDownEvent(n)},e.handleKeyUp=function(t){var n=l(t);e.keyUpEvent(n)},e.handlePointerEnter=function(t){var n=hV(hV({},s(t)),{},{position:i(t),deviceType:u(t)});e.pointerEnterEvent(n),"mouse"===n.deviceType&&e.mouseEnterEvent(n)},e.handlePointerLeave=function(t){var n=hV(hV({},s(t)),{},{position:i(t),deviceType:u(t)});e.pointerLeaveEvent(n),"mouse"===n.deviceType&&e.mouseLeaveEvent(n)},e.handlePointerDown=function(n){if(!(n.button>2||e.isPointerLocked()))switch(t.preventDefaultOnPointerDown&&AV(n),n.target.hasPointerCapture(n.pointerId)&&n.target.releasePointerCapture(n.pointerId),t.container.setPointerCapture(n.pointerId),r.has(n.pointerId)&&xV("[RenderWindowInteractor] duplicate pointerId detected"),r.set(n.pointerId,{pointerId:n.pointerId,position:i(n)}),n.pointerType){case"pen":case"touch":e.handleTouchStart(n);break;default:e.handleMouseDown(n)}},e.handlePointerUp=function(n){if(r.has(n.pointerId))switch(t.preventDefaultOnPointerUp&&AV(n),r.delete(n.pointerId),t.container.releasePointerCapture(n.pointerId),n.pointerType){case"pen":case"touch":e.handleTouchEnd(n);break;default:e.handleMouseUp(n)}},e.handlePointerCancel=function(t){if(r.has(t.pointerId))switch(r.delete(t.pointerId),t.pointerType){case"pen":case"touch":e.handleTouchEnd(t);break;default:e.handleMouseUp(t)}},e.handlePointerMove=function(t){switch(r.has(t.pointerId)&&(r.get(t.pointerId).position=i(t)),t.pointerType){case"pen":case"touch":e.handleTouchMove(t);break;default:e.handleMouseMove(t)}},e.handleMouseDown=function(t){var n=hV(hV({},s(t)),{},{position:i(t),deviceType:u(t)});switch(t.button){case 0:e.leftButtonPressEvent(n);break;case 1:e.middleButtonPressEvent(n);break;case 2:e.rightButtonPressEvent(n);break;default:wV("Unknown mouse button pressed: ".concat(t.button))}},e.requestPointerLock=function(){t.container&&t.container.requestPointerLock()},e.exitPointerLock=function(){return document.exitPointerLock()},e.isPointerLocked=function(){return!!t.container&&document.pointerLockElement===t.container},e.handlePointerLockChange=function(){e.isPointerLocked()?e.startPointerLockEvent():e.endPointerLockEvent()},e.requestAnimation=function(r){void 0!==r?n.has(r)?xV("requester is already registered for animating"):(n.add(r),t.animationRequest||1!==n.size||t.xrAnimation||(t._animationStartTime=Date.now(),t._animationFrameCount=0,t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())):wV("undefined requester, can not start animating")},e.extendAnimation=function(r){var a=Date.now()+r;t._animationExtendedEnd=Math.max(t._animationExtendedEnd,a),t.animationRequest||0!==n.size||t.xrAnimation||(t._animationStartTime=Date.now(),t._animationFrameCount=0,t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())},e.isAnimating=function(){return t.xrAnimation||null!==t.animationRequest},e.cancelAnimation=function(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.has(r))n.delete(r),t.animationRequest&&0===n.size&&Date.now()>t._animationExtendedEnd&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render());else if(!a){var o=r&&r.getClassName?r.getClassName():r;xV("".concat(o," did not request an animation"))}},e.switchToXRAnimation=function(){t.animationRequest&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null),t.xrAnimation=!0},e.returnFromXRAnimation=function(){t.xrAnimation=!1,0!==n.size&&(t.recentAnimationFrameRate=10,t.animationRequest=requestAnimationFrame(e.handleAnimation))},e.updateXRGamepads=function(n,r,a){n.inputSources.forEach((function(n){var o=null==n.gripSpace?null:r.getPose(n.gripSpace,a),i=n.gamepad,s=n.handedness;if(i){i.index in t.lastGamepadValues||(t.lastGamepadValues[i.index]={left:{buttons:{}},right:{buttons:{}},none:{buttons:{}}});for(var l=0;l<i.buttons.length;++l)l in t.lastGamepadValues[i.index][s].buttons||(t.lastGamepadValues[i.index][s].buttons[l]=!1),t.lastGamepadValues[i.index][s].buttons[l]!==i.buttons[l].pressed&&null!=o&&(e.button3DEvent({gamepad:i,position:o.transform.position,orientation:o.transform.orientation,pressed:i.buttons[l].pressed,device:"left"===n.handedness?yV.LeftController:yV.RightController,input:PV[i.mapping]&&PV[i.mapping][l]?PV[i.mapping][l]:bV.Trigger}),t.lastGamepadValues[i.index][s].buttons[l]=i.buttons[l].pressed),t.lastGamepadValues[i.index][s].buttons[l]&&null!=o&&e.move3DEvent({gamepad:i,position:o.transform.position,orientation:o.transform.orientation,device:"left"===n.handedness?yV.LeftController:yV.RightController})}}))},e.handleMouseMove=function(n){var r=hV(hV({},s(n)),{},{position:i(n),deviceType:u(n)});0===t.moveTimeoutID?e.startMouseMoveEvent(r):(e.mouseMoveEvent(r),clearTimeout(t.moveTimeoutID)),t.moveTimeoutID=setTimeout((function(){e.endMouseMoveEvent(),t.moveTimeoutID=0}),200)},e.handleAnimation=function(){var r=Date.now();t._animationFrameCount++,r-t._animationStartTime>1e3&&t._animationFrameCount>1&&(t.recentAnimationFrameRate=1e3*(t._animationFrameCount-1)/(r-t._animationStartTime),t.lastFrameTime=1/t.recentAnimationFrameRate,e.animationFrameRateUpdateEvent(),t._animationStartTime=r,t._animationFrameCount=1),e.animationEvent(),c(),n.size>0||Date.now()<t._animationExtendedEnd?t.animationRequest=requestAnimationFrame(e.handleAnimation):(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render())},e.handleWheel=function(n){AV(n);var r=hV(hV(hV({},CV(n)),s(n)),{},{position:i(n),deviceType:u(n)});0===t.wheelTimeoutID&&(a=Math.abs(r.spinY)>=.3?Math.abs(r.spinY):1),r.spinY/=a,0===t.wheelTimeoutID?(e.startMouseWheelEvent(r),e.mouseWheelEvent(r)):(e.mouseWheelEvent(r),clearTimeout(t.wheelTimeoutID)),t.mouseScrollDebounceByPass?(e.extendAnimation(600),e.endMouseWheelEvent(),t.wheelTimeoutID=0):t.wheelTimeoutID=setTimeout((function(){e.extendAnimation(600),e.endMouseWheelEvent(),t.wheelTimeoutID=0}),200)},e.handleMouseUp=function(t){var n=hV(hV({},s(t)),{},{position:i(t),deviceType:u(t)});switch(t.button){case 0:e.leftButtonReleaseEvent(n);break;case 1:e.middleButtonReleaseEvent(n);break;case 2:e.rightButtonReleaseEvent(n);break;default:wV("Unknown mouse button released: ".concat(t.button))}},e.handleTouchStart=function(n){var a=rC(r.values());if(t.recognizeGestures&&a.length>1){var o=EV(r);if(2===a.length){var l=hV(hV({},s(TV)),{},{position:a[0].position,deviceType:u(n)});e.leftButtonReleaseEvent(l)}e.recognizeGesture("TouchStart",o)}else if(1===a.length){var c=hV(hV({},s(TV)),{},{position:i(n),deviceType:u(n)});e.leftButtonPressEvent(c)}},e.handleTouchMove=function(n){var a=rC(r.values());if(t.recognizeGestures&&a.length>1){var o=EV(r);e.recognizeGesture("TouchMove",o)}else if(1===a.length){var i=hV(hV({},s(TV)),{},{position:a[0].position,deviceType:u(n)});e.mouseMoveEvent(i)}},e.handleTouchEnd=function(n){var a=rC(r.values());if(t.recognizeGestures)if(0===a.length){var o=hV(hV({},s(TV)),{},{position:i(n),deviceType:u(n)});e.leftButtonReleaseEvent(o)}else if(1===a.length){var l=EV(r);e.recognizeGesture("TouchEnd",l);var c=hV(hV({},s(TV)),{},{position:a[0].position,deviceType:u(n)});e.leftButtonPressEvent(c)}else{var d=EV(r);e.recognizeGesture("TouchMove",d)}else if(1===a.length){var f=hV(hV({},s(TV)),{},{position:a[0].position,deviceType:u(n)});e.leftButtonReleaseEvent(f)}},e.setView=function(n){t._view!==n&&(t._view=n,t._view.getRenderable().setInteractor(e),e.modified())},e.getFirstRenderer=function(){var e,n,r;return null===(e=t._view)||void 0===e||null===(n=e.getRenderable())||void 0===n||null===(r=n.getRenderersByReference())||void 0===r?void 0:r[0]},e.findPokedRenderer=function(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t._view)return null;var o=null===(e=t._view)||void 0===e||null===(n=e.getRenderable())||void 0===n?void 0:n.getRenderers();if(!o||0===o.length)return null;o.sort((function(e,t){return e.getLayer()-t.getLayer()}));for(var i=null,s=null,l=null,u=o.length;u--;){var c=o[u];if(t._view.isInViewport(r,a,c)&&c.getInteractive()){l=c;break}null===i&&c.getInteractive()&&(i=c),null===s&&t._view.isInViewport(r,a,c)&&(s=c)}return null===l&&(l=i),null===l&&(l=s),null==l&&(l=o[0]),l},e.render=function(){e.isAnimating()||t.inRender||c()},OV.forEach((function(n){var r=n.charAt(0).toLowerCase()+n.slice(1);e["".concat(r,"Event")]=function(r){if(t.enabled)if(e.getCurrentRenderer()){var a=hV({type:n,pokedRenderer:t.currentRenderer,firstRenderer:e.getFirstRenderer()},r);e["invoke".concat(n)](a)}else SV("\n          Can not forward events without a current renderer on the interactor.\n        ")}})),e.recognizeGesture=function(n,r){if(!(Object.keys(r).length>2)){if(t.startingEventPositions||(t.startingEventPositions={}),"TouchStart"===n)return Object.keys(r).forEach((function(e){t.startingEventPositions[e]=r[e]})),void(t.currentGesture="Start");if("TouchEnd"===n)return"Pinch"===t.currentGesture&&(e.render(),e.endPinchEvent()),"Rotate"===t.currentGesture&&(e.render(),e.endRotateEvent()),"Pan"===t.currentGesture&&(e.render(),e.endPanEvent()),t.currentGesture="Start",void(t.startingEventPositions={});var a=0,o=[],i=[];Object.keys(r).forEach((function(e){o[a]=r[e],i[a]=t.startingEventPositions[e],a++}));var s=Math.sqrt((i[0].x-i[1].x)*(i[0].x-i[1].x)+(i[0].y-i[1].y)*(i[0].y-i[1].y)),l=Math.sqrt((o[0].x-o[1].x)*(o[0].x-o[1].x)+(o[0].y-o[1].y)*(o[0].y-o[1].y)),u=GS(Math.atan2(i[1].y-i[0].y,i[1].x-i[0].x)),c=GS(Math.atan2(o[1].y-o[0].y,o[1].x-o[0].x)),d=c-u;c=c+180>=360?c-180:c+180,u=u+180>=360?u-180:u+180,Math.abs(c-u)<Math.abs(d)&&(d=c-u);var f=[];if(f[0]=(o[0].x-i[0].x+o[1].x-i[1].x)/2,f[1]=(o[0].y-i[0].y+o[1].y-i[1].y)/2,"TouchMove"===n)if("Start"===t.currentGesture){var p=.01*Math.sqrt(t.container.clientWidth*t.container.clientWidth+t.container.clientHeight*t.container.clientHeight);p<15&&(p=15);var m=Math.abs(l-s),g=3.1415926*l*Math.abs(d)/360,v=Math.sqrt(f[0]*f[0]+f[1]*f[1]);if(m>p&&m>g&&m>v){t.currentGesture="Pinch";var h={scale:1,touches:r};e.startPinchEvent(h)}else if(g>p&&g>v){t.currentGesture="Rotate";var y={rotation:0,touches:r};e.startRotateEvent(y)}else if(v>p){t.currentGesture="Pan";var b={translation:[0,0],touches:r};e.startPanEvent(b)}}else{if("Rotate"===t.currentGesture){var x={rotation:d,touches:r};e.rotateEvent(x)}if("Pinch"===t.currentGesture){var w={scale:l/s,touches:r};e.pinchEvent(w)}if("Pan"===t.currentGesture){var C={translation:f,touches:r};e.panEvent(C)}}}},e.handleVisibilityChange=function(){t._animationStartTime=Date.now(),t._animationFrameCount=0},e.setCurrentRenderer=function(e){t._forcedRenderer=!!e,t.currentRenderer=e};var d=e.delete;e.delete=function(){for(;n.size;)e.cancelAnimation(n.values().next().value);"undefined"!==typeof document.hidden&&document.removeEventListener("visibilitychange",e.handleVisibilityChange),t.container&&e.unbindEvents(),d()},"undefined"!==typeof document.hidden&&document.addEventListener("visibilitychange",e.handleVisibilityChange,!1)}(e,t)}var kV=hV({newInstance:iS.newInstance(RV,"vtkRenderWindowInteractor"),extend:RV,handledEvents:OV},gV),MV=iS.vtkErrorMacro,_V=[1,-1,1,-1,1,-1];var DV={empty:!0,numberOfComponents:3,dataType:dS.FLOAT,bounds:[1,-1,1,-1,1,-1]};function LV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,DV,n),eO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkPoints"),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;e.getNumberOfPoints()!==n&&(t.size=n*r,t.values=iS.newTypedArray(t.dataType,t.size),e.setNumberOfComponents(r),e.modified())},e.setPoint=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.setTuple(t,r)},e.getPoint=e.getTuple,e.insertNextPoint=function(t,n,r){return e.insertNextTuple([t,n,r])},e.getBounds=function(){if(3===e.getNumberOfComponents()){var n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];var r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1];var a=e.getRange(2);return t.bounds[4]=a[0],t.bounds[5]=a[1],t.bounds}if(2!==e.getNumberOfComponents())return MV("getBounds called on an array with components of\n        ".concat(e.getNumberOfComponents())),_V;var o=e.getRange(0);t.bounds[0]=o[0],t.bounds[1]=o[1];var i=e.getRange(1);return t.bounds[2]=i[0],t.bounds[3]=i[1],t.bounds[4]=0,t.bounds[5]=0,t.bounds},e.computeBounds=e.getBounds,e.setNumberOfComponents(t.numberOfComponents<2?3:t.numberOfComponents)}(e,t)}var VV={newInstance:iS.newInstance(LV,"vtkPoints"),extend:LV};function NV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NV(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FV(e){var t=0;return e.filter((function(e,n){return n===t&&(t+=e+1,!0)}))}function UV(e){for(var t=0,n=0;n<e.length;)n+=e[n]+1,t++;return t}var jV={extractCellSizes:FV,getNumberOfCells:UV};function GV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eO.extend(e,t,function(e){return BV({empty:!0,numberOfComponents:1,dataType:dS.UNSIGNED_INT},e)}(n)),function(e,t){t.classHierarchy.push("vtkCellArray");var n=BV({},e);e.getNumberOfCells=function(n){return void 0===t.numberOfCells||n?(t.cellSizes?t.numberOfCells=t.cellSizes.length:t.numberOfCells=UV(e.getData()),t.numberOfCells):t.numberOfCells},e.getCellSizes=function(n){return void 0===t.cellSizes||n?(t.cellSizes=FV(e.getData()),t.cellSizes):t.cellSizes},e.resize=function(r){var a=e.getNumberOfTuples();n.resize(r);var o=e.getNumberOfTuples();o<a&&(0===o?(t.numberOfCells=0,t.cellSizes=[]):(t.numberOfCells=void 0,t.cellSizes=void 0))},e.setData=function(e){n.setData(e,1),t.numberOfCells=void 0,t.cellSizes=void 0},e.getCell=function(e){var n=e,r=t.values[n++];return t.values.subarray(n,n+r)},e.insertNextCell=function(n){var r=e.getNumberOfCells();return e.insertNextTuples([n.length].concat(rC(n))),++t.numberOfCells,null!=t.cellSizes&&t.cellSizes.push(n.length),r}}(e,t)}var zV=BV({newInstance:iS.newInstance(GV,"vtkCellArray"),extend:GV},jV);var WV={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function HV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,WV,n),iS.obj(e,t),t.points||(t.points=VV.newInstance()),iS.get(e,t,["points","pointsIds"]),function(e,t){t.classHierarchy.push("vtkCell"),e.initialize=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){t.pointsIds=n;var r=t.points.getData();r.length!==3*t.pointsIds.length&&(r=iS.newTypedArray(e.getDataType(),3*t.pointsIds.length));var a=e.getData();t.pointsIds.forEach((function(e,t){var n=3*e,o=3*t;r[o]=a[n],r[++o]=a[++n],r[++o]=a[++n]})),t.points.setData(r)}else{t.points=e,t.pointsIds=new Array(e.getNumberOfPoints());for(var o=e.getNumberOfPoints()-1;o>=0;--o)t.pointsIds[o]=o}},e.getBounds=function(){var e=t.points.getNumberOfPoints(),n=[];if(e){t.points.getPoint(0,n),t.bounds[0]=n[0],t.bounds[1]=n[0],t.bounds[2]=n[1],t.bounds[3]=n[1],t.bounds[4]=n[2],t.bounds[5]=n[2];for(var r=1;r<e;r++)t.points.getPoint(r,n),t.bounds[0]=n[0]<t.bounds[0]?n[0]:t.bounds[0],t.bounds[1]=n[0]>t.bounds[1]?n[0]:t.bounds[1],t.bounds[2]=n[1]<t.bounds[2]?n[1]:t.bounds[2],t.bounds[3]=n[1]>t.bounds[3]?n[1]:t.bounds[3],t.bounds[4]=n[2]<t.bounds[4]?n[2]:t.bounds[4],t.bounds[5]=n[2]>t.bounds[5]?n[2]:t.bounds[5]}else yP(t.bounds);return t.bounds},e.getLength2=function(){e.getBounds();for(var n=0,r=0,a=0;a<3;a++)n+=(r=t.bounds[2*a+1]-t.bounds[2*a])*r;return n},e.getParametricDistance=function(e){for(var t,n=0,r=0;r<3;r++)(t=e[r]<0?-e[r]:e[r]>1?e[r]-1:0)>n&&(n=t);return n},e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.deepCopy=function(e){e.initialize(t.points,t.pointsIds)},e.getCellDimension=function(){},e.intersectWithLine=function(e,t,n,r,a,o,i){},e.evaluatePosition=function(e,t,n,r,a,o){iS.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}(e,t)}var KV={newInstance:iS.newInstance(HV,"vtkCell"),extend:HV};var qV={array:null,maxId:0,extend:0};function XV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,qV,n),iS.obj(e,t),function(e,t){t.classHierarchy.push("vtkCellLinks"),e.buildLinks=function(n){var r=n.getPoints().getNumberOfPoints(),a=n.getNumberOfCells(),o=new Uint32Array(r);if(n.isA("vtkPolyData")){for(var i=0;i<a;++i)n.getCellPoints(i).cellPointIds.forEach((function(t){e.incrementLinkCount(t)}));e.allocateLinks(r),t.maxId=r-1;for(var s=function(t){n.getCellPoints(t).cellPointIds.forEach((function(n){e.insertCellReference(n,o[n]++,t)}))},l=0;l<a;++l)s(l)}else{for(var u=0;u<a;u++)KV.newInstance().getPointsIds().forEach((function(t){e.incrementLinkCount(t)}));e.allocateLinks(r),t.maxId=r-1;for(var c=function(t){KV.newInstance().getPointsIds().forEach((function(n){e.insertCellReference(n,o[n]++,t)}))},d=0;d<a;++d)c(d)}},e.allocate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.array=Array(e).fill().map((function(){return{ncells:0,cells:null}})),t.extend=n,t.maxId=-1},e.initialize=function(){t.array=null},e.getLink=function(e){return t.array[e]},e.getNcells=function(e){return t.array[e].ncells},e.getCells=function(e){return t.array[e].cells},e.insertNextPoint=function(e){t.array.push({ncells:e,cells:Array(e)}),++t.maxId},e.insertNextCellReference=function(e,n){t.array[e].cells[t.array[e].ncells++]=n},e.deletePoint=function(e){t.array[e].ncells=0,t.array[e].cells=null},e.removeCellReference=function(e,n){t.array[n].cells=t.array[n].cells.filter((function(t){return t!==e})),t.array[n].ncells=t.array[n].cells.length},e.addCellReference=function(e,n){t.array[n].cells[t.array[n].ncells++]=e},e.resizeCellList=function(e,n){t.array[e].cells.length=n},e.squeeze=function(){!function(e,t){var n=t;for(t>=e.array.length&&(n+=e.array.length);n>e.array.length;)e.array.push({ncells:0,cells:null});e.array.length=n}(t,t.maxId+1)},e.reset=function(){t.maxId=-1},e.deepCopy=function(e){t.array=rC(e.array),t.extend=e.extend,t.maxId=e.maxId},e.incrementLinkCount=function(e){++t.array[e].ncells},e.allocateLinks=function(e){for(var n=0;n<e;++n)t.array[n].cells=new Array(t.array[n].ncells)},e.insertCellReference=function(e,n,r){t.array[e].cells[n]=r}}(e,t)}var YV={newInstance:iS.newInstance(XV,"vtkCellLinks"),extend:XV},$V={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},ZV=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var JV={getClassNameFromTypeId:function(e){return e<ZV.length?ZV[e]:"UnknownClass"},getTypeIdFromClassName:function(e){return ZV.findIndex(e)},isLinear:function(e){return e<$V.VTK_QUADRATIC_EDGE||e===$V.VTK_CONVEX_POINT_SET||e===$V.VTK_POLYHEDRON},hasSubCells:function(e){return e===$V.VTK_TRIANGLE_STRIP||e===$V.VTK_POLY_LINE||e===$V.VTK_POLY_VERTEX}};var eN={size:0,maxId:-1,extend:1e3};function tN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,eN,n),iS.obj(e,t),iS.get(e,t,["size","maxId","extend"]),iS.getArray(e,t,["typeArray","locationArray"]),function(e,t){t.classHierarchy.push("vtkCellTypes"),e.allocate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.size=e>0?e:1,t.extend=n>0?n:1,t.maxId=-1,t.typeArray=new Uint8Array(e),t.locationArray=new Uint32Array(e)},e.insertCell=function(e,n,r){t.typeArray[e]=n,t.locationArray[e]=r,e>t.maxId&&(t.maxId=e)},e.insertNextCell=function(n,r){return e.insertCell(++t.maxId,n,r),t.maxId},e.setCellTypes=function(e,n,r){t.size=e,t.typeArray=n,t.locationArray=r,t.maxId=e-1},e.getCellLocation=function(e){return t.locationArray[e]},e.deleteCell=function(e){t.typeArray[e]=$V.VTK_EMPTY_CELL},e.getNumberOfTypes=function(){return t.maxId+1},e.isType=function(t){for(var n=e.getNumberOfTypes(),r=0;r<n;++r)if(t===e.getCellType(r))return!0;return!1},e.insertNextType=function(t){return e.insertNextCell(t,-1)},e.getCellType=function(e){return t.typeArray[e]},e.reset=function(){t.maxId=-1},e.deepCopy=function(n){e.allocate(n.getSize(),n.getExtend()),t.typeArray.set(n.getTypeArray()),t.locationArray.set(n.getLocationArray()),t.maxId=n.getMaxId()}}(e,t)}var nN=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QV(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(tN,"vtkCellTypes"),extend:tN},JV),rN={IntersectionState:{NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2}};function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aN(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iN=rN.IntersectionState;function sN(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={t:Number.MIN_VALUE,distance:0},i=[];i[0]=n[0]-t[0],i[1]=n[1]-t[1],i[2]=n[2]-t[2];var s=i[0]*(e[0]-t[0])+i[1]*(e[1]-t[1])+i[2]*(e[2]-t[2]),l=mT(i,i),u=1e-5*s;return 0!==l&&(o.t=s/l),u<0&&(u=-u),-u<l&&l<u||l<=0||o.t<0?r=t:o.t>1?r=n:(r=i,i[0]=t[0]+o.t*i[0],i[1]=t[1]+o.t*i[1],i[2]=t[2]+o.t*i[2]),a&&(a[0]=r[0],a[1]=r[1],a[2]=r[2]),o.distance=ST(r,e),o}function lN(e,t,n,r,a,o){var i=[],s=[],l=[];a[0]=0,o[0]=0,uT(t,e,i),uT(r,n,s),uT(n,e,l);var u=[mT(i,i),-mT(i,s),-mT(i,s),mT(s,s)],c=[];if(c[0]=mT(i,l),c[1]=-mT(s,l),0===rP(u,c,2)){for(var d,f=Number.MAX_VALUE,p=[e,t,n,r],m=[n,n,e,e],g=[r,r,t,t],v=[o[0],o[0],a[0],a[0]],h=[a[0],a[0],o[0],o[0]],y=0;y<4;y++)(d=sN(p[y],m[y],g[y])).distance<f&&(f=d.distance,v[y]=d.t,h[y]=y%2);return iN.ON_LINE}return a[0]=c[0],o[0]=c[1],a[0]>=0&&a[0]<=1&&o[0]>=0&&o[0]<=1?iN.YES_INTERSECTION:iN.NO_INTERSECTION}var uN={distanceToLine:sN,intersection:lN};var cN={};function dN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,cN,n),KV.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkLine"),e.getCellDimension=function(){return 1},e.intersectWithLine=function(e,n,r,a,o){var i={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};o[1]=0,o[2]=0;var s=[],l=[],u=[];t.points.getPoint(0,l),t.points.getPoint(1,u);var c=[],d=[],f=lN(e,n,l,u,c,d);if(i.t=c[0],i.betweenPoints=function(e){return e>=0&&e<=1}(i.t),o[0]=d[0],f===iN.YES_INTERSECTION){for(var p=0;p<3;p++)a[p]=l[p]+o[0]*(u[p]-l[p]),s[p]=e[p]+i.t*(n[p]-e[p]);if(ST(a,s)<=r*r)return i.intersect=1,i}else{var m;if(i.t<0)return(m=sN(e,l,u,a)).distance<=r*r?(i.t=0,i.intersect=1,i.betweenPoints=!0,i):i;if(i.t>1)return(m=sN(n,l,u,a)).distance<=r*r?(i.t=1,i.intersect=1,i.betweenPoints=!0,i):i;if(o[0]<0)return o[0]=0,m=sN(l,e,n,a),i.t=m.t,m.distance<=r*r?(i.intersect=1,i):i;if(o[0]>1)return o[0]=1,m=sN(u,e,n,a),i.t=m.t,m.distance<=r*r?(i.intersect=1,i):i}return i},e.evaluateLocation=function(e,n,r){var a=[],o=[];t.points.getPoint(0,a),t.points.getPoint(1,o);for(var i=0;i<3;i++)n[i]=a[i]+e[0]*(o[i]-a[i]);r[0]=1-e[0],r[1]=e[0]}}(e,t)}var fN=oN(oN({newInstance:iS.newInstance(dN,"vtkLine"),extend:dN},uN),rN);var pN={};function mN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,pN,n),IR.extend(e,t,n),iS.setGet(e,t,["points"]),function(e,t){t.classHierarchy.push("vtkPointSet"),t.points?t.points=fC(t.points):t.points=VV.newInstance(),e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.getBounds=function(){return t.points.getBounds()},e.computeBounds=function(){e.getBounds()};var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),t.points=VV.newInstance(),t.points.shallowCopy(e.getPoints())}}(e,t)}var gN={newInstance:iS.newInstance(mN,"vtkPointSet"),extend:mN};function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hN(e,t,n,r){var a=n[0]-t[0],o=n[1]-t[1],i=n[2]-t[2],s=e[0]-t[0],l=e[1]-t[1],u=e[2]-t[2];r[0]=o*u-i*l,r[1]=i*s-a*u,r[2]=a*l-o*s}function yN(e,t,n,r){hN(e,t,n,r);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==a&&(r[0]/=a,r[1]/=a,r[2]/=a)}var bN={computeNormalDirection:hN,computeNormal:yN,intersectWithTriangle:function(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e-6,s=!1,l=[],u=[],c=[],d=[],f=[];yN(e,t,n,d),yN(r,a,o,f);var p=-mT(d,e),m=-mT(f,r),g=[mT(f,e)+m,mT(f,t)+m,mT(f,n)+m];if(g[0]*g[1]>i&&g[0]*g[2]>i)return{intersect:!1,coplanar:s,pt1:l,pt2:u,surfaceId:c};var v=[mT(d,r)+p,mT(d,a)+p,mT(d,o)+p];if(v[0]*v[1]>i&&v[0]*v[2]>i)return{intersect:!1,coplanar:s,pt1:l,pt2:u,surfaceId:c};if(Math.abs(d[0]-f[0])<1e-9&&Math.abs(d[1]-f[1])<1e-9&&Math.abs(d[2]-f[2])<1e-9&&Math.abs(p-m)<1e-9)return{intersect:!1,coplanar:s=!0,pt1:l,pt2:u,surfaceId:c};var h=[e,t,n],y=[r,a,o],b=mT(d,f),x=(p-m*b)/(b*b-1),w=(m-p*b)/(b*b-1),C=[x*d[0]+w*f[0],x*d[1]+w*f[1],x*d[2]+w*f[2]],S=vT(d,f,[]);yT(S);for(var T,P,O=0,A=0,E=[],I=[],R=50,k=50,M=0;M<3;M++){var _=M,D=(M+1)%3,L=sM.intersectWithLine(h[_],h[D],r,f);L.intersection&&L.t>0-i&&L.t<1+i&&(L.t<1+i&&L.t>1-i&&(R=O),E[O++]=mT(L.x,S)-mT(C,S));var V=sM.intersectWithLine(y[_],y[D],e,d);V.intersection&&V.t>0-i&&V.t<1+i&&(V.t<1+i&&V.t>1-i&&(k=A),I[A++]=mT(V.x,S)-mT(C,S))}if(O>2){O--;var N=E[2];E[2]=E[R],E[R]=N}if(A>2){A--;var B=I[2];I[2]=I[k],I[k]=B}if(2!==O||2!==A)return{intersect:!1,coplanar:s,pt1:l,pt2:u,surfaceId:c};if(Number.isNaN(E[0])||Number.isNaN(E[1])||Number.isNaN(I[0])||Number.isNaN(I[1]))return{intersect:!1,coplanar:s,pt1:l,pt2:u,surfaceId:c};if(E[0]>E[1]){var F=E[1];E[1]=E[0],E[0]=F}if(I[0]>I[1]){var U=I[1];I[1]=I[0],I[0]=U}return E[1]<I[0]||I[1]<E[0]?{intersect:!1,coplanar:s,pt1:l,pt2:u,surfaceId:c}:(E[0]<I[0]?E[1]<I[1]?(c[0]=2,c[1]=1,T=I[0],P=E[1]):(c[0]=2,c[1]=2,T=I[0],P=I[1]):E[1]<I[1]?(c[0]=1,c[1]=1,T=E[0],P=E[1]):(c[0]=1,c[1]=2,T=E[0],P=I[1]),fT(C,S,T,l),fT(C,S,P,u),{intersect:!0,coplanar:s,pt1:l,pt2:u,surfaceId:c})}};var xN={};function wN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xN,n),KV.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkTriangle"),e.getCellDimension=function(){return 2},e.intersectWithLine=function(n,r,a,o,i){var s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};i[2]=0;var l=a*a,u=[],c=[],d=[];t.points.getPoint(0,u),t.points.getPoint(1,c),t.points.getPoint(2,d);var f=[];if(yN(u,c,d,f),0!==f[0]||0!==f[1]||0!==f[2]){var p=sM.intersectWithLine(n,r,u,f);if(s.betweenPoints=p.betweenPoints,s.t=p.t,o[0]=p.x[0],o[1]=p.x[1],o[2]=p.x[2],!p.intersection)return i[0]=0,i[1]=0,s.intersect=0,s;var m=e.evaluatePosition(o,[],i,[]);if(m.evaluation>=0)return m.dist2<=l?(s.intersect=1,s):(s.intersect=m.evaluation,s)}var g=ST(u,c),v=ST(c,d),h=ST(d,u);t.line||(t.line=fN.newInstance()),g>v&&g>h?(t.line.getPoints().setPoint(0,u),t.line.getPoints().setPoint(1,c)):v>h&&v>g?(t.line.getPoints().setPoint(0,c),t.line.getPoints().setPoint(1,d)):(t.line.getPoints().setPoint(0,d),t.line.getPoints().setPoint(1,u));var y=t.line.intersectWithLine(n,r,a,o,i);if(s.betweenPoints=y.betweenPoints,s.t=y.t,y.intersect){for(var b=[],x=[],w=[],C=0;C<3;C++)b[C]=u[C]-d[C],x[C]=c[C]-d[C],w[C]=o[C]-d[C];return i[0]=mT(w,b)/h,i[1]=mT(w,x)/v,s.intersect=1,s}return i[0]=0,i[1]=0,s.intersect=0,s},e.evaluatePosition=function(e,n,r,a){var o,i,s,l,u,c,d,f={subId:0,dist2:0,evaluation:-1},p=[],m=[],g=[],v=[],h=[],y=[],b=[],x=0,w=[],C=[],S=[],T=[],P=[];f.subId=0,r[2]=0,t.points.getPoint(1,p),t.points.getPoint(2,m),t.points.getPoint(0,g),hN(p,m,g,v),sM.generalizedProjectPoint(e,p,v,P);var O=0;for(o=0;o<3;o++)(s=v[o]<0?-v[o]:v[o])>O&&(O=s,x=o);for(i=0,o=0;o<3;o++)o!==x&&(w[i++]=o);for(o=0;o<2;o++)h[o]=P[w[o]]-g[w[o]],y[o]=p[w[o]]-g[w[o]],b[o]=m[w[o]]-g[w[o]];if(0===(l=RT(y,b)))return r[0]=0,r[1]=0,f.evaluation=-1,f;if(r[0]=RT(h,b)/l,r[1]=RT(y,h)/l,a[0]=1-(r[0]+r[1]),a[1]=r[0],a[2]=r[1],a[0]>=0&&a[0]<=1&&a[1]>=0&&a[1]<=1&&a[2]>=0&&a[2]<=1)n&&(f.dist2=ST(P,e),n[0]=P[0],n[1]=P[1],n[2]=P[2]),f.evaluation=1;else{var A;if(n)if(a[1]<0&&a[2]<0)for(u=ST(e,g),c=fN.distanceToLine(e,p,g,A,S),d=fN.distanceToLine(e,g,m,A,T),u<c?(f.dist2=u,C=g):(f.dist2=c,C=S),d<f.dist2&&(f.dist2=d,C=T),o=0;o<3;o++)n[o]=C[o];else if(a[2]<0&&a[0]<0)for(u=ST(e,p),c=fN.distanceToLine(e,p,g,A,S),d=fN.distanceToLine(e,p,m,A,T),u<c?(f.dist2=u,C=p):(f.dist2=c,C=S),d<f.dist2&&(f.dist2=d,C=T),o=0;o<3;o++)n[o]=C[o];else if(a[1]<0&&a[0]<0)for(u=ST(e,m),c=fN.distanceToLine(e,m,g,A,S),d=fN.distanceToLine(e,p,m,A,T),u<c?(f.dist2=u,C=m):(f.dist2=c,C=S),d<f.dist2&&(f.dist2=d,C=T),o=0;o<3;o++)n[o]=C[o];else if(a[0]<0){var E=fN.distanceToLine(e,p,m,n);f.dist2=E.distance}else if(a[1]<0){var I=fN.distanceToLine(e,m,g,n);f.dist2=I.distance}else if(a[2]<0){var R=fN.distanceToLine(e,p,g,n);f.dist2=R.distance}f.evaluation=0}return f},e.evaluateLocation=function(e,n,r){var a=[],o=[],i=[];t.points.getPoint(0,a),t.points.getPoint(1,o),t.points.getPoint(2,i);for(var s=1-e[0]-e[1],l=0;l<3;l++)n[l]=a[l]*s+o[l]*e[0]+i[l]*e[1];r[0]=s,r[1]=e[0],r[2]=e[1]},e.getParametricDistance=function(e){var t,n=0,r=[];r[0]=e[0],r[1]=e[1],r[2]=1-e[0]-e[1];for(var a=0;a<3;a++)(t=r[a]<0?-r[a]:r[a]>1?r[a]-1:0)>n&&(n=t);return n}}(e,t)}var CN,SN=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(wN,"vtkTriangle"),extend:wN},bN),TN=["verts","lines","polys","strips"],PN=iS.vtkWarningMacro,ON=(nC(CN={},$V.VTK_LINE,fN),nC(CN,$V.VTK_POLY_LINE,fN),nC(CN,$V.VTK_TRIANGLE,SN),CN);var AN={};function EN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,AN,n),gN.extend(e,t,n),iS.get(e,t,["cells","links"]),iS.setGet(e,t,["verts","lines","polys","strips"]),function(e,t){t.classHierarchy.push("vtkPolyData"),TN.forEach((function(n){e["getNumberOf".concat(function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g,"")}(n))]=function(){return t[n].getNumberOfCells()},t[n]?t[n]=fC(t[n]):t[n]=zV.newInstance()})),e.getNumberOfCells=function(){return TN.reduce((function(e,n){return e+t[n].getNumberOfCells()}),0)};var n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),TN.forEach((function(n){t[n]=zV.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))}))},e.buildCells=function(){var n=e.getNumberOfVerts(),r=e.getNumberOfLines(),a=e.getNumberOfPolys(),o=e.getNumberOfStrips(),i=n+r+a+o,s=new Uint8Array(i),l=s,u=new Uint32Array(i),c=u;if(n){var d=0;t.verts.getCellSizes().forEach((function(e,t){c[t]=d,l[t]=e>1?$V.VTK_POLY_VERTEX:$V.VTK_VERTEX,d+=e+1})),c=c.subarray(n),l=l.subarray(n)}if(r){var f=0;t.lines.getCellSizes().forEach((function(e,t){c[t]=f,l[t]=e>2?$V.VTK_POLY_LINE:$V.VTK_LINE,1===e&&PN("Building VTK_LINE ",t," with only one point, but VTK_LINE needs at least two points. Check the input."),f+=e+1})),c=c.subarray(r),l=l.subarray(r)}if(a){var p=0;t.polys.getCellSizes().forEach((function(e,t){switch(c[t]=p,e){case 3:l[t]=$V.VTK_TRIANGLE;break;case 4:l[t]=$V.VTK_QUAD;break;default:l[t]=$V.VTK_POLYGON}e<3&&PN("Building VTK_TRIANGLE ",t," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),p+=e+1})),c+=c.subarray(a),l+=l.subarray(a)}if(o){var m=0;l.fill($V.VTK_TRIANGLE_STRIP,0,o),t.strips.getCellSizes().forEach((function(e,t){c[t]=m,m+=e+1}))}t.cells=nN.newInstance(),t.cells.setCellTypes(i,s,u)},e.buildLinks=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===t.cells&&e.buildCells(),t.links=YV.newInstance(),n>0?t.links.allocate(n):t.links.allocate(e.getPoints().getNumberOfPoints()),t.links.buildLinks(e)},e.getCellType=function(e){return t.cells.getCellType(e)},e.getCellPoints=function(n){var r=e.getCellType(n),a=null;switch(r){case $V.VTK_VERTEX:case $V.VTK_POLY_VERTEX:a=t.verts;break;case $V.VTK_LINE:case $V.VTK_POLY_LINE:a=t.lines;break;case $V.VTK_TRIANGLE:case $V.VTK_QUAD:case $V.VTK_POLYGON:a=t.polys;break;case $V.VTK_TRIANGLE_STRIP:a=t.strips;break;default:return a=null,{type:0,cellPointIds:null}}var o=t.cells.getCellLocation(n);return{cellType:r,cellPointIds:a.getCell(o)}},e.getPointCells=function(e){return t.links.getCells(e)},e.getCellEdgeNeighbors=function(e,n,r){var a=t.links.getLink(n),o=t.links.getLink(r);return a.cells.filter((function(t){return t!==e&&-1!==o.cells.indexOf(t)}))},e.getCell=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.getCellPoints(t),a=n||ON[r.cellType].newInstance();return a.initialize(e.getPoints(),r.cellPointIds),a}}(e,t)}var IN={newInstance:iS.newInstance(EN,"vtkPolyData"),extend:EN};function RN(e,t){t.classHierarchy.push("vtkProp3D"),e.addPosition=function(n){t.position=t.position.map((function(e,t){return e+n[t]})),e.modified()},e.getOrientationWXYZ=function(){var e=lI();aE(e,t.rotation);var n=new Float64Array(3),r=function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>MO?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}(n,e);return[GS(r),n[0],n[1],n[2]]},e.rotateX=function(n){0!==n&&(HA(t.rotation,t.rotation,jS(n)),e.modified())},e.rotateY=function(n){0!==n&&(KA(t.rotation,t.rotation,jS(n)),e.modified())},e.rotateZ=function(n){0!==n&&(qA(t.rotation,t.rotation,jS(n)),e.modified())},e.rotateWXYZ=function(n,r,a,o){if(0!==n&&(0!==r||0!==a||0!==o)){var i=jS(n),s=lI();uI(s,[r,a,o],i);var l=new Float64Array(16);sE(l,s),jA(t.rotation,t.rotation,l),e.modified()}},e.setOrientation=function(n,r,a){return(n!==t.orientation[0]||r!==t.orientation[1]||a!==t.orientation[2])&&(t.orientation=[n,r,a],VA(t.rotation),e.rotateZ(a),e.rotateX(n),e.rotateY(r),e.modified(),!0)},e.setUserMatrix=function(n){return!jT(t.userMatrix,n)&&(_A(t.userMatrix,n),e.modified(),!0)},e.getMatrix=function(){return e.computeMatrix(),t.matrix},e.computeMatrix=function(){if(e.getMTime()>t.matrixMTime.getMTime()){VA(t.matrix),t.userMatrix&&jA(t.matrix,t.matrix,t.userMatrix),GA(t.matrix,t.matrix,t.origin),GA(t.matrix,t.matrix,t.position),jA(t.matrix,t.matrix,t.rotation),zA(t.matrix,t.matrix,t.scale),GA(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),NA(t.matrix,t.matrix),t.isIdentity=!0;for(var n=0;n<4;++n)for(var r=0;r<4;++r)(n===r?1:0)!==t.matrix[n+4*r]&&(t.isIdentity=!1);t.matrixMTime.modified()}},e.getCenter=function(){return WM.getCenter(t.bounds)},e.getLength=function(){return WM.getLength(t.bounds)},e.getXRange=function(){return WM.getXRange(t.bounds)},e.getYRange=function(){return WM.getYRange(t.bounds)},e.getZRange=function(){return WM.getZRange(t.bounds)},e.getUserMatrix=function(){return t.userMatrix},e.onModified((function(){e.computeMatrix()}))}var kN={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function MN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kN,n),$_.extend(e,t,n),t.matrixMTime={},iS.obj(t.matrixMTime),iS.get(e,t,["bounds","isIdentity"]),iS.getArray(e,t,["orientation"]),iS.setGetArray(e,t,["origin","position","scale"],3),t.matrix=VA(new Float64Array(16)),t.rotation=VA(new Float64Array(16)),t.userMatrix=VA(new Float64Array(16)),t.transform=null,RN(e,t)}var _N={newInstance:iS.newInstance(MN,"vtkProp3D"),extend:MN};function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var LN=iS.vtkDebugMacro;function VN(e,t){t.classHierarchy.push("vtkActor");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.getActors=function(){return[e]},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n=(n=n&&(!t.texture||!t.texture.isTranslucent()))&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=ZI.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||n[0]!==t.mapperBounds[0]||n[1]!==t.mapperBounds[1]||n[2]!==t.mapperBounds[2]||n[3]!==t.mapperBounds[3]||n[4]!==t.mapperBounds[4]||n[5]!==t.mapperBounds[5]||e.getMTime()>t.boundsMTime.getMTime()){LN("Recomputing bounds..."),t.mapperBounds=n.concat();var r=[];WM.getCorners(n,r),e.computeMatrix();var a=new Float64Array(16);NA(a,t.matrix),r.forEach((function(e){return fA(e,e,a)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2===0?r.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):r.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=n.getMTime();if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e}if(null!==t.backfaceProperty){var a=t.backfaceProperty.getMTime();e=a>e?a:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()},e.processSelectorPixelBuffers=function(e,n){t.mapper&&t.mapper.processSelectorPixelBuffers&&t.mapper.processSelectorPixelBuffers(e,n)}}var NN={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function BN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,NN,n),_N.extend(e,t,n),t.boundsMTime={},iS.obj(t.boundsMTime),iS.set(e,t,["property"]),iS.setGet(e,t,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),VN(e,t)}iS.newInstance(BN,"vtkActor");var FN={background:[0,0,0],container:null};function UN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,FN,n),iS.obj(e,t),iS.get(e,t,["renderWindow","openGLRenderWindow","interactor","container"]),iS.event(e,t,"resize"),function(e,t){var n=e.invokeResize;delete e.invokeResize,t.renderWindow=bS.newInstance(),t.rendererMap={},t.openGLRenderWindow=YL.newInstance(),t.renderWindow.addView(t.openGLRenderWindow),t.interactor=kV.newInstance(),t.interactor.setView(t.openGLRenderWindow),t.interactor.initialize(),e.addRenderer=function(e){var n=e.viewport,r=e.id,a=e.background,o=mV.newInstance({viewport:n,background:a||t.background});t.renderWindow.addRenderer(o),t.rendererMap[r]=o},e.destroy=function(){t.renderWindow.getInteractor().delete()},e.removeRenderer=function(n){var r=e.getRenderer(n);t.renderWindow.removeRenderer(r),r.delete(),delete t.rendererMap[n]},e.getRenderer=function(e){return t.rendererMap[e]},e.getRenderers=function(){var e=t.rendererMap,n=Object.keys(e).map((function(t){return{id:t,renderer:e[t]}}));return n},e.resize=function(){if(t.container){var e=t.container,r=e.width,a=e.height;t.openGLRenderWindow.setSize(Math.floor(r),Math.floor(a)),n(),t.renderWindow.render()}},e.setContainer=function(e){t.container=e,t.openGLRenderWindow.setContainer(t.container)},e.delete=iS.chain(e.setContainer,e.destroy,t.openGLRenderWindow.delete,e.delete),e.resize()}(e,t)}var jN;iS.newInstance(UN);!function(e){e.STACK="stack",e.ORTHOGRAPHIC="orthographic",e.PERSPECTIVE="perspective",e.VOLUME_3D="volume3d"}(jN||(jN={}));var GN=jN;function zN(e){var t=e.indexOf(":");return e.substring(t+1)}var WN=1073741824,HN=function(){function e(){var t=this;os(this,e),this._imageCache=new Map,this._volumeCache=new Map,this._imageCacheSize=0,this._volumeCacheSize=0,this._maxCacheSize=3*WN,this._maxInstanceSize=2147483640,this.setMaxCacheSize=function(e){if(!e||"number"!==typeof e){var n="New max cacheSize ".concat(t._maxCacheSize," should be defined and should be a number.");throw new Error(n)}t._maxCacheSize=e},this.isCacheable=function(e){return!(e>t._maxInstanceSize)&&t.getBytesAvailable()+t._imageCacheSize>e},this.getMaxCacheSize=function(){return t._maxCacheSize},this.getMaxInstanceSize=function(){return t._maxInstanceSize},this.getCacheSize=function(){return t._imageCacheSize+t._volumeCacheSize},this._decacheImage=function(e){var n=t._imageCache.get(e).imageLoadObject;n.cancelFn&&n.cancelFn(),n.decache&&n.decache(),t._imageCache.delete(e)},this._decacheVolume=function(e){var n=t._volumeCache.get(e),r=n.volumeLoadObject,a=n.volume;a.cancelLoading&&a.cancelLoading(),a.imageData&&a.imageData.delete(),r.cancelFn&&r.cancelFn(),r.decache&&r.decache(),t._volumeCache.delete(e)},this.purgeCache=function(){for(var e=t._imageCache.keys();;){var n=e.next(),r=n.value;if(n.done)break;t.removeImageLoadObject(r),$w(Yw,Ww.IMAGE_CACHE_IMAGE_REMOVED,{imageId:r})}t.purgeVolumeCache()},this.purgeVolumeCache=function(){for(var e=t._volumeCache.keys();;){var n=e.next(),r=n.value;if(n.done)break;t.removeVolumeLoadObject(r),$w(Yw,Ww.VOLUME_CACHE_VOLUME_REMOVED,{volumeId:r})}},this.getVolumeLoadObject=function(e){if(void 0===e)throw new Error("getVolumeLoadObject: volumeId must not be undefined");var n=t._volumeCache.get(e);if(void 0!==n)return n.timeStamp=Date.now(),n.volumeLoadObject},this.getGeometry=function(e){if(null==e)throw new Error("getGeometry: geometryId must not be undefined");var n=t._geometryCache.get(e);if(void 0!==n)return n.timeStamp=Date.now(),n.geometry},this.getVolume=function(e){if(void 0===e)throw new Error("getVolume: volumeId must not be undefined");var n=t._volumeCache.get(e);if(void 0!==n)return n.timeStamp=Date.now(),n.volume},this.removeImageLoadObject=function(e){if(void 0===e)throw new Error("removeImageLoadObject: imageId must not be undefined");var n=t._imageCache.get(e);if(void 0===n)throw new Error("removeImageLoadObject: imageId was not present in imageCache");t._incrementImageCacheSize(-n.sizeInBytes);var r={imageId:e};$w(Yw,Ww.IMAGE_CACHE_IMAGE_REMOVED,r),t._decacheImage(e)},this.removeVolumeLoadObject=function(e){if(void 0===e)throw new Error("removeVolumeLoadObject: volumeId must not be undefined");var n=t._volumeCache.get(e);if(void 0===n)throw new Error("removeVolumeLoadObject: volumeId was not present in volumeCache");t._incrementVolumeCacheSize(-n.sizeInBytes);var r={volume:n,volumeId:e};$w(Yw,Ww.VOLUME_CACHE_VOLUME_REMOVED,r),t._decacheVolume(e)},this.putGeometryLoadObject=function(e,n){if(void 0==e)throw new Error("putGeometryLoadObject: geometryId must not be undefined");if(t._geometryCache.has(e))throw new Error("putGeometryLoadObject: geometryId already present in geometryCache");var r={geometryId:e,geometryLoadObject:n,loaded:!1,timeStamp:Date.now(),sizeInBytes:0};return t._geometryCache.set(e,r),n.promise.then((function(n){if(t._geometryCache.has(e)){if(Number.isNaN(n.sizeInBytes))throw new Error("putGeometryLoadObject: geometry.sizeInBytes is not a number");r.loaded=!0,r.geometry=n,r.sizeInBytes=n.sizeInBytes;var a={geometry:n,geometryId:e};$w(Yw,Ww.GEOMETRY_CACHE_GEOMETRY_ADDED,a)}else console.warn("putGeometryLoadObject: geometryId was removed from geometryCache")})).catch((function(n){throw t._geometryCache.delete(e),n}))},this._incrementImageCacheSize=function(e){t._imageCacheSize+=e},this._incrementVolumeCacheSize=function(e){t._volumeCacheSize+=e},this._geometryCache=new Map}return ss(e,[{key:"getBytesAvailable",value:function(){return this.getMaxCacheSize()-this.getCacheSize()}},{key:"decacheIfNecessaryUntilBytesAvailable",value:function(e,t){var n=this.getBytesAvailable();if(n>=e)return n;var r=Array.from(this._imageCache.values());r.sort((function(e,t){return e.timeStamp>t.timeStamp?1:e.timeStamp<t.timeStamp?-1:0}));var a=r.map((function(e){return e.imageId})),o=a;t&&(o=a.filter((function(e){return!t.includes(e)})));var i,s=ke(o);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(this.removeImageLoadObject(l),$w(Yw,Ww.IMAGE_CACHE_IMAGE_REMOVED,{imageId:l}),(n=this.getBytesAvailable())>=e)return n}}catch(wJ){s.e(wJ)}finally{s.f()}var u,c=ke(a=(r=Array.from(this._imageCache.values())).map((function(e){return e.imageId})));try{for(c.s();!(u=c.n()).done;){var d=u.value;if(this.removeImageLoadObject(d),$w(Yw,Ww.IMAGE_CACHE_IMAGE_REMOVED,{imageId:d}),(n=this.getBytesAvailable())>=e)return n}}catch(wJ){c.e(wJ)}finally{c.f()}}},{key:"putImageLoadObject",value:function(e,t){var n=this;if(void 0===e)throw new Error("putImageLoadObject: imageId must not be undefined");if(void 0===t.promise)throw new Error("putImageLoadObject: imageLoadObject.promise must not be undefined");if(this._imageCache.has(e))throw new Error("putImageLoadObject: imageId already in cache");if(t.cancelFn&&"function"!==typeof t.cancelFn)throw new Error("putImageLoadObject: imageLoadObject.cancel must be a function");var r={loaded:!1,imageId:e,sharedCacheKey:void 0,imageLoadObject:t,timeStamp:Date.now(),sizeInBytes:0};return this._imageCache.set(e,r),t.promise.then((function(t){if(n._imageCache.get(e)){if(Number.isNaN(t.sizeInBytes))throw new Error("putImageLoadObject: image.sizeInBytes must not be undefined");if(void 0===t.sizeInBytes.toFixed)throw new Error("putImageLoadObject: image.sizeInBytes is not a number");if(!n.isCacheable(t.sizeInBytes))throw new Error(Ww.CACHE_SIZE_EXCEEDED);n.decacheIfNecessaryUntilBytesAvailable(t.sizeInBytes),r.loaded=!0,r.image=t,r.sizeInBytes=t.sizeInBytes,n._incrementImageCacheSize(r.sizeInBytes);var a={image:r};$w(Yw,Ww.IMAGE_CACHE_IMAGE_ADDED,a),r.sharedCacheKey=t.sharedCacheKey}else console.warn("The image was purged from the cache before it completed loading.")})).catch((function(t){throw n._imageCache.delete(e),t}))}},{key:"getImageLoadObject",value:function(e){if(void 0===e)throw new Error("getImageLoadObject: imageId must not be undefined");var t=this._imageCache.get(e);if(void 0!==t)return t.timeStamp=Date.now(),t.imageLoadObject}},{key:"isLoaded",value:function(e){var t=this._imageCache.get(e);return!!t&&t.loaded}},{key:"getVolumeContainingImageId",value:function(e){for(var t=Array.from(this._volumeCache.keys()),n=zN(e),r=0,a=t;r<a.length;r++){var o,i=a[r],s=this._volumeCache.get(i).volume;if(null===s||void 0===s||null===(o=s.imageIds)||void 0===o||!o.length)return;var l=s.getImageURIIndex(n);if(l>-1)return{volume:s,imageIdIndex:l}}}},{key:"getCachedImageBasedOnImageURI",value:function(e){var t=zN(e),n=Array.from(this._imageCache.keys()).find((function(e){return zN(e)===t}));if(n)return this._imageCache.get(n)}},{key:"putVolumeLoadObject",value:function(e,t){var n=this;if(void 0===e)throw new Error("putVolumeLoadObject: volumeId must not be undefined");if(void 0===t.promise)throw new Error("putVolumeLoadObject: volumeLoadObject.promise must not be undefined");if(this._volumeCache.has(e))throw new Error("putVolumeLoadObject: volumeId:".concat(e," already in cache"));if(t.cancelFn&&"function"!==typeof t.cancelFn)throw new Error("putVolumeLoadObject: volumeLoadObject.cancel must be a function");var r={loaded:!1,volumeId:e,volumeLoadObject:t,timeStamp:Date.now(),sizeInBytes:0};return this._volumeCache.set(e,r),t.promise.then((function(t){if(n._volumeCache.get(e)){if(Number.isNaN(t.sizeInBytes))throw new Error("putVolumeLoadObject: volume.sizeInBytes must not be undefined");if(void 0===t.sizeInBytes.toFixed)throw new Error("putVolumeLoadObject: volume.sizeInBytes is not a number");n.decacheIfNecessaryUntilBytesAvailable(t.sizeInBytes,t.imageIds),r.volume=t,r.sizeInBytes=t.sizeInBytes,n._incrementVolumeCacheSize(r.sizeInBytes);var a={volume:r};$w(Yw,Ww.VOLUME_CACHE_VOLUME_ADDED,a)}else console.warn("The image was purged from the cache before it completed loading.")})).catch((function(t){throw n._volumeCache.delete(e),t}))}}]),e}(),KN=new HN,qN=KN;var XN=function e(t){var n,r=ke(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var a=t[n.value];a&&"object"===typeof a&&e(a)}}catch(wJ){r.e(wJ)}finally{r.f()}return Object.freeze(t)},YN=XN({axial:{viewPlaneNormal:[0,0,-1],viewUp:[0,-1,0]},sagittal:{viewPlaneNormal:[1,0,0],viewUp:[0,0,1]},coronal:{viewPlaneNormal:[0,-1,0],viewUp:[0,0,1]}}),$N={MINIMUM_SLAB_THICKNESS:.05,MAXIMUM_RAY_DISTANCE:1e6};Object.freeze($N);var ZN,QN=$N;!function(e){e.AXIAL="axial",e.CORONAL="coronal",e.SAGITTAL="sagittal",e.ACQUISITION="acquisition"}(ZN||(ZN={}));var JN=ZN;function eB(e){return tB(e,"vtkVolume")||tB(e,"vtkImageSlice")}function tB(e,t){return!!e.actor.isA(t)}var nB=[];function rB(e,t){for(var n=0;n<nB.length;n++){var r=nB[n].provider(e,t);if(void 0!==r)return r}}function aB(e,t){var n=e.direction,r=e.spacing,a=n.slice(0,3),o=n.slice(3,6),i=n.slice(6,9),s=[iA(a,t),iA(o,t),iA(i,t)],l=NO();return GO(l,s[0]*r[0],s[1]*r[1],s[2]*r[2]),FO(l)}var oB={ColorSpace:{RGB:0,HSV:1,LAB:2,DIVERGING:3},Scale:{LINEAR:0,LOG10:1}};function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var sB=oB.ColorSpace,lB=oB.Scale,uB=p_.ScalarMappingTarget,cB=iS.vtkDebugMacro,dB=iS.vtkErrorMacro,fB=iS.vtkWarningMacro;function pB(e,t){var n=e[0],r=e[1],a=e[2],o=Math.sqrt(n*n+r*r+a*a),i=o>.001?Math.acos(n/o):0,s=i>.001?Math.atan2(a,r):0;t[0]=o,t[1]=i,t[2]=s}function mB(e,t){if(e[0]>=t-.1)return e[2];var n=e[1]*Math.sqrt(t*t-e[0]*e[0])/(e[0]*Math.sin(e[1]));return e[2]>-.3*Math.PI?e[2]+n:e[2]-n}function gB(e,t,n,r){var a=[],o=[];vP(t,a),vP(n,o);var i=[],s=[];pB(a,i),pB(o,s);var l=e;if(i[1]>.05&&s[1]>.05&&function(e,t){var n=e-t;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}(i[2],s[2])>.33*Math.PI){var u=Math.max(i[0],s[0]);u=Math.max(88,u),e<.5?(s[0]=u,s[1]=0,s[2]=0,l*=2):(i[0]=u,i[1]=0,i[2]=0,l=2*l-1)}i[1]<.05&&s[1]>.05?i[2]=mB(s,i[0]):s[1]<.05&&i[1]>.05&&(s[2]=mB(i,s[0]));var c=[];c[0]=(1-l)*i[0]+l*s[0],c[1]=(1-l)*i[1]+l*s[1],c[2]=(1-l)*i[2]+l*s[2];var d=[];!function(e,t){var n=e[0],r=e[1],a=e[2];t[0]=n*Math.cos(r),t[1]=n*Math.sin(r)*Math.cos(a),t[2]=n*Math.sin(r)*Math.sin(a)}(c,d),hP(d,r)}var vB={clamping:!0,colorSpace:sB.RGB,hSVWrap:!0,scale:lB.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function hB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,vB,n),p_.extend(e,t,n),t.table=[],t.nodes=[],t.nanColor=[.5,0,0,1],t.belowRangeColor=[0,0,0,1],t.aboveRangeColor=[1,1,1,1],t.buildTime={},iS.obj(t.buildTime),iS.get(e,t,["buildTime","mappingRange"]),iS.setGet(e,t,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),iS.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),iS.getArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"]),function(e,t){t.classHierarchy.push("vtkColorTransferFunction"),e.getSize=function(){return t.nodes.length},e.addRGBPoint=function(t,n,r,a){return e.addRGBPointLong(t,n,r,a,.5,0)},e.addRGBPointLong=function(n,r,a,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(i<0||i>1)return dB("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return dB("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var l={x:n,r:r,g:a,b:o,midpoint:i,sharpness:s};t.nodes.push(l),e.sortAndUpdateRange();for(var u=0;u<t.nodes.length&&t.nodes[u].x!==n;u++);return u<t.nodes.length?u:-1},e.addHSVPoint=function(t,n,r,a){return e.addHSVPointLong(t,n,r,a,.5,0)},e.addHSVPointLong=function(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=[];return dP([n,r,a],s),e.addRGBPoint(t,s[0],s[1],s[2],o,i)},e.setNodes=function(n){if(t.nodes!==n){var r=JSON.stringify(t.nodes);t.nodes=n;var a=JSON.stringify(t.nodes);if(e.sortAndUpdateRange()||r!==a)return e.modified(),!0}return!1},e.sortAndUpdateRange=function(){var n=JSON.stringify(t.nodes);t.nodes.sort((function(e,t){return e.x-t.x}));var r=JSON.stringify(t.nodes),a=e.updateRange();return a||n===r?a:(e.modified(),!0)},e.updateRange=function(){var n=[2];n[0]=t.mappingRange[0],n[1]=t.mappingRange[1];var r=t.nodes.length;return r?(t.mappingRange[0]=t.nodes[0].x,t.mappingRange[1]=t.nodes[r-1].x):(t.mappingRange[0]=0,t.mappingRange[1]=0),(n[0]!==t.mappingRange[0]||n[1]!==t.mappingRange[1])&&(e.modified(),!0)},e.removePoint=function(n){for(var r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);var a=r;if(r>=t.nodes.length)return-1;var o=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(o=e.updateRange()),o||e.modified(),a},e.movePoint=function(n,r){if(n!==r){e.removePoint(r);for(var a=0;a<t.nodes.length;a++)if(t.nodes[a].x===n){t.nodes[a].x=r,e.sortAndUpdateRange();break}}},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addRGBSegment=function(n,r,a,o,i,s,l,u){e.sortAndUpdateRange();for(var c=0;c<t.nodes.length;)t.nodes[c].x>=n&&t.nodes[c].x<=i?t.nodes.splice(c,1):c++;e.addRGBPointLong(n,r,a,o,.5,0),e.addRGBPointLong(i,s,l,u,.5,0),e.modified()},e.addHSVSegment=function(t,n,r,a,o,i,s,l){var u=[i,s,l],c=[],d=[];dP([n,r,a],c),dP(u,d),e.addRGBSegment(t,c[0],c[1],c[2],o,d[0],d[1],d[2])},e.mapValue=function(t){var n=[];return e.getColor(t,n),[Math.floor(255*n[0]+.5),Math.floor(255*n[1]+.5),Math.floor(255*n[2]+.5),255]},e.getColor=function(n,r){if(t.indexedLookup){var a=e.getSize(),o=e.getAnnotatedValueIndexInternal(n);if(o<0||0===a)e.getNanColor(r);else{var i=[];e.getNodeValue(o%a,i),r[0]=i.r,r[1]=i.g,r[2]=i.b}}else e.getTable(n,n,1,r)},e.getRedValue=function(t){var n=[];return e.getColor(t,n),n[0]},e.getGreenValue=function(t){var n=[];return e.getColor(t,n),n[1]},e.getBlueValue=function(t){var n=[];return e.getColor(t,n),n[2]},e.getTable=function(n,r,a,o){var i=Number(n),s=Number(r);if(LP(i)||LP(s))for(var l=0;l<a;l++)o[3*l+0]=t.nanColor[0],o[3*l+1]=t.nanColor[1],o[3*l+2]=t.nanColor[2];else{var u=0,c=t.nodes.length,d=0,f=0,p=0;0!==c&&(d=t.nodes[c-1].r,f=t.nodes[c-1].g,p=t.nodes[c-1].b);var m=0,g=0,v=0,h=[0,0,0],y=[0,0,0],b=0,x=0,w=[],C=t.scale===lB.LOG10;C&&(C=t.mappingRange[0]>0);var S=0,T=0,P=0;C&&(S=Math.log10(i),T=Math.log10(s));for(var O=0;O<a;O++){var A=3*O;if(a>1?C?(P=S+O/(a-1)*(T-S),m=Math.pow(10,P)):m=i+O/(a-1)*(s-i):C?(P=.5*(S+T),m=Math.pow(10,P)):m=.5*(i+s),t.discretize){var E=t.mappingRange;if(m>=E[0]&&m<=E[1]){var I=t.numberOfValues,R=E[1]-E[0];if(I<=1)m=E[0]+R/2;else{var k=(m-E[0])/R,M=WS(I*k);m=E[0]+M/(I-1)*R}}}for(;u<c&&m>t.nodes[u].x;)++u<c&&(g=t.nodes[u-1].x,v=t.nodes[u].x,C&&(g=Math.log10(g),v=Math.log10(v)),h[0]=t.nodes[u-1].r,y[0]=t.nodes[u].r,h[1]=t.nodes[u-1].g,y[1]=t.nodes[u].g,h[2]=t.nodes[u-1].b,y[2]=t.nodes[u].b,b=t.nodes[u-1].midpoint,x=t.nodes[u-1].sharpness,b<1e-5&&(b=1e-5),b>.99999&&(b=.99999));if(m>t.mappingRange[1])o[A]=0,o[A+1]=0,o[A+2]=0,t.clamping&&(e.getUseAboveRangeColor()?(o[A]=t.aboveRangeColor[0],o[A+1]=t.aboveRangeColor[1],o[A+2]=t.aboveRangeColor[2]):(o[A]=d,o[A+1]=f,o[A+2]=p));else if(m<t.mappingRange[0]||MP(m)&&m<0)o[A]=0,o[A+1]=0,o[A+2]=0,t.clamping&&(e.getUseBelowRangeColor()?(o[A]=t.belowRangeColor[0],o[A+1]=t.belowRangeColor[1],o[A+2]=t.belowRangeColor[2]):c>0&&(o[A]=t.nodes[0].r,o[A+1]=t.nodes[0].g,o[A+2]=t.nodes[0].b));else if(0===u&&(Math.abs(m-i)<1e-6||t.discretize))c>0?(o[A]=t.nodes[0].r,o[A+1]=t.nodes[0].g,o[A+2]=t.nodes[0].b):(o[A]=0,o[A+1]=0,o[A+2]=0);else{var _=0;if(_=(_=C?(P-g)/(v-g):(m-g)/(v-g))<b?.5*_/b:.5+.5*(_-b)/(1-b),x>.99){if(_<.5){o[A]=h[0],o[A+1]=h[1],o[A+2]=h[2];continue}o[A]=y[0],o[A+1]=y[1],o[A+2]=y[2];continue}if(x<.01){if(t.colorSpace===sB.RGB)o[A]=(1-_)*h[0]+_*y[0],o[A+1]=(1-_)*h[1]+_*y[1],o[A+2]=(1-_)*h[2]+_*y[2];else if(t.colorSpace===sB.HSV){var D=[],L=[];cP(h,D),cP(y,L),t.hSVWrap&&(D[0]-L[0]>.5||L[0]-D[0]>.5)&&(D[0]>L[0]?D[0]-=1:L[0]-=1);var V=[];V[0]=(1-_)*D[0]+_*L[0],V[0]<0&&(V[0]+=1),V[1]=(1-_)*D[1]+_*L[1],V[2]=(1-_)*D[2]+_*L[2],dP(V,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]}else if(t.colorSpace===sB.LAB){var N=[],B=[];vP(h,N),vP(y,B);var F=[];F[0]=(1-_)*N[0]+_*B[0],F[1]=(1-_)*N[1]+_*B[1],F[2]=(1-_)*N[2]+_*B[2],hP(F,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]}else t.colorSpace===sB.DIVERGING?(gB(_,h,y,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]):dB("ColorSpace set to invalid value.",t.colorSpace);continue}_<.5?_=.5*Math.pow(2*_,1+10*x):_>.5&&(_=1-.5*Math.pow(2*(1-_),1+10*x));var U=_*_,j=U*_,G=2*j-3*U+1,z=-2*j+3*U,W=j-2*U+_,H=j-U,K=void 0;if(t.colorSpace===sB.RGB)for(var q=0;q<3;q++)K=(1-x)*(y[q]-h[q]),o[A+q]=G*h[q]+z*y[q]+W*K+H*K;else if(t.colorSpace===sB.HSV){var X=[],Y=[];cP(h,X),cP(y,Y),t.hSVWrap&&(X[0]-Y[0]>.5||Y[0]-X[0]>.5)&&(X[0]>Y[0]?X[0]-=1:Y[0]-=1);for(var $=[],Z=0;Z<3;Z++)K=(1-x)*(Y[Z]-X[Z]),$[Z]=G*X[Z]+z*Y[Z]+W*K+H*K,0===Z&&$[Z]<0&&($[Z]+=1);dP($,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]}else if(t.colorSpace===sB.LAB){var Q=[],J=[];vP(h,Q),vP(y,J);for(var ee=[],te=0;te<3;te++)K=(1-x)*(J[te]-Q[te]),ee[te]=G*Q[te]+z*J[te]+W*K+H*K;hP(ee,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]}else t.colorSpace===sB.DIVERGING?(gB(_,h,y,w),o[A]=w[0],o[A+1]=w[1],o[A+2]=w[2]):dB("ColorSpace set to invalid value.");for(var ne=0;ne<3;ne++)o[A+ne]=o[A+ne]<0?0:o[A+ne],o[A+ne]=o[A+ne]>1?1:o[A+ne]}}}},e.getUint8Table=function(n,r,a){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.getMTime()<=t.buildTime&&t.tableSize===a&&t.tableWithAlpha!==o)return t.table;if(0===t.nodes.length)return dB("Attempting to lookup a value with no points in the function"),t.table;var i=o?4:3;t.tableSize===a&&t.tableWithAlpha===o||(t.table=new Uint8Array(a*i),t.tableSize=a,t.tableWithAlpha=o);var s=[];e.getTable(n,r,a,s);for(var l=0;l<a;l++)t.table[l*i+0]=Math.floor(255*s[3*l+0]+.5),t.table[l*i+1]=Math.floor(255*s[3*l+1]+.5),t.table[l*i+2]=Math.floor(255*s[3*l+2]+.5),o&&(t.table[l*i+3]=255);return t.buildTime.modified(),t.table},e.buildFunctionFromArray=function(n){e.removeAllPoints();for(var r=n.getNumberOfComponents(),a=0;a<n.getNumberOfTuples();a++)switch(r){case 3:t.nodes.push({x:a,r:n.getComponent(a,0),g:n.getComponent(a,1),b:n.getComponent(a,2),midpoint:.5,sharpness:0});break;case 4:t.nodes.push({x:n.getComponent(a,0),r:n.getComponent(a,1),g:n.getComponent(a,2),b:n.getComponent(a,3),midpoint:.5,sharpness:0});break;case 5:t.nodes.push({x:a,r:n.getComponent(a,0),g:n.getComponent(a,1),b:n.getComponent(a,2),midpoint:n.getComponent(a,4),sharpness:n.getComponent(a,5)});break;case 6:t.nodes.push({x:n.getComponent(a,0),r:n.getComponent(a,1),g:n.getComponent(a,2),b:n.getComponent(a,3),midpoint:n.getComponent(a,4),sharpness:n.getComponent(a,5)})}e.sortAndUpdateRange()},e.buildFunctionFromTable=function(n,r,a,o){var i=0;e.removeAllPoints(),a>1&&(i=(r-n)/(a-1));for(var s=0;s<a;s++){var l={x:n+i*s,r:o[3*s],g:o[3*s+1],b:o[3*s+2],sharpness:0,midpoint:.5};t.nodes.push(l)}e.sortAndUpdateRange()},e.getNodeValue=function(e,n){return e<0||e>=t.nodes.length?(dB("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].r,n[2]=t.nodes[e].g,n[3]=t.nodes[e].b,n[4]=t.nodes[e].midpoint,n[5]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){if(n<0||n>=t.nodes.length)return dB("Index out of range!"),-1;var a=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].r=r[1],t.nodes[n].g=r[2],t.nodes[n].b=r[3],t.nodes[n].midpoint=r[4],t.nodes[n].sharpness=r[5],a!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.getNumberOfAvailableColors=function(){return t.indexedLookup&&e.getSize()?e.getSize():t.tableSize?t.tableSize:16777216},e.getIndexedColor=function(t,n){var r=e.getSize();if(r>0&&t>=0){var a=[];e.getNodeValue(t%r,a);for(var o=0;o<3;++o)n[o]=a[o+1];n[3]=1}else e.getNanColor(n),n[3]=1},e.fillFromDataPointer=function(t,n){if(!(t<=0)&&n){e.removeAllPoints();for(var r=0;r<t;r++)e.addRGBPoint(n[4*r],n[4*r+1],n[4*r+2],n[4*r+3])}},e.setMappingRange=function(n,r){var a=[n,r],o=e.getRange();if(o[1]!==a[1]||o[0]!==a[0])if(a[1]!==a[0]){for(var i=(a[1]-a[0])/(o[1]-o[0]),s=a[0]-o[0]*i,l=0;l<t.nodes.length;++l)t.nodes[l].x=t.nodes[l].x*i+s;t.mappingRange[0]=a[0],t.mappingRange[1]=a[1],e.modified()}else dB("attempt to set zero width color range")},e.adjustRange=function(n){var r=e.getRange(),a=[];r[0]<n[0]?(e.getColor(n[0],a),e.addRGBPoint(n[0],a[0],a[1],a[2])):(e.getColor(r[0],a),e.addRGBPoint(n[0],a[0],a[1],a[2])),r[1]>n[1]?(e.getColor(n[1],a),e.addRGBPoint(n[1],a[0],a[1],a[2])):(e.getColor(r[1],a),e.addRGBPoint(n[1],a[0],a[1],a[2])),e.sortAndUpdateRange();for(var o=0;o<t.nodes.length;)t.nodes[o].x>=n[0]&&t.nodes[o].x<=n[1]?t.nodes.splice(o,1):++o;return 1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){if(t.nodes.length<2)return-1;for(var e=Number.MAX_VALUE,n=0;n<t.nodes.length-1;n++){var r=t.nodes[n+1].x-t.nodes[n].x;r<e&&(e=r)}return e},e.mapScalarsThroughTable=function(n,r,a,o){0!==e.getSize()?t.indexedLookup?e.mapDataIndexed(n,r,a,o):e.mapData(n,r,a,o):cB("Transfer Function Has No Points!")},e.mapData=function(t,n,r,a){if(0!==e.getSize()){var o=Math.floor(255*e.getAlpha()+.5),i=t.getNumberOfTuples(),s=t.getNumberOfComponents(),l=n.getData(),u=t.getData(),c=[];if(r===uB.RGBA)for(var d=0;d<i;d++){var f=u[d*s+a];e.getColor(f,c),l[4*d]=Math.floor(255*c[0]+.5),l[4*d+1]=Math.floor(255*c[1]+.5),l[4*d+2]=Math.floor(255*c[2]+.5),l[4*d+3]=o}if(r===uB.RGB)for(var p=0;p<i;p++){var m=u[p*s+a];e.getColor(m,c),l[3*p]=Math.floor(255*c[0]+.5),l[3*p+1]=Math.floor(255*c[1]+.5),l[3*p+2]=Math.floor(255*c[2]+.5)}if(r===uB.LUMINANCE)for(var g=0;g<i;g++){var v=u[g*s+a];e.getColor(v,c),l[g]=Math.floor(76.5*c[0]+150.45*c[1]+28.05*c[2]+.5)}if(r===uB.LUMINANCE_ALPHA)for(var h=0;h<i;h++){var y=u[h*s+a];e.getColor(y,c),l[2*h]=Math.floor(76.5*c[0]+150.45*c[1]+28.05*c[2]+.5),l[2*h+1]=o}}else fB("Transfer Function Has No Points!")},e.applyColorMap=function(n){var r=JSON.stringify(t.colorSpace);n.ColorSpace&&(t.colorSpace=sB[n.ColorSpace.toUpperCase()],void 0===t.colorSpace&&(dB("ColorSpace ".concat(n.ColorSpace," not supported, using RGB instead")),t.colorSpace=sB.RGB));var a=r!==JSON.stringify(t.colorSpace),o=a||JSON.stringify(t.nanColor);if(n.NanColor)for(t.nanColor=[].concat(n.NanColor);t.nanColor.length<4;)t.nanColor.push(1);var i=(a=a||o!==JSON.stringify(t.nanColor))||JSON.stringify(t.nodes);if(n.RGBPoints){var s=n.RGBPoints.length;t.nodes=[];for(var l=0;l<s;l+=4)t.nodes.push({x:n.RGBPoints[l],r:n.RGBPoints[l+1],g:n.RGBPoints[l+2],b:n.RGBPoints[l+3],midpoint:.5,sharpness:0})}var u=e.sortAndUpdateRange(),c=!u&&(a||i!==JSON.stringify(t.nodes));return c&&e.modified(),u||c}}(e,t)}var yB=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iB(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(hB,"vtkColorTransferFunction"),extend:hB},oB),bB=Object.create(null);[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,7.54296e-7,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,1.11641e-7,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,3.63578e-7,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,4.05298e-7,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4.264e-8,0,6.20844e-7,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,3.3216e-7,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,4.05432e-7,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,4.55569e-8]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,4.55569e-8,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}].filter((function(e){return e.RGBPoints})).filter((function(e){return"CIELAB"!==e.ColorSpace})).forEach((function(e){bB[e.Name]=e}));var xB=Object.keys(bB);xB.sort();var wB={addPreset:function(e){e.RGBPoints&&"CIELAB"!==e.ColorSpace&&(bB[e.Name]||(xB.push(e.Name),xB.sort()),bB[e.Name]=e)},removePresetByName:function(e){var t=xB.indexOf(e);t>-1&&xB.splice(t,1),delete bB[e]},getPresetByName:function(e){return bB[e]},rgbPresetNames:xB},CB=iS.vtkErrorMacro;var SB={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function TB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SB,n),iS.obj(e,t),t.nodes=[],iS.setGet(e,t,["allowDuplicateScalars","clamping"]),iS.setArray(e,t,["range"],2),iS.getArray(e,t,["range"]),function(e,t){t.classHierarchy.push("vtkPiecewiseFunction"),e.getSize=function(){return t.nodes.length},e.getType=function(){var e,n=0,r=0;t.nodes.length>0&&(n=t.nodes[0].y);for(var a=1;a<t.nodes.length;a++){if((e=t.nodes[a].y)!==n)if(e>n)switch(r){case 0:case 1:r=1;break;default:r=3}else switch(r){case 0:case 2:r=2;break;default:r=3}if(n=e,3===r)break}switch(r){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";default:return"Varied"}},e.getDataPointer=function(){var e=t.nodes.length;if(t.function=null,e>0){t.function=[];for(var n=0;n<e;n++)t.function[2*n]=t.nodes[n].x,t.function[2*n+1]=t.nodes[n].y}return t.function},e.getFirstNonZeroValue=function(){if(0===t.nodes.length)return 0;for(var e=1,n=0;n<t.nodes.length;n++)if(0!==t.nodes[n].y){e=0;break}return e?Number.MAX_VALUE:n>0?t.nodes[n-1].x:t.clamping?-Number.MAX_VALUE:t.nodes[0].x},e.getNodeValue=function(e,n){var r=t.nodes.length;return e<0||e>=r?(CB("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].y,n[2]=t.nodes[e].midpoint,n[3]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){var a=t.nodes.length;if(n<0||n>=a)return CB("Index out of range!"),-1;var o=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].y=r[1],t.nodes[n].midpoint=r[2],t.nodes[n].sharpness=r[3],o!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.addPoint=function(t,n){return e.addPointLong(t,n,.5,0)},e.addPointLong=function(n,r,a,o){if(a<0||a>1)return CB("Midpoint outside range [0.0, 1.0]"),-1;if(o<0||o>1)return CB("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var i,s={x:n,y:r,midpoint:a,sharpness:o};for(t.nodes.push(s),e.sortAndUpdateRange(),i=0;i<t.nodes.length&&t.nodes[i].x!==n;i++);return i<t.nodes.length?i:-1},e.setNodes=function(n){t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=function(){t.nodes.sort((function(e,t){return e.x-t.x})),e.updateRange()||e.modified()},e.updateRange=function(){var n=t.range.slice(),r=t.nodes.length;return r?(t.range[0]=t.nodes[0].x,t.range[1]=t.nodes[r-1].x):(t.range[0]=0,t.range[1]=0),(n[0]!==t.range[0]||n[1]!==t.range[1])&&(e.modified(),!0)},e.removePoint=function(n){var r;for(r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);if(r>=t.nodes.length)return-1;var a=r,o=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(o=e.updateRange()),o||e.modified(),a},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addSegment=function(n,r,a,o){e.sortAndUpdateRange();for(var i=0;i<t.nodes.length;)t.nodes[i].x>=n&&t.nodes[i].x<=a?t.nodes.splice(i,1):i++;e.addPoint(n,r,.5,0),e.addPoint(a,o,.5,0)},e.getValue=function(t){var n=[];return e.getTable(t,t,1,n),n[0]},e.adjustRange=function(n){if(n.length<2)return 0;var r=e.getRange();r[0]<n[0]?e.addPoint(n[0],e.getValue(n[0])):e.addPoint(n[0],e.getValue(r[0])),r[1]>n[1]?e.addPoint(n[1],e.getValue(n[1])):e.addPoint(n[1],e.getValue(r[1])),e.sortAndUpdateRange();for(var a=0;a<t.nodes.length;)t.nodes[a].x>=n[0]&&t.nodes[a].x<=n[1]?t.nodes.splice(a,1):++a;return e.sortAndUpdateRange(),1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){var e=t.nodes.length;if(e<2)return-1;for(var n=t.nodes[1].x-t.nodes[0].x,r=0;r<e-1;r++){var a=t.nodes[r+1].x-t.nodes[r].x;a<n&&(n=a)}return n},e.getTable=function(e,n,r,a){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=0,l=t.nodes.length,u=0;0!==l&&(u=t.nodes[l-1].y);var c=0,d=0,f=0,p=0,m=0,g=0,v=0;for(o=0;o<r;o++){var h=i*o;for(c=r>1?e+o/(r-1)*(n-e):.5*(e+n);s<l&&c>t.nodes[s].x;)++s<l&&(d=t.nodes[s-1].x,f=t.nodes[s].x,p=t.nodes[s-1].y,m=t.nodes[s].y,g=t.nodes[s-1].midpoint,v=t.nodes[s-1].sharpness,g<1e-5&&(g=1e-5),g>.99999&&(g=.99999));if(s>=l)a[h]=t.clamping?u:0;else if(0===s)a[h]=t.clamping?t.nodes[0].y:0;else{var y=(c-d)/(f-d);if(y=y<g?.5*y/g:.5+.5*(y-g)/(1-g),v>.99){if(y<.5){a[h]=p;continue}a[h]=m;continue}if(v<.01){a[h]=(1-y)*p+y*m;continue}y<.5?y=.5*Math.pow(2*y,1+10*v):y>.5&&(y=1-.5*Math.pow(2*(1-y),1+10*v));var b=y*y,x=b*y,w=2*x-3*b+1,C=-2*x+3*b,S=x-2*b+y,T=x-b,P=(1-v)*(m-p);a[h]=w*p+C*m+S*P+T*P;var O=p<m?p:m,A=p>m?p:m;a[h]=a[h]<O?O:a[h],a[h]=a[h]>A?A:a[h]}}}}(e,t)}var PB,OB={newInstance:iS.newInstance(TB,"vtkPiecewiseFunction"),extend:TB},AB=[{name:"CT-AAA",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 143.556 0 166.222 0.686275 214.389 0.696078 419.736 0.833333 3071 0.803922",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 143.556 0.615686 0.356863 0.184314 166.222 0.882353 0.603922 0.290196 214.389 1 1 1 419.736 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-AAA2",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"16 -3024 0 129.542 0 145.244 0.166667 157.02 0.5 169.918 0.627451 395.575 0.8125 1578.73 0.8125 3071 0.8125",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"32 -3024 0 0 0 129.542 0.54902 0.25098 0.14902 145.244 0.6 0.627451 0.843137 157.02 0.890196 0.47451 0.6 169.918 0.992157 0.870588 0.392157 395.575 1 0.886275 0.658824 1578.73 1 0.829256 0.957922 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Bone",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0 -16.4458 0 641.385 0.715686 3071 0.705882",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 0 0 0 -16.4458 0.729412 0.254902 0.301961 641.385 0.905882 0.815686 0.552941 3071 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Bones",gradientOpacity:"4 0 1 985.12 1",specularPower:"1",scalarOpacity:"8 -1000 0 152.19 0 278.93 0.190476 952 0.2",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"20 -1000 0.3 0.3 1 -488 0.3 1 0.3 463.28 1 0 0 659.15 1 0.912535 0.0374849 953 1 0.3 0.3",diffuse:"1",interpolation:"1"},{name:"CT-Cardiac",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 -77.6875 0 94.9518 0.285714 179.052 0.553571 260.439 0.848214 3071 0.875",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 -77.6875 0.54902 0.25098 0.14902 94.9518 0.882353 0.603922 0.290196 179.052 1 0.937033 0.954531 260.439 0.615686 0 0 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cardiac2",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 42.8964 0 163.488 0.428571 277.642 0.776786 1587 0.754902 3071 0.754902",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 42.8964 0.54902 0.25098 0.14902 163.488 0.917647 0.639216 0.0588235 277.642 1 0.878431 0.623529 1587 1 1 1 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cardiac3",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"14 -3024 0 -86.9767 0 45.3791 0.169643 139.919 0.589286 347.907 0.607143 1224.16 0.607143 3071 0.616071",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"28 -3024 0 0 0 -86.9767 0 0.25098 1 45.3791 1 0 0 139.919 1 0.894893 0.894893 347.907 1 1 0.25098 1224.16 1 1 1 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Chest-Contrast-Enhanced",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"10 -3024 0 67.0106 0 251.105 0.446429 439.291 0.625 3071 0.616071",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"20 -3024 0 0 0 67.0106 0.54902 0.25098 0.14902 251.105 0.882353 0.603922 0.290196 439.291 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Chest-Vessels",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -3024 0 -1278.35 0 22.8277 0.428571 439.291 0.625 3071 0.616071",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"20 -3024 0 0 0 -1278.35 0.54902 0.25098 0.14902 22.8277 0.882353 0.603922 0.290196 439.291 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 -2048 0 136.47 0 159.215 0.258929 318.43 0.571429 478.693 0.776786 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"24 -2048 0 0 0 136.47 0 0 0 159.215 0.159804 0.159804 0.159804 318.43 0.764706 0.764706 0.764706 478.693 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries-2",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 142.677 0 145.016 0.116071 192.174 0.5625 217.24 0.776786 384.347 0.830357 3661 0.830357",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 142.677 0 0 0 145.016 0.615686 0 0.0156863 192.174 0.909804 0.454902 0 217.24 0.972549 0.807843 0.611765 384.347 0.909804 0.909804 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries-3",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"14 -2048 0 128.643 0 129.982 0.0982143 173.636 0.669643 255.884 0.857143 584.878 0.866071 3661 1",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"28 -2048 0 0 0 128.643 0 0 0 129.982 0.615686 0 0.0156863 173.636 0.909804 0.454902 0 255.884 0.886275 0.886275 0.886275 584.878 0.968627 0.968627 0.968627 3661 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cropped-Volume-Bone",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -2048 0 -451 0 -450 1 1050 1 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"20 -2048 0 0 0 -451 0 0 0 -450 0.0556356 0.0556356 0.0556356 1050 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Fat",gradientOpacity:"6 0 1 985.12 1 988 1",specularPower:"1",scalarOpacity:"14 -1000 0 -100 0 -99 0.15 -60 0.15 -59 0 101.2 0 952 0",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"36 -1000 0.3 0.3 1 -497.5 0.3 1 0.3 -99 0 0 1 -76.946 0 1 0 -65.481 0.835431 0.888889 0.0165387 83.89 1 0 0 463.28 1 0 0 659.15 1 0.912535 0.0374849 2952 1 0.300267 0.299886",diffuse:"1",interpolation:"1"},{name:"CT-Liver-Vasculature",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 149.113 0 157.884 0.482143 339.96 0.660714 388.526 0.830357 1197.95 0.839286 3661 0.848214",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 149.113 0 0 0 157.884 0.501961 0.25098 0 339.96 0.695386 0.59603 0.36886 388.526 0.854902 0.85098 0.827451 1197.95 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Lung",gradientOpacity:"6 0 1 985.12 1 988 1",specularPower:"1",scalarOpacity:"12 -1000 0 -600 0 -599 0.15 -400 0.15 -399 0 2952 0",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 -1000 0.3 0.3 1 -600 0 0 1 -530 0.134704 0.781726 0.0724558 -460 0.929244 1 0.109473 -400 0.888889 0.254949 0.0240258 2952 1 0.3 0.3",diffuse:"1",interpolation:"1"},{name:"CT-MIP",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0 -637.62 0 700 1 3071 1",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 0 0 0 -637.62 1 1 1 700 1 1 1 3071 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Muscle",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"10 -3024 0 -155.407 0 217.641 0.676471 419.736 0.833333 3071 0.803922",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"20 -3024 0 0 0 -155.407 0.54902 0.25098 0.14902 217.641 0.882353 0.603922 0.290196 419.736 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Pulmonary-Arteries",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 -568.625 0 -364.081 0.0714286 -244.813 0.401786 18.2775 0.607143 447.798 0.830357 3592.73 0.839286",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 -568.625 0 0 0 -364.081 0.396078 0.301961 0.180392 -244.813 0.611765 0.352941 0.0705882 18.2775 0.843137 0.0156863 0.156863 447.798 0.752941 0.752941 0.752941 3592.73 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Soft-Tissue",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -2048 0 -167.01 0 -160 1 240 1 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"20 -2048 0 0 0 -167.01 0 0 0 -160 0.0556356 0.0556356 0.0556356 240 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Air",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0.705882 -900.0 0.715686 -500.0 0 3071 0",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 1 1 1 -900.0 0.2 1.0 1.0 -500.0 0.3 0.3 1.0 3071 0 0 0 ",diffuse:"0.9",interpolation:"1"},{name:"MR-Angio",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 -2048 0 151.354 0 158.279 0.4375 190.112 0.580357 200.873 0.732143 3661 0.741071",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 -2048 0 0 0 151.354 0 0 0 158.279 0.74902 0.376471 0 190.112 1 0.866667 0.733333 200.873 0.937255 0.937255 0.937255 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-Default",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 0 0 20 0 40 0.15 120 0.3 220 0.375 1024 0.5",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 0 0 0 0 20 0.168627 0 0 40 0.403922 0.145098 0.0784314 120 0.780392 0.607843 0.380392 220 0.847059 0.835294 0.788235 1024 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-MIP",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"8 0 0 98.3725 0 416.637 1 2800 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"16 0 1 1 1 98.3725 1 1 1 416.637 1 1 1 2800 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-T2-Brain",gradientOpacity:"4 0 1 160.25 1",specularPower:"40",scalarOpacity:"10 0 0 36.05 0 218.302 0.171429 412.406 1 641 1",specular:"0.5",shade:"1",ambient:"0.3",colorTransfer:"16 0 0 0 0 98.7223 0.956863 0.839216 0.192157 412.406 0 0.592157 0.807843 641 1 1 1",diffuse:"0.6",interpolation:"1"},{name:"DTI-FA-Brain",gradientOpacity:"4 0 1 0.9950 1",specularPower:"40",scalarOpacity:"16 0 0 0 0 0.3501 0.0158 0.49379 0.7619 0.6419 1 0.9920 1 0.9950 0 0.9950 0",specular:"0.5",shade:"1",ambient:"0.3",colorTransfer:"28 0 1 0 0 0 1 0 0 0.24974 0.4941 1 0 0.49949 0 0.9882 1 0.7492 0.51764 0 1 0.9950 1 0 0 0.9950 1 0 0",diffuse:"0.9",interpolation:"1"}];!function(e){e.LINEAR="LINEAR",e.SAMPLED_SIGMOID="SIGMOID"}(PB||(PB={}));var EB,IB=PB;!function(e){e.NO_DATA="noData",e.LOADING="loading",e.PRE_RENDER="preRender",e.RESIZE="resize",e.RENDERED="rendered"}(EB||(EB={}));var RB=EB,kB=iS.vtkErrorMacro,MB=function(){function e(){pC(this,e),this.segmentMapping={},this.segments=[null],this.faces=[]}return gC(e,[{key:"addSegment",value:function(e){var t=e[0],n=e[e.length-1];if(!(t===n||e.length<2)){var r=this.segmentMapping[t],a=this.segmentMapping[n];if(void 0!==r&&void 0!==a)if(Math.abs(r)===Math.abs(a)){var o=r<a?a:r,i=this.segments[o];if(r>0)for(var s=1;s<e.length-1;s++)i.push(e[s]);else for(var l=1;l<e.length-1;l++)i.unshift(e[e.length-1-l]);this.faces.push(i),this.segments[o]=null,this.segmentMapping[t]=void 0,this.segmentMapping[n]=void 0}else{var u=Math.abs(r),c=Math.abs(a),d=this.segments[u],f=this.segments[c];this.segments[u]=null,this.segments[c]=null,this.segmentMapping[d[0]]=void 0,this.segmentMapping[f[0]]=void 0,this.segmentMapping[d[d.length-1]]=void 0,this.segmentMapping[f[f.length-1]]=void 0,this.addSegment(e),this.addSegment(d),this.addSegment(f)}else if(void 0!==r){if(r>0){for(var p=this.segments[r],m=1;m<e.length;m++)p.push(e[m]);this.segmentMapping[n]=r}else{var g=this.segments[-r];this.segmentMapping[n]=r;for(var v=1;v<e.length;v++)g.unshift(e[v])}this.segmentMapping[t]=void 0}else if(void 0!==a){if(a>0){for(var h=this.segments[a],y=1;y<e.length;y++)h.push(e[e.length-1-y]);this.segmentMapping[t]=a}else{var b=this.segments[-a];this.segmentMapping[t]=a;for(var x=1;x<e.length;x++)b.unshift(e[e.length-x-1])}this.segmentMapping[n]=void 0}else{var w=this.segments.length;this.segments.push(e),this.segmentMapping[t]=-w,this.segmentMapping[n]=w}}}}]),e}();var _B={};function DB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_B,n),iS.obj(e,t),iS.algo(e,t,1,1),function(e,t){t.classHierarchy.push("vtkClosedPolyLineToSurfaceFilter"),e.requestData=function(e,t){var n=e[0];if(n){var r=IN.newInstance();r.shallowCopy(n);for(var a=new MB,o=n.getLines().getData(),i=0;i<o.length;){for(var s=o[i++],l=[],u=0;u<s;u++)l.push(o[i+u]);a.addSegment(l),i+=s}for(var c=a.faces,d=c.length,f=0;f<c.length;f++)d+=c[f].length;var p=new Uint16Array(d);i=0;for(var m=0;m<c.length;m++){var g=c[m];p[i++]=g.length;for(var v=0;v<g.length;v++)p[i++]=g[v]}r.setPolys(zV.newInstance({values:p,name:"faces"})),t[0]=r}else kB("Invalid or missing input")}}(e,t)}var LB={newInstance:iS.newInstance(DB,"vtkClosedPolyLineToSurfaceFilter"),extend:DB},VB=function(e){return e},NB=1e-6,BB=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pC(this,t),this.matrix=VA(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?VO:VB}return gC(t,[{key:"rotateFromDirections",value:function(e,t){var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(16);GO(n,e[0],e[1],e[2]),GO(r,t[0],t[1],t[2]),oA(n,n),oA(r,r);var o=iA(n,r);return o>=1||(sA(this.tmp,n,r),FO(this.tmp)<NB&&(sA(this.tmp,[1,0,0],e),FO(this.tmp)<NB&&sA(this.tmp,[0,1,0],e)),$A(a,Math.acos(o),this.tmp),jA(this.matrix,this.matrix,a)),this}},{key:"rotate",value:function(t,n){return GO.apply(e,[this.tmp].concat(rC(n))),oA(this.tmp,this.tmp),WA(this.matrix,this.matrix,this.angleConv(t),this.tmp),this}},{key:"rotateX",value:function(e){return HA(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateY",value:function(e){return KA(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateZ",value:function(e){return qA(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"translate",value:function(e,t,n){return GO(this.tmp,e,t,n),GA(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(e,t,n){return GO(this.tmp,e,t,n),zA(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(e){return jA(this.matrix,this.matrix,e),this}},{key:"multiply3x3",value:function(e){return jA(this.matrix,this.matrix,[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]),this}},{key:"invert",value:function(){return BA(this.matrix,this.matrix),this}},{key:"identity",value:function(){return VA(this.matrix),this}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(jT(ES,this.matrix))return this;for(var r=-1===n?e.length:t+3*n,a=t;a<r;a+=3)GO(this.tmp,e[a],e[a+1],e[a+2]),fA(this.tmp,this.tmp,this.matrix),e[a]=this.tmp[0],e[a+1]=this.tmp[1],e[a+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return e&&16===e.length&&_A(this.matrix,e),this}}]),t}();var FB={buildFromDegree:function(){return new BB(!0)},buildFromRadian:function(){return new BB(!1)}};var UB={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float64Array",generate3DTextureCoordinates:!1};function jB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,UB,n),iS.obj(e,t),iS.setGet(e,t,["xLength","yLength","zLength","generate3DTextureCoordinates"]),iS.setGetArray(e,t,["center","rotations"],3),iS.algo(e,t,0,1),function(e,t){t.classHierarchy.push("vtkCubeSource"),e.setBounds=function(){var e=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0];else for(var n=0;n<arguments.length;n++)e.push(n<0||arguments.length<=n?void 0:arguments[n]);6===e.length&&(t.xLength=e[1]-e[0],t.yLength=e[3]-e[2],t.zLength=e[5]-e[4],t.center=[(e[0]+e[1])/2,(e[2]+e[3])/2,(e[4]+e[5])/2])},e.requestData=function(e,n){var r;if(!t.deleted){var a=IN.newInstance();n[0]=a;var o=iS.newTypedArray(t.pointType,72);a.getPoints().setData(o,3);var i=iS.newTypedArray(t.pointType,72),s=eO.newInstance({name:"Normals",values:i,numberOfComponents:3});a.getPointData().setNormals(s);var l=2;!0===t.generate3DTextureCoordinates&&(l=3);var u=iS.newTypedArray(t.pointType,24*l),c=eO.newInstance({name:"TextureCoordinates",values:u,numberOfComponents:l});a.getPointData().setTCoords(c);var d=[0,0,0],f=[0,0,0],p=[0,0],m=0;d[0]=-t.xLength/2,f[0]=-1,f[1]=0,f[2]=0;for(var g=0;g<2;g++){d[1]=-t.yLength/2;for(var v=0;v<2;v++){p[1]=d[1]+.5,d[2]=-t.zLength/2;for(var h=0;h<2;h++)p[0]=(d[2]+.5)*(1-2*g),o[3*m]=d[0],o[3*m+1]=d[1],o[3*m+2]=d[2],i[3*m]=f[0],i[3*m+1]=f[1],i[3*m+2]=f[2],2===l?(u[m*l]=p[0],u[m*l+1]=p[1]):(u[m*l]=2*g-1,u[m*l+1]=2*v-1,u[m*l+2]=2*h-1),m++,d[2]+=t.zLength;d[1]+=t.yLength}d[0]+=t.xLength,f[0]+=2}d[1]=-t.yLength/2,f[1]=-1,f[0]=0,f[2]=0;for(var y=0;y<2;y++){d[0]=-t.xLength/2;for(var b=0;b<2;b++){p[0]=(d[0]+.5)*(2*y-1),d[2]=-t.zLength/2;for(var x=0;x<2;x++)p[1]=-1*(d[2]+.5),o[3*m]=d[0],o[3*m+1]=d[1],o[3*m+2]=d[2],i[3*m]=f[0],i[3*m+1]=f[1],i[3*m+2]=f[2],2===l?(u[m*l]=p[0],u[m*l+1]=p[1]):(u[m*l]=2*b-1,u[m*l+1]=2*y-1,u[m*l+2]=2*x-1),m++,d[2]+=t.zLength;d[0]+=t.xLength}d[1]+=t.yLength,f[1]+=2}d[2]=-t.zLength/2,f[2]=-1,f[0]=0,f[1]=0;for(var w=0;w<2;w++){d[1]=-t.yLength/2;for(var C=0;C<2;C++){p[1]=d[1]+.5,d[0]=-t.xLength/2;for(var S=0;S<2;S++)p[0]=(d[0]+.5)*(2*w-1),o[3*m]=d[0],o[3*m+1]=d[1],o[3*m+2]=d[2],i[3*m]=f[0],i[3*m+1]=f[1],i[3*m+2]=f[2],2===l?(u[m*l]=p[0],u[m*l+1]=p[1]):(u[m*l]=2*S-1,u[m*l+1]=2*C-1,u[m*l+2]=2*w-1),m++,d[0]+=t.xLength;d[1]+=t.yLength}d[2]+=t.zLength,f[2]+=2}FB.buildFromDegree().rotateX(t.rotations[0]).rotateY(t.rotations[1]).rotateZ(t.rotations[2]).apply(o).apply(i),(r=FB.buildFromRadian()).translate.apply(r,rC(t.center)).apply(o);var T=new Uint16Array(30);a.getPolys().setData(T,1);var P=0;T[P++]=4,T[P++]=0,T[P++]=1,T[P++]=3,T[P++]=2,T[P++]=4,T[P++]=4,T[P++]=6,T[P++]=7,T[P++]=5,T[P++]=4,T[P++]=8,T[P++]=10,T[P++]=11,T[P++]=9,T[P++]=4,T[P++]=12,T[P++]=13,T[P++]=15,T[P++]=14,T[P++]=4,T[P++]=16,T[P++]=18,T[P++]=19,T[P++]=17,T[P++]=4,T[P++]=20,T[P++]=21,T[P++]=23,T[29]=22}}}(e,t)}var GB={newInstance:iS.newInstance(jB,"vtkCubeSource"),extend:jB};function zB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var WB=RC;function HB(e,t){t.classHierarchy.push("vtkCutter");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zB(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);function r(e,n){var r=e.getPoints(),a=r.getData(),o=r.getNumberOfPoints(),i=[],s=[],l=[];(!t.cutScalars||t.cutScalars.length<o)&&(t.cutScalars=new Float32Array(o));for(var u=0,c=0;u<a.length;)t.cutScalars[c++]=t.cutFunction.evaluateFunction(a[u++],a[u++],a[u++]);for(var d=[],f=new Array(3),p=new Array(3),m=function(e){var t=e.getPolys().getData(),n=e.getStrips().getData(),r={done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next:function(){var e=null;if(r.polyIdx<t.length){var a=t[r.polyIdx],o=r.polyIdx+1,i=o+a;r.polyIdx=i,e=t.subarray(o,i)}else if(r.stripIdx<n.length){0===r.remainingStripLength&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);var s=r.stripIdx-2,l=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--,e=n.subarray(s,l)}else if(r.done)throw new Error("Iterator is done");return r.done=r.polyIdx>=t.length&&r.stripIdx>=n.length,e}};return r}(e);!m.done;){var g=m.next();if(!(g.length<=2)){for(var v=[],h=void 0,y=0;y<g.length;y++)h=g[y],v.push(t.cutScalars[h]);for(var b=v[0]>0,x=!0,w=1;w<v.length;w++){if(v[w]>0!==b){x=!1;break}}if(!x){for(var C=[],S=0;S<g.length;S++){var T=S+1===g.length?0:S+1,P=v[S]>0;if(v[T]>0!==P){var O=S,A=T,E=v[A]-v[O];E<=0&&(O=T,A=S,E*=-1);var I=0;0!==E&&(I=(t.cutValue-v[O])/E);var R=g[O],k=g[A];f[0]=a[3*R],f[1]=a[3*R+1],f[2]=a[3*R+2],p[0]=a[3*k],p[1]=a[3*k+1],p[2]=a[3*k+2];var M=[f[0]+I*(p[0]-f[0]),f[1]+I*(p[1]-f[1]),f[2]+I*(p[2]-f[2])];C.push({pointEdge1:R,pointEdge2:k,intersectedPoint:M,newPointID:-1})}}for(var _=0;_<C.length;_++){for(var D=C[_],L=!1,V=0;V<d.length;V++){var N=d[V],B=D.pointEdge1===N.pointEdge1&&D.pointEdge2===N.pointEdge2,F=D.intersectedPoint[0]===N.intersectedPoint[0]&&D.intersectedPoint[1]===N.intersectedPoint[1]&&D.intersectedPoint[2]===N.intersectedPoint[2];if(B||F){L=!0,C[_].newPointID=d[V].newPointID;break}}L||(i.push(D.intersectedPoint[0]),i.push(D.intersectedPoint[1]),i.push(D.intersectedPoint[2]),C[_].newPointID=i.length/3-1,d.push(C[_]))}var U=C.length;2===U?s.push(U,C[0].newPointID,C[1].newPointID):U>2&&(l.push(U),C.forEach((function(e){l.push(e.newPointID)})))}}}n.getPoints().setData(LC(r.getDataType(),i),3),0!==s.length&&n.getLines().setData(Uint16Array.from(s)),0!==l.length&&n.getPolys().setData(Uint16Array.from(l))}e.getMTime=function(){var e=n.getMTime();return t.cutFunction?e=Math.max(e,t.cutFunction.getMTime()):e},e.requestData=function(e,n){var a=e[0];if(a)if(t.cutFunction){var o=IN.newInstance();r(a,o),n[0]=o}else WB("Missing cut function");else WB("Invalid or missing input")}}var KB={cutFunction:null,cutScalars:null,cutValue:0};function qB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,KB,n),jC(e,t),QC(e,t,1,1),qC(e,t,["cutFunction","cutValue"]),HB(e,t)}var XB={newInstance:eS(qB,"vtkCutter"),extend:qB},YB="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkImageResliceMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\n// all variables that represent positions or directions have a suffix\n// indicating the coordinate system they are in. The possible values are\n// MC - Model coordinates\n// WC - World coordinates\n// VC - View coordinates\n// DC - Display coordinates\n// TC - Texture coordinates\n\n// frag position in VC\n//VTK::PositionVC::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvoid main()\n{\n  //VTK::PositionVC::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Picking::Impl\n}\n",$B="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkImageResliceMapperFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the gpu image mapper fragment shader\n\n// VC position of this fragment\n//VTK::PositionVC::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// handle coincident offsets\n//VTK::Coincident::Dec\n\n//VTK::ZBuffer::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\nvoid main()\n{\n  // VC position of this fragment. This should not branch/return/discard.\n  //VTK::PositionVC::Impl\n\n  // Place any calls that require uniform flow (e.g. dFdx) here.\n  //VTK::UniformFlow::Impl\n\n  // Set gl_FragDepth here (gl_FragCoord.z by default)\n  //VTK::Depth::Impl\n\n  // Early depth peeling abort:\n  //VTK::DepthPeeling::PreColor\n\n  //VTK::TCoord::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n\n  //VTK::DepthPeeling::Impl\n\n  //VTK::Picking::Impl\n\n  // handle coincident offsets\n  //VTK::Coincident::Impl\n\n  //VTK::ZBuffer::Impl\n\n  //VTK::RenderPassFragmentShader::Impl\n}\n",ZB=RC;function QB(e,t,n){if(t.apply(e)){var r=e.getIndependentComponents();return"".concat(e.getMTime(),"-").concat(r,"-").concat(n)}return"0"}function JB(e,t,n){return t.identity(n),e.reduce((function(e,n,r){return 0===r?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e}),n)}function eF(e,n){n.classHierarchy.push("vtkOpenGLImageResliceMapper"),e.buildPass=function(t){if(t){n.currentRenderPass=null,n._openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice"),n._openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var r=n._openGLRenderer.getRenderable();n._openGLCamera=n._openGLRenderer.getViewNodeFor(r.getActiveCamera()),n._openGLRenderWindow=n._openGLRenderer.getParent(),n.context=n._openGLRenderWindow.getContext(),n.tris.setOpenGLRenderWindow(n._openGLRenderWindow),n.openGLTexture||(n.openGLTexture=PO.newInstance()),n.openGLTexture.setOpenGLRenderWindow(n._openGLRenderWindow),n.colorTexture.setOpenGLRenderWindow(n._openGLRenderWindow),n.pwfTexture.setOpenGLRenderWindow(n._openGLRenderWindow)}},e.translucentPass=function(t,r){t&&(n.currentRenderPass=r,e.render())},e.zBufferPass=function(t){t&&(n.haveSeenDepthRequest=!0,n.renderDepth=!0,e.render(),n.renderDepth=!1)},e.opaqueZBufferPass=function(t){return e.zBufferPass(t)},e.opaquePass=function(t){t&&e.render()},e.getCoincidentParameters=function(e,t){return n.renderable.getResolveCoincidentTopology()?n.renderable.getCoincidentTopologyPolygonOffsetParameters():null},e.render=function(){var t=n._openGLImageSlice.getRenderable(),r=n._openGLRenderer.getRenderable();e.renderPiece(r,t)},e.renderPiece=function(t,r){e.invokeEvent({type:"StartEvent"}),n.renderable.update(),n.currentInput=n.renderable.getInputData(),n.currentInput?(e.updateResliceGeometry(),e.renderPieceStart(t,r),e.renderPieceDraw(t,r),e.renderPieceFinish(t,r),e.invokeEvent({type:"EndEvent"})):ZB("No input!")},e.renderPieceStart=function(t,r){e.updateBufferObjects(t,r),r.getProperty().getInterpolationType()===MD.NEAREST?(n.openGLTexture.setMinificationFilter(wS.NEAREST),n.openGLTexture.setMagnificationFilter(wS.NEAREST),n.colorTexture.setMinificationFilter(wS.NEAREST),n.colorTexture.setMagnificationFilter(wS.NEAREST),n.pwfTexture.setMinificationFilter(wS.NEAREST),n.pwfTexture.setMagnificationFilter(wS.NEAREST)):(n.openGLTexture.setMinificationFilter(wS.LINEAR),n.openGLTexture.setMagnificationFilter(wS.LINEAR),n.colorTexture.setMinificationFilter(wS.LINEAR),n.colorTexture.setMagnificationFilter(wS.LINEAR),n.pwfTexture.setMinificationFilter(wS.LINEAR),n.pwfTexture.setMagnificationFilter(wS.LINEAR)),n.lastBoundBO=null},e.renderPieceDraw=function(t,r){var a=n.context;n.openGLTexture.activate(),n.colorTexture.activate(),n.pwfTexture.activate(),e.updateShaders(n.tris,t,r),a.drawArrays(a.TRIANGLES,0,n.tris.getCABO().getElementCount()),n.tris.getVAO().release(),n.openGLTexture.deactivate(),n.colorTexture.deactivate(),n.pwfTexture.deactivate()},e.renderPieceFinish=function(e,t){},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(t,r){return n.VBOBuildTime.getMTime()<e.getMTime()||n.VBOBuildTime.getMTime()<r.getMTime()||n.VBOBuildTime.getMTime()<n.renderable.getMTime()||n.VBOBuildTime.getMTime()<r.getProperty().getMTime()||n.VBOBuildTime.getMTime()<n.currentInput.getMTime()||n.VBOBuildTime.getMTime()<n.resliceGeom.getMTime()},e.buildBufferObjects=function(e,t){var r,a=n.currentInput;if(a){var o=null===(r=a.getPointData())||void 0===r?void 0:r.getScalars();if(o){var i=o.getNumberOfComponents();if(!n._externalOpenGLTexture){var s="".concat(a.getMTime(),"A").concat(o.getMTime());if(n.openGLTextureString!==s){var l=a.getDimensions();n.openGLTexture.getOglNorm16Ext(n.context.getExtension("EXT_texture_norm16")),n.openGLTexture.releaseGraphicsResources(n._openGLRenderWindow),n.openGLTexture.resetFormatAndType(),n.openGLTexture.create3DFilterableFromDataArray(l[0],l[1],l[2],o),n.openGLTextureString=s}}var u=t.getProperty(),c=u.getIndependentComponents(),d=c?i:1,f=c?2*d:1,p=QB(u,u.getRGBTransferFunction,d);if(n.colorTextureString!==p){var m=1024,g=new Uint8Array(m*f*3),v=u.getRGBTransferFunction();if(v){for(var h=new Float32Array(3072),y=0;y<d;y++){var b=(v=u.getRGBTransferFunction(y)).getRange();if(v.getTable(b[0],b[1],m,h,1),c)for(var x=0;x<3072;x++)g[y*m*6+x]=255*h[x],g[y*m*6+x+3072]=255*h[x];else for(var w=0;w<3072;w++)g[y*m*6+w]=255*h[w]}n.colorTexture.releaseGraphicsResources(n._openGLRenderWindow),n.colorTexture.resetFormatAndType(),n.colorTexture.create2DFromRaw(m,f,3,dS.UNSIGNED_CHAR,g)}else{for(var C=0;C<3072;++C)g[C]=255*C/3069,g[C+1]=255*C/3069,g[C+2]=255*C/3069;n.colorTexture.create2DFromRaw(m,1,3,dS.UNSIGNED_CHAR,g)}n.colorTextureString=p}var S=QB(u,u.getPiecewiseFunction,d);if(n.pwfTextureString!==S){var T=1024,P=T*f,O=new Uint8Array(P),A=u.getPiecewiseFunction();if(n.pwfTexture.releaseGraphicsResources(n._openGLRenderWindow),n.pwfTexture.resetFormatAndType(),A){for(var E=new Float32Array(P),I=new Float32Array(T),R=0;R<d;++R)if(null===(A=u.getPiecewiseFunction(R)))E.fill(1);else{var k=A.getRange();if(A.getTable(k[0],k[1],T,I,1),c)for(var M=0;M<T;M++)E[R*T*2+M]=I[M],E[R*T*2+M+T]=I[M];else for(var _=0;_<T;_++)E[R*T*2+_]=I[_]}n.pwfTexture.create2DFromRaw(T,f,1,dS.FLOAT,E)}else O.fill(255),n.pwfTexture.create2DFromRaw(T,1,1,dS.UNSIGNED_CHAR,O);n.pwfTextureString=S}var D="".concat(n.resliceGeom.getMTime(),"A").concat(n.renderable.getSlabThickness());if(!n.tris.getCABO().getElementCount()||n.VBOBuildString!==D){var L=eO.newInstance({numberOfComponents:3,values:n.resliceGeom.getPoints().getData()});L.setName("points");var V=eO.newInstance({numberOfComponents:1,values:n.resliceGeom.getPolys().getData()}),N={points:L,cellOffset:0};if(n.renderable.getSlabThickness()>0){var B=n.resliceGeom.getPointData().getNormals();B?N.normals=B:ZB("Slab mode requested without normals")}n.tris.getCABO().createVBO(V,"polys",SI.SURFACE,N)}n.VBOBuildString=D,n.VBOBuildTime.modified()}}},e.updateShaders=function(t,r,a){if(n.lastBoundBO=t,e.getNeedToRebuildShaders(t,r,a)){var o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,r,a);var i=n._openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);i!==t.getProgram()&&(t.setProgram(i),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else n._openGLRenderWindow.getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),e.setMapperShaderParameters(t,r,a),e.setCameraShaderParameters(t,r,a),e.setPropertyShaderParameters(t,r,a)},e.setMapperShaderParameters=function(t,r,a){var o=t.getProgram();if(t.getCABO().getElementCount()&&(n.VBOBuildTime.getMTime()>t.getAttributeUpdateTime().getMTime()||t.getShaderSourceTime().getMTime()>t.getAttributeUpdateTime().getMTime())){o.isUniformUsed("texture1")&&o.setUniformi("texture1",n.openGLTexture.getTextureUnit()),o.isAttributeUsed("vertexWC")&&(t.getVAO().addAttributeArray(o,t.getCABO(),"vertexWC",t.getCABO().getVertexOffset(),t.getCABO().getStride(),n.context.FLOAT,3,n.context.FALSE)||ZB("Error setting vertexWC in shader VAO.")),o.isAttributeUsed("normalWC")&&(t.getVAO().addAttributeArray(o,t.getCABO(),"normalWC",t.getCABO().getNormalOffset(),t.getCABO().getStride(),n.context.FLOAT,3,n.context.FALSE)||ZB("Error setting normalWC in shader VAO.")),o.isUniformUsed("slabThickness")&&o.setUniformf("slabThickness",n.renderable.getSlabThickness()),o.isUniformUsed("spacing")&&o.setUniform3fv("spacing",n.currentInput.getSpacing()),o.isUniformUsed("slabType")&&o.setUniformi("slabType",n.renderable.getSlabType()),o.isUniformUsed("slabType")&&o.setUniformi("slabType",n.renderable.getSlabType()),o.isUniformUsed("slabTrapezoid")&&o.setUniformi("slabTrapezoid",n.renderable.getSlabTrapezoidIntegration());var i=t.getCABO().getCoordShiftAndScaleEnabled()?t.getCABO().getInverseShiftAndScaleMatrix():null;if(o.isUniformUsed("WCTCMatrix")){var s=n.currentInput;VA(n.tmpMat4);var l=s.getBounds(),u=[l[1]-l[0],l[3]-l[2],l[5]-l[4]],c=[l[0],l[2],l[4]];oE(n.tmpMat4,[0,0,0,1],c,u),BA(n.tmpMat4,n.tmpMat4),i&&jA(n.tmpMat4,n.tmpMat4,i),o.setUniformMatrix("WCTCMatrix",n.tmpMat4)}t.getAttributeUpdateTime().modified()}if(n.haveSeenDepthRequest&&t.getProgram().setUniformi("depthRequest",n.renderDepth?1:0),t.getProgram().isUniformUsed("coffset")){var d=e.getCoincidentParameters(r,a);t.getProgram().setUniformf("coffset",d.offset),t.getProgram().isUniformUsed("cfactor")&&t.getProgram().setUniformf("cfactor",d.factor)}},e.setCameraShaderParameters=function(e,r,a){var o=n._openGLCamera.getKeyMatrices(r),i=n._openGLImageSlice.getKeyMatrices(),s=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,l=e.getProgram();l.isUniformUsed("MCPCMatrix")&&(VA(n.tmpMat4),l.setUniformMatrix("MCPCMatrix",JB([o.wcpc,i.mcwc,s],t,n.tmpMat4))),l.isUniformUsed("MCVCMatrix")&&(VA(n.tmpMat4),l.setUniformMatrix("MCVCMatrix",JB([o.wcvc,i.mcwc,s],t,n.tmpMat4)))},e.setPropertyShaderParameters=function(e,t,r){var a=e.getProgram(),o=r.getProperty(),i=o.getOpacity();a.setUniformf("opacity",i);var s=n.openGLTexture.getComponents(),l=o.getIndependentComponents();if(l)for(var u=0;u<s;++u)a.setUniformf("mix".concat(u),o.getComponentWeight(u));for(var c=n.openGLTexture.getVolumeInfo(),d=0;d<s;d++){var f=o.getColorWindow(),p=o.getColorLevel(),m=l?d:0,g=o.getRGBTransferFunction(m);if(g&&o.getUseLookupTableScalarRange()){var v=g.getRange();f=v[1]-v[0],p=.5*(v[1]+v[0])}var h=c.scale[d]/f,y=(c.offset[d]-p)/f+.5;a.setUniformf("cshift".concat(d),y),a.setUniformf("cscale".concat(d),h)}var b=n.colorTexture.getTextureUnit();a.setUniformi("colorTexture1",b);for(var x=0;x<s;x++){var w=1,C=0,S=l?x:0,T=o.getPiecewiseFunction(S);if(T){var P=T.getRange(),O=P[1]-P[0],A=.5*(P[0]+P[1]);w=c.scale[x]/O,C=(c.offset[x]-A)/O+.5}a.setUniformf("pwfshift".concat(x),C),a.setUniformf("pwfscale".concat(x),w)}var E=n.pwfTexture.getTextureUnit();a.setUniformi("pwfTexture1",E),a.setUniform4fv("backgroundColor",n.renderable.getBackgroundColor())},e.getNeedToRebuildShaders=function(e,t,r){var a=n.openGLTexture.getComponents(),o=r.getProperty().getIndependentComponents(),i=n.renderable.getSlabThickness(),s=n.renderable.getSlabType(),l=n.renderable.getSlabTrapezoidIntegration(),u=!1;return(!n.currentRenderPass&&n.lastRenderPassShaderReplacement||n.currentRenderPass&&n.currentRenderPass.getShaderReplacement()!==n.lastRenderPassShaderReplacement)&&(u=!0),!(!u&&n.lastHaveSeenDepthRequest===n.haveSeenDepthRequest&&0!==e.getProgram()&&n.lastTextureComponents===a&&n.lastIndependentComponents===o&&n.lastSlabThickness===i&&n.lastSlabType===s&&n.lastSlabTrapezoidIntegration===l)&&(n.lastHaveSeenDepthRequest=n.haveSeenDepthRequest,n.lastTextureComponents=a,n.lastIndependentComponents=o,n.lastSlabThickness=i,n.lastSlabType=s,n.lastSlabTrapezoidIntegration=l,!0)},e.getShaderTemplate=function(e,t,n){e.Vertex=YB,e.Fragment=$B,e.Geometry=""},e.replaceShaderValues=function(t,r,a){if(e.replaceShaderTCoord(t,r,a),e.replaceShaderPositionVC(t,r,a),n.haveSeenDepthRequest){var o=t.Fragment;o=NI.substitute(o,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,o=NI.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,t.Fragment=o}e.replaceShaderCoincidentOffset(t,r,a)},e.replaceShaderTCoord=function(e,t,r){var a=e.Vertex,o=e.Geometry,i=e.Fragment,s=n.renderable.getSlabThickness();a=NI.substitute(a,"//VTK::TCoord::Dec",["uniform mat4 WCTCMatrix;","out vec3 fragTexCoord;"]).result;a=NI.substitute(a,"//VTK::TCoord::Impl",["fragTexCoord = (WCTCMatrix * vertexWC).xyz;"]).result;var l=n.openGLTexture.getComponents(),u=r.getProperty().getIndependentComponents(),c=["in vec3 fragTexCoord;","uniform highp sampler3D texture1;","uniform mat4 WCTCMatrix;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;","uniform vec4 backgroundColor;"];if(u){for(var d=1;d<l;d++)c=c.concat(["uniform float cshift".concat(d,";"),"uniform float cscale".concat(d,";"),"uniform float pwfshift".concat(d,";"),"uniform float pwfscale".concat(d,";")]);switch(l){case 1:c=c.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:c=c.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:c=c.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:c=c.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:ZB("Unsupported number of independent coordinates.")}}s>0&&(c=(c=c.concat(["uniform vec3 spacing;","uniform float slabThickness;","uniform int slabType;","uniform int slabTrapezoid;"])).concat(["vec4 compositeValue(vec4 currVal, vec4 valToComp, int trapezoid)","{","  vec4 retVal = vec4(1.0);","  if (slabType == 0) // min","  {","    retVal = min(currVal, valToComp);","  }","  else if (slabType == 1) // max","  {","    retVal = max(currVal, valToComp);","  }","  else if (slabType == 3) // sum","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  else // mean","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  return retVal;","}"])),i=NI.substitute(i,"//VTK::TCoord::Dec",c).result;var f=["if (any(greaterThan(fragTexCoord, vec3(1.0))) || any(lessThan(fragTexCoord, vec3(0.0))))","{","  // set the background color and exit","  gl_FragData[0] = backgroundColor;","  return;","}","vec4 tvalue = texture(texture1, fragTexCoord);"];if(s>0&&(f=f.concat(["// Get the first and last samples","int numSlices = 1;","vec3 normalxspacing = normalWCVSOutput * spacing * 0.5;","float distTraveled = length(normalxspacing);","int trapezoid = 0;","while (distTraveled < slabThickness * 0.5)","{","  distTraveled += length(normalxspacing);","  float fnumSlices = float(numSlices);","  if (distTraveled > slabThickness * 0.5)","  {","    // Before stepping outside the slab, sample at the boundaries","    normalxspacing = normalWCVSOutput * slabThickness * 0.5 / fnumSlices;","    trapezoid = slabTrapezoid;","  }","  vec3 fragTCoordNeg = (WCTCMatrix * vec4(vertexWCVSOutput.xyz - fnumSlices * normalxspacing, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordNeg);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","  vec3 fragTCoordPos = (WCTCMatrix * vec4(vertexWCVSOutput.xyz + fnumSlices * normalxspacing, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordPos);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","}","// Finally, if slab type is *mean*, divide the sum by the numSlices","if (slabType == 2)","{","  tvalue = tvalue / float(numSlices);","}"])),u){for(var p=["r","g","b","a"],m=0;m<l;++m)f=f.concat(["vec3 tcolor".concat(m," = mix").concat(m," * texture2D(colorTexture1, vec2(tvalue.").concat(p[m]," * cscale").concat(m," + cshift").concat(m,", height").concat(m,")).rgb;"),"float compWeight".concat(m," = mix").concat(m," * texture2D(pwfTexture1, vec2(tvalue.").concat(p[m]," * pwfscale").concat(m," + pwfshift").concat(m,", height").concat(m,")).r;")]);switch(l){case 1:f=f.concat(["gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);"]);break;case 2:f=f.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:f=f.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:f=f.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:ZB("Unsupported number of independent coordinates.")}}else switch(l){case 1:f=f.concat(["// Dependent components","float intensity = tvalue.r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]);break;case 2:f=f.concat(["float intensity = tvalue.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);"]);break;case 3:f=f.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]);break;default:f=f.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"])}i=NI.substitute(i,"//VTK::TCoord::Impl",f).result,e.Vertex=a,e.Fragment=i,e.Geometry=o},e.replaceShaderPositionVC=function(t,r,a){var o=t.Vertex,i=t.Geometry,s=t.Fragment,l=n.renderable.getSlabThickness(),u=["attribute vec4 vertexWC;"];u=u.concat(["//".concat(e.getMTime()).concat(n.resliceGeomUpdateString)]),l>0&&(u=u.concat(["attribute vec3 normalWC;","varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),o=NI.substitute(o,"//VTK::PositionVC::Dec",u).result;var c=["gl_Position = MCPCMatrix * vertexWC;"];l>0&&(c=c.concat(["normalWCVSOutput = normalWC;","vertexWCVSOutput = vertexWC;"])),o=NI.substitute(o,"//VTK::PositionVC::Impl",c).result,o=NI.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result;var d=[];l>0&&(d=d.concat(["varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),s=NI.substitute(s,"//VTK::PositionVC::Dec",d).result,t.Vertex=o,t.Geometry=i,t.Fragment=s},e.updateResliceGeometry=function(){var e="",t=n.currentInput,r=null===t||void 0===t?void 0:t.getBounds(),a=!0,o=2;if(n.renderable.getSlicePolyData())e=e.concat("PolyData".concat(n.renderable.getSlicePolyData().getMTime()));else if(n.renderable.getSlicePlane()){e=e.concat("Plane".concat(n.renderable.getSlicePlane().getMTime())),t&&(e=e.concat("Image".concat(t.getMTime())));var i=function(e){GP.normalize(e);for(var t=[0,0,0],n=0;n<3;++n){bA(t),t[n]=1;var r=GP.dot(e,t);if(r<-.999||r>.999)return[!0,n]}return[!1,2]}(n.renderable.getSlicePlane().getNormal()),s=eC(i,2);a=s[0],o=s[1]}else{var l,u=sM.newInstance();u.setNormal(0,0,1);var c=[0,1,0,1,0,1];t&&(c=r),u.setOrigin(c[0],c[2],.5*(c[5]+c[4])),n.renderable.setSlicePlane(u),e=e.concat("Plane".concat(null===(l=n.renderable.getSlicePlane())||void 0===l?void 0:l.getMTime())),t&&(e=e.concat("Image".concat(t.getMTime())))}if(!n.resliceGeom||n.resliceGeomUpdateString!==e){if(n.renderable.getSlicePolyData())n.resliceGeom=n.renderable.getSlicePolyData();else if(n.renderable.getSlicePlane()){var d=t?r:[0,1,0,1,0,1];if(a){for(var f=new Float32Array(12),p=n.renderable.getSlicePlane().getOrigin(),m=[(o+1)%3,(o+2)%3].sort(),g=0,v=0;v<2;++v)for(var h=0;h<2;++h)f[g+o]=p[o],f[g+m[0]]=d[2*m[0]+h],f[g+m[1]]=d[2*m[1]+v],g+=3;var y=new Uint16Array(8);y[0]=3,y[1]=0,y[2]=1,y[3]=3,y[4]=3,y[5]=0,y[6]=3,y[7]=2;var b=n.renderable.getSlicePlane().getNormal();GP.normalize(b);for(var x=new Float32Array(12),w=0;w<4;++w)x[3*w]=b[0],x[3*w+1]=b[1],x[3*w+2]=b[2];n.resliceGeom||(n.resliceGeom=IN.newInstance()),n.resliceGeom.getPoints().setData(f,3),n.resliceGeom.getPolys().setData(y,1);var C=eO.newInstance({numberOfComponents:3,values:x,name:"Normals"});n.resliceGeom.getPointData().setNormals(C),n.resliceGeom.modified()}else{var S=GB.newInstance();S.setCenter(.5*(d[0]+d[1]),.5*(d[2]+d[3]),.5*(d[4]+d[5])),S.setXLength(d[1]-d[0]),S.setYLength(d[3]-d[2]),S.setZLength(d[5]-d[4]);var T=XB.newInstance();T.setInputConnection(S.getOutputPort()),T.setCutFunction(n.renderable.getSlicePlane());var P=LB.newInstance();P.setInputConnection(T.getOutputPort()),P.update(),n.resliceGeom=P.getOutputData();var O=n.renderable.getSlicePlane().getNormal(),A=n.resliceGeom.getNumberOfPoints();GP.normalize(O);for(var E=new Float32Array(3*A),I=0;I<A;++I)E[3*I]=O[0],E[3*I+1]=O[1],E[3*I+2]=O[2];var R=eO.newInstance({numberOfComponents:3,values:E,name:"Normals"});n.resliceGeom.getPointData().setNormals(R)}}else ZB("Something went wrong.","A default slice plane should have been created in the beginning of","updateResliceGeometry.");n.resliceGeomUpdateString=e}},e.setOpenGLTexture=function(e){e&&(n.openGLTexture=e,n._externalOpenGLTexture=!0)}}var tF={VBOBuildTime:{},VBOBuildString:null,haveSeenDepthRequest:!1,lastHaveSeenDepthRequest:!1,lastIndependentComponents:!1,lastTextureComponents:0,lastSlabThickness:0,lastSlabTrapezoidIntegration:0,lastSlabType:-1,openGLTexture:null,openGLTextureString:null,colorTextureString:null,pwfTextureString:null,resliceGeom:null,resliceGeomUpdateString:null,tris:null,colorTexture:null,pwfTexture:null,_externalOpenGLTexture:!1};function nF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,tF,n),aO.extend(e,t,n),J_.implementReplaceShaderCoincidentOffset(e,t,n),J_.implementBuildShadersWithReplacements(e,t,n),t.tris=WI.newInstance(),t.openGLTexture=PO.newInstance(),t.colorTexture=PO.newInstance(),t.pwfTexture=PO.newInstance(),t.VBOBuildTime={},jC(t.VBOBuildTime),t.tmpMat4=VA(new Float64Array(16)),zC(e,t,["openGLTexture"]),eF(e,t)}var rF=eS(nF,"vtkOpenGLImageResliceMapper");uO("vtkImageResliceMapper",rF);var aF=Object.create(null);function oF(e,t){aF[e]=t}var iF={};function sF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,iF,n),t.overrides=aF,sO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkWebGPUViewNodeFactory")}(0,t)}iS.newInstance(sF,"vtkWebGPUViewNodeFactory");var lF={keyMatrixTime:null,keyMatrices:null};function uF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,lF,n),aO.extend(e,t,n),t.keyMatrixTime={},iS.obj(t.keyMatrixTime),t.keyMatrices={normalMatrix:new Float64Array(16),vcpc:new Float64Array(16),pcsc:new Float64Array(16),wcvc:new Float64Array(16),scpc:new Float64Array(16),scvc:new Float64Array(16)},iS.setGet(e,t,["keyMatrixTime"]),function(e,t){t.classHierarchy.push("vtkWebGPUCamera"),e.getProjectionMatrix=function(e,n,r,a){if(VA(e),t.renderable.getParallelProjection()){var o=t.renderable.getParallelScale(),i=o*n,s=o,l=(a[0]-1)*i,u=(a[0]+1)*i,c=(a[1]-1)*s,d=(a[1]+1)*s,f=1/(u-l),p=1/(d-c);e[0]=2*f,e[5]=2*p,e[10]=1/(r[1]-r[0]),e[12]=(u+l)*f,e[13]=(d+c)*p,e[14]=r[1]/(r[1]-r[0])}else{var m,g,v=Math.tan(Math.PI*t.renderable.getViewAngle()/360);!0===t.renderable.getUseHorizontalViewAngle()?(m=r[0]*v,g=r[0]*v/n):(m=r[0]*v*n,g=r[0]*v);var h=(a[0]-1)*m,y=(a[0]+1)*m,b=(a[1]-1)*g,x=(a[1]+1)*g;e[0]=2*r[0]/(y-h),e[5]=2*r[0]/(x-b),e[12]=(h+y)/(y-h),e[13]=(b+x)/(x-b),e[10]=0,e[14]=r[0],e[11]=-1,e[15]=0}},e.convertToOpenGLDepth=function(e){if(t.renderable.getParallelProjection())return 1-e;var n=t.renderable.getClippingRangeByReference(),r=-n[0]/e;return.5*(r=(n[0]+n[1])/(n[1]-n[0])+2*n[0]*n[1]/(r*(n[1]-n[0])))+.5},e.getKeyMatrices=function(n){var r=n.getRenderable(),a=n.getParent();if(Math.max(a.getMTime(),e.getMTime(),r.getMTime(),t.renderable.getMTime(),n.getStabilizedTime())>t.keyMatrixTime.getMTime()){var o=t.renderable.getViewMatrix();_A(t.keyMatrices.normalMatrix,o),t.keyMatrices.normalMatrix[3]=0,t.keyMatrices.normalMatrix[7]=0,t.keyMatrices.normalMatrix[11]=0,BA(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),NA(t.keyMatrices.wcvc,o);var i=n.getStabilizedCenterByReference();GA(t.keyMatrices.scvc,t.keyMatrices.wcvc,i);var s=n.getAspectRatio(),l=t.renderable.getClippingRangeByReference();e.getProjectionMatrix(t.keyMatrices.vcpc,s,l,t.renderable.getWindowCenterByReference()),jA(t.keyMatrices.scpc,t.keyMatrices.vcpc,t.keyMatrices.scvc),BA(t.keyMatrices.pcsc,t.keyMatrices.scpc),t.keyMatrixTime.modified()}return t.keyMatrices}}(e,t)}var cF=iS.newInstance(uF);oF("vtkCamera",cF);var dF={device:null,handle:null,label:null};function fF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,dF,n),iS.obj(e,t),t.bindables=[],t.bindGroupTime={},iS.obj(t.bindGroupTime,{mtime:0}),iS.get(e,t,["bindGroupTime","handle","sizeInBytes","usage"]),iS.setGet(e,t,["label","device","arrayInformation"]),function(e,t){t.classHierarchy.push("vtkWebGPUBindGroup"),e.setBindables=function(n){if(t.bindables.length===n.length){for(var r=!0,a=0;a<t.bindables.length;a++)t.bindables[a]!==n[a]&&(r=!1);if(r)return}t.bindables=n,e.modified()},e.getBindGroupLayout=function(e){for(var n=[],r=0;r<t.bindables.length;r++){var a=t.bindables[r].getBindGroupLayoutEntry();a.binding=r,n.push(a)}return e.getBindGroupLayout({entries:n})},e.getBindGroup=function(n){for(var r=e.getMTime(),a=0;a<t.bindables.length;a++){var o=t.bindables[a].getBindGroupTime().getMTime();r=o>r?o:r}if(r<t.bindGroupTime.getMTime())return t.bindGroup;for(var i=[],s=0;s<t.bindables.length;s++){var l=t.bindables[s].getBindGroupEntry();l.binding=s,i.push(l)}return t.bindGroup=n.getHandle().createBindGroup({layout:e.getBindGroupLayout(n),entries:i,label:t.label}),t.bindGroupTime.modified(),t.bindGroup},e.getShaderCode=function(e){for(var n=[],r=e.getBindGroupLayoutCount(t.label),a=0;a<t.bindables.length;a++)n.push(t.bindables[a].getShaderCode(a,r));return n.join("\n")}}(e,t)}var pF={newInstance:iS.newInstance(fF),extend:fF};var mF={device:null,handle:null};function gF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mF,n),iS.obj(e,t),iS.get(e,t,["lastCameraMTime"]),iS.setGet(e,t,["device","handle"]),function(e,t){t.classHierarchy.push("vtkWebGPUShaderModule"),e.initialize=function(e,n){t.device=e,t.handle=t.device.getHandle().createShaderModule({code:n.getCode()})}}(e,t)}var vF={newInstance:iS.newInstance(gF,"vtkWebGPUShaderModule"),extend:gF};var hF={shaderModules:null,device:null,window:null};function yF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,hF,n),t._shaderModules=new Map,iS.obj(e,t),iS.setGet(e,t,["device","window"]),function(e,t){t.classHierarchy.push("vtkWebGPUShaderCache"),e.getShaderModule=function(e){for(var n=e.getType(),r=e.getHash(),a=t._shaderModules.keys(),o=0;o<a.length;o++){var i=a[o];if(i.getHash()===r&&i.getType()===n)return t._shaderModules.get(i)}var s=vF.newInstance();return s.initialize(t.device,e),t._shaderModules.set(e,s),s}}(e,t)}var bF={newInstance:iS.newInstance(yF,"vtkWebGPUShaderCache"),extend:yF,substitute:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Array.isArray(n)?n.join("\n"):n,o=!1;-1!==e.search(t)&&(o=!0);var i="";r&&(i="g");var s=new RegExp(t,i);return{replace:o,result:e.replace(s,a)}}};var xF={handle:null,layouts:null,renderEncoder:null,shaderDescriptions:null,vertexState:null,topology:null,pipelineDescription:null};function wF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xF,n),jC(e,t),t.layouts=[],t.shaderDescriptions=[],zC(e,t,["handle","pipelineDescription"]),qC(e,t,["device","renderEncoder","topology","vertexState"]),function(e,t){t.classHierarchy.push("vtkWebGPUPipeline"),e.getShaderDescriptions=function(){return t.shaderDescriptions},e.initialize=function(e,n){t.pipelineDescription=t.renderEncoder.getPipelineSettings(),t.pipelineDescription.primitive.topology=t.topology,t.pipelineDescription.vertex=t.vertexState,t.pipelineDescription.label=n;for(var r=[],a=0;a<t.layouts.length;a++)r.push(t.layouts[a].layout);t.pipelineLayout=e.getHandle().createPipelineLayout({bindGroupLayouts:r}),t.pipelineDescription.layout=t.pipelineLayout;for(var o=0;o<t.shaderDescriptions.length;o++){var i=t.shaderDescriptions[o],s=e.getShaderModule(i);"vertex"===i.getType()&&(t.pipelineDescription.vertex.module=s.getHandle(),t.pipelineDescription.vertex.entryPoint="main"),"fragment"===i.getType()&&(t.pipelineDescription.fragment.module=s.getHandle(),t.pipelineDescription.fragment.entryPoint="main")}t.handle=e.getHandle().createRenderPipeline(t.pipelineDescription)},e.getShaderDescription=function(e){for(var n=0;n<t.shaderDescriptions.length;n++)if(t.shaderDescriptions[n].getType()===e)return t.shaderDescriptions[n];return null},e.addBindGroupLayout=function(e){e&&t.layouts.push({layout:e.getBindGroupLayout(t.device),label:e.getLabel()})},e.getBindGroupLayout=function(e){return t.layouts[e].layout},e.getBindGroupLayoutCount=function(e){for(var n=0;n<t.layouts.length;n++)if(t.layouts[n].label===e)return n;return 0},e.bindVertexInput=function(e,t){t.bindBuffers(e)}}(e,t)}var CF={newInstance:eS(wF,"vtkWebGPUPipeline"),extend:wF};var SF={type:null,hash:null,code:null,outputNames:null,outputTypes:null};function TF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,SF,n),t.outputNames=[],t.outputTypes=[],t.outputInterpolations=[],t.builtinOutputNames=[],t.builtinOutputTypes=[],t.builtinInputNames=[],t.builtinInputTypes=[],iS.obj(e,t),iS.setGet(e,t,["type","hash","code"]),iS.getArray(e,t,["outputTypes","outputNames","outputInterpolations"]),function(e,t){t.classHierarchy.push("vtkWebGPUShaderDescription"),e.hasOutput=function(e){return t.outputNames.includes(e)},e.addOutput=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;t.outputTypes.push(e),t.outputNames.push(n),t.outputInterpolations.push(r)},e.addBuiltinOutput=function(e,n){t.builtinOutputTypes.push(e),t.builtinOutputNames.push(n)},e.addBuiltinInput=function(e,n){t.builtinInputTypes.push(e),t.builtinInputNames.push(n)},e.replaceShaderCode=function(e,n){var r=[],a=[];if(n&&r.push(n.getShaderCode()),e||t.builtinInputNames.length){var o=[];if(o.push("struct ".concat(t.type,"Input\n{")),e)for(var i=e.getOutputNamesByReference(),s=e.getOutputTypesByReference(),l=e.getOutputInterpolationsByReference(),u=0;u<i.length;u++)void 0!==l[u]?o.push("  @location(".concat(u,") @interpolate(").concat(l[u],") ").concat(i[u]," : ").concat(s[u],",")):o.push("  @location(".concat(u,") ").concat(i[u]," : ").concat(s[u],","));for(var c=0;c<t.builtinInputNames.length;c++)o.push("  ".concat(t.builtinInputNames[c]," : ").concat(t.builtinInputTypes[c],","));o.length>1&&(o.push("};"),a=o,r[r.length-1]+=",",r.push("input: ".concat(t.type,"Input")))}if(r.length&&(t.code=bF.substitute(t.code,"//VTK::IOStructs::Input",r).result),t.outputNames.length+t.builtinOutputNames.length){for(var d=["struct ".concat(t.type,"Output\n{")],f=0;f<t.outputNames.length;f++)void 0!==t.outputInterpolations[f]?d.push("  @location(".concat(f,") @interpolate(").concat(t.outputInterpolations[f],") ").concat(t.outputNames[f]," : ").concat(t.outputTypes[f],",")):d.push("  @location(".concat(f,") ").concat(t.outputNames[f]," : ").concat(t.outputTypes[f],","));for(var p=0;p<t.builtinOutputNames.length;p++)d.push("  ".concat(t.builtinOutputNames[p]," : ").concat(t.builtinOutputTypes[p],","));d.push("};"),a=a.concat(d),t.code=bF.substitute(t.code,"//VTK::IOStructs::Output",["-> ".concat(t.type,"Output")]).result}t.code=bF.substitute(t.code,"//VTK::IOStructs::Dec",a).result}}(e,t)}var PF={newInstance:iS.newInstance(TF,"vtkWebGPUShaderDescription"),extend:TF},OF={r8unorm:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"float"},r8snorm:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"float"},r8uint:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},r8sint:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"sint"},r16uint:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"uint"},r16sint:{numComponents:1,nativeType:Int16Array,stride:2,elementSize:2,sampleType:"sint"},r16float:{numComponents:1,nativeType:Float32Array,stride:2,elementSize:2,sampleType:"float"},rg8unorm:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"float"},rg8snorm:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"float"},rg8uint:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"uint"},rg8sint:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"sint"},r32uint:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:4,sampleType:"uint"},r32sint:{numComponents:1,nativeType:Int32Array,stride:4,elementSize:4,sampleType:"sint"},r32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"unfilterable-float"},rg16uint:{numComponents:2,nativeType:Uint16Array,stride:4,elementSize:2,sampleType:"uint"},rg16sint:{numComponents:2,nativeType:Int16Array,stride:4,elementSize:2,sampleType:"sint"},rg16float:{numComponents:2,nativeType:Float32Array,stride:4,elementSize:2,sampleType:"float"},rgba8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"rgba8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgba8snorm:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"float"},rgba8uint:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"uint"},rgba8sint:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"sint"},bgra8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"bgra8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgb9e5ufloat:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rgb10a2unorm:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rg11b10ufloat:{numComponents:4,nativeType:Float32Array,stride:4,sampleType:"float"},rg32uint:{numComponents:2,nativeType:Uint32Array,stride:8,elementSize:4,sampleType:"uint"},rg32sint:{numComponents:2,nativeType:Int32Array,stride:8,elementSize:4,sampleType:"sint"},rg32float:{numComponents:2,nativeType:Float32Array,stride:8,elementSize:4,sampleType:"unfilterable-float"},rgba16uint:{numComponents:4,nativeType:Uint16Array,stride:8,elementSize:2,sampleType:"uint"},rgba16sint:{numComponents:4,nativeType:Int16Array,stride:8,elementSize:2,sampleType:"sint"},rgba16float:{numComponents:4,nativeType:Float32Array,stride:8,elementSize:2,sampleType:"float"},rgba32uint:{numComponents:4,nativeType:Uint32Array,stride:16,elementSize:4,sampleType:"uint"},rgba32sint:{numComponents:4,nativeType:Int32Array,stride:16,elementSize:4,sampleType:"sint"},rgba32float:{numComponents:4,nativeType:Float32Array,stride:16,elementSize:4,sampleType:"unfilterable-float"},stencil8:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},depth16unorm:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"depth"},depth24plus:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:3,sampleType:"depth"},"depth24plus-stencil8":{numComponents:2,nativeType:Uint32Array,stride:4,sampleType:"mixed"},depth32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"depth"}};var AF={getDetailsFromTextureFormat:function(e){return!e||e.length<6?0:e in OF===!0?OF[e]:(RC("unknown format ".concat(e)),null)},getByteStrideFromBufferFormat:function(e){if(!e||e.length<5)return 0;var t=1;"x"===e[e.length-2]&&(t=Number(e[e.length-1]));var n=1===t?e.length-1:e.length-3,r=Number(e[n]);return Number.isNaN(r)?(RC("unknown format ".concat(e)),0):t*(5-r/2)},getNumberOfComponentsFromBufferFormat:function(e){if(!e||e.length<5)return 0;var t=1;return"x"===e[e.length-2]&&(t=Number(e[e.length-1])),t},getNativeTypeFromBufferFormat:function(e){if(!e||e.length<5)return 0;var t;if("f"===e[0])t="Float";else if("s"===e[0])t="Int";else{if("u"!==e[0])return void RC("unknown format ".concat(e));t="Uint"}var n=e.split("x")[0],r=Number(n[n.length-1]);if(!Number.isNaN(r))return t+=8*(5-r/2),t+="Array";RC("unknown format ".concat(e))},getShaderTypeFromBufferFormat:function(e){var t;if("f"===e[0]||"n"===e[1])t="f32";else if("s"===e[0]&&"i"===e[1])t="i32";else{if("u"!==e[0]||"i"!==e[1])return void RC("unknown format ".concat(e));t="u32"}var n=1;return"x"===e[e.length-2]&&(n=Number(e[e.length-1])),4===n?"vec4<".concat(t,">"):3===n?"vec3<".concat(t,">"):2===n?"vec2<".concat(t,">"):t},getByteStrideFromShaderFormat:function(e){if(!e)return 0;var t=1;return"vec"===e.substring(0,3)?t=Number(e[3]):"mat"===e.substring(0,3)&&(t=e[3]*e[5]),4*t},getNativeTypeFromShaderFormat:function(e){if(e)return e.includes("f32")?"Float32Array":e.includes("i32")?"Int32Array":e.includes("u32")?"Uint32Array":void RC("unknown format ".concat(e))}};function EF(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!t.includes(e[n]))return!1;return!0}var IF={inputs:null,bindingDescriptions:!1,attributeDescriptions:null,indexBuffer:null};function RF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,IF,n),jC(e,t),t.bindingDescriptions=[],t.attributeDescriptions=[],t.inputs=[],qC(e,t,["created","device","handle","indexBuffer"]),function(e,t){t.classHierarchy.push("vtkWebGPUVertexInput"),e.addBuffer=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertex",a=n;Array.isArray(a)||(a=[a]);for(var o=0;o<t.inputs.length;o++)if(EF(t.inputs[o].names,a)){if(t.inputs[o].buffer===e)return;return void(t.inputs[o].buffer=e)}t.inputs.push({buffer:e,stepMode:r,names:a}),t.inputs=t.inputs.sort((function(e,t){return e.names[0]<t.names[0]?-1:e.names[0]>t.names[0]?1:0}))},e.removeBufferIfPresent=function(e){for(var n=0;n<t.inputs.length;n++)t.inputs[n].names.includes(e)&&t.inputs.splice(n,1)},e.getBuffer=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer;return null},e.hasAttribute=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return!0;return!1},e.getAttributeTime=function(e){for(var n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer.getSourceTime();return 0},e.getShaderCode=function(){for(var e="",n=0,r=0;r<t.inputs.length;r++)for(var a=0;a<t.inputs[r].names.length;a++){var o=t.inputs[r].buffer.getArrayInformation()[a],i=AF.getShaderTypeFromBufferFormat(o.format);n>0&&(e+=",\n"),e="".concat(e,"  @location(").concat(n,") ").concat(t.inputs[r].names[a]," : ").concat(i),n++}return e},e.getVertexInputInformation=function(){var e={};if(t.inputs.length){for(var n=[],r=0,a=0;a<t.inputs.length;a++){for(var o=t.inputs[a].buffer,i={arrayStride:o.getStrideInBytes(),stepMode:t.inputs[a].stepMode,attributes:[]},s=o.getArrayInformation(),l=0;l<t.inputs[a].names.length;l++)i.attributes.push({shaderLocation:r,offset:s[l].offset,format:s[l].format}),r++;n.push(i)}e.buffers=n}return e},e.bindBuffers=function(e){for(var n=0;n<t.inputs.length;n++)e.setVertexBuffer(n,t.inputs[n].buffer.getHandle());t.indexBuffer&&e.setIndexBuffer(t.indexBuffer.getHandle(),t.indexBuffer.getArrayInformation()[0].format)},e.getReady=function(){},e.releaseGraphicsResources=function(){t.created&&(t.inputs=[],t.bindingDescriptions=[],t.attributeDescriptions=[])}}(e,t)}var kF={newInstance:eS(RF,"vtkWebGPUVertexInput"),extend:RF};var MF={additionalBindables:void 0,bindGroup:null,device:null,fragmentShaderTemplate:null,numberOfInstances:1,numberOfVertices:0,pipelineHash:null,shaderReplacements:null,SSBO:null,textureViews:null,topology:"triangle-list",UBO:null,vertexShaderTemplate:null,WebGPURenderer:null};function _F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,MF,n),aO.extend(e,t,n),t.textureViews=[],t.vertexInput=kF.newInstance(),t.bindGroup=pF.newInstance({label:"mapperBG"}),t.additionalBindables=[],t.fragmentShaderTemplate=t.fragmentShaderTemplate||"\n//VTK::Renderer::Dec\n\n//VTK::Color::Dec\n\n//VTK::Normal::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::Select::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::IOStructs::Dec\n\n@fragment\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output : fragmentOutput;\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Select::Impl\n\n  // var computedColor:vec4<f32> = vec4<f32>(1.0,0.5,0.5,1.0);\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n",t.vertexShaderTemplate=t.vertexShaderTemplate||"\n//VTK::Renderer::Dec\n\n//VTK::Color::Dec\n\n//VTK::Normal::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::Select::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::IOStructs::Dec\n\n@vertex\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output : vertexOutput;\n\n  // var vertex: vec4<f32> = vertexBC;\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Select::Impl\n\n  //VTK::Position::Impl\n\n  return output;\n}\n",t.shaderReplacements=new Map,iS.get(e,t,["pipeline","vertexInput"]),iS.setGet(e,t,["additionalBindables","device","fragmentShaderTemplate","interpolate","numberOfInstances","numberOfVertices","pipelineHash","shaderReplacements","SSBO","textureViews","topology","UBO","vertexShaderTemplate","WebGPURenderer"]),function(e,t){t.classHierarchy.push("vtkWebGPUSimpleMapper"),e.generateShaderDescriptions=function(n,r,a){var o=PF.newInstance({type:"vertex",hash:n,code:t.vertexShaderTemplate}),i=PF.newInstance({type:"fragment",hash:n,code:t.fragmentShaderTemplate}),s=r.getShaderDescriptions();s.push(o),s.push(i);for(var l=t.vertexShaderTemplate+t.fragmentShaderTemplate,u=new RegExp("//VTK::[^:]*::","g"),c=l.match(u).filter((function(e,t,n){return n.indexOf(e)===t})),d=c.map((function(e){return"replaceShader".concat(e.substring(7,e.length-2))})),f=0;f<d.length;f++){var p=d[f];"replaceShaderIOStructs"!==p&&t.shaderReplacements.has(p)&&t.shaderReplacements.get(p)(n,r,a)}e.replaceShaderIOStructs(n,r,a)},e.replaceShaderIOStructs=function(e,t,n){var r=t.getShaderDescription("vertex");r.replaceShaderCode(null,n),t.getShaderDescription("fragment").replaceShaderCode(r)},e.replaceShaderRenderEncoder=function(e,n,r){t.renderEncoder.replaceShaderCode(n)},t.shaderReplacements.set("replaceShaderRenderEncoder",e.replaceShaderRenderEncoder),e.replaceShaderRenderer=function(e,n,r){if(t.WebGPURenderer){var a=t.WebGPURenderer.getBindGroup().getShaderCode(n),o=n.getShaderDescription("vertex"),i=o.getCode();i=bF.substitute(i,"//VTK::Renderer::Dec",[a]).result,o.setCode(i);var s=n.getShaderDescription("fragment");i=s.getCode(),i=bF.substitute(i,"//VTK::Renderer::Dec",[a]).result,s.setCode(i)}},t.shaderReplacements.set("replaceShaderRenderer",e.replaceShaderRenderer),e.replaceShaderMapper=function(e,n,r){var a=t.bindGroup.getShaderCode(n),o=n.getShaderDescription("vertex"),i=o.getCode();i=bF.substitute(i,"//VTK::Mapper::Dec",[a]).result,o.setCode(i);var s=n.getShaderDescription("fragment");s.addBuiltinInput("bool","@builtin(front_facing) frontFacing"),i=s.getCode(),i=bF.substitute(i,"//VTK::Mapper::Dec",[a]).result,s.setCode(i)},t.shaderReplacements.set("replaceShaderMapper",e.replaceShaderMapper),e.replaceShaderPosition=function(e,t,n){var r=t.getShaderDescription("vertex");r.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var a=r.getCode();a=bF.substitute(a,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*vertexBC;"]).result,r.setCode(a)},t.shaderReplacements.set("replaceShaderPosition",e.replaceShaderPosition),e.replaceShaderTCoord=function(e,t,n){t.getShaderDescription("vertex").addOutput("vec2<f32>","tcoordVS")},t.shaderReplacements.set("replaceShaderTCoord",e.replaceShaderTCoord),e.addTextureView=function(e){t.textureViews.includes(e)||t.textureViews.push(e)},e.prepareToDraw=function(n){t.renderEncoder=n,e.updateInput(),e.updateBuffers(),e.updateBindings(),e.updatePipeline()},e.updateInput=function(){},e.updateBuffers=function(){},e.updateBindings=function(){t.bindGroup.setBindables(e.getBindables())},e.computePipelineHash=function(){},e.registerDrawCallback=function(n){n.registerDrawCallback(t.pipeline,e.draw)},e.prepareAndDraw=function(n){e.prepareToDraw(n),n.setPipeline(t.pipeline),e.draw(n)},e.draw=function(e){var n=e.getBoundPipeline();e.activateBindGroup(t.bindGroup),t.WebGPURenderer&&t.WebGPURenderer.bindUBO(e),n.bindVertexInput(e,t.vertexInput);var r=t.vertexInput.getIndexBuffer();r?e.drawIndexed(r.getIndexCount(),t.numberOfInstances,0,0,0):e.draw(t.numberOfVertices,t.numberOfInstances,0,0)},e.getBindables=function(){var e=rC(t.additionalBindables);t.UBO&&e.push(t.UBO),t.SSBO&&e.push(t.SSBO);for(var n=0;n<t.textureViews.length;n++){e.push(t.textureViews[n]);var r=t.textureViews[n].getSampler();r&&e.push(r)}return e},e.updatePipeline=function(){e.computePipelineHash(),t.pipeline=t.device.getPipeline(t.pipelineHash),t.pipeline||(t.pipeline=CF.newInstance(),t.pipeline.setDevice(t.device),t.WebGPURenderer&&t.pipeline.addBindGroupLayout(t.WebGPURenderer.getBindGroup()),t.pipeline.addBindGroupLayout(t.bindGroup),e.generateShaderDescriptions(t.pipelineHash,t.pipeline,t.vertexInput),t.pipeline.setTopology(t.topology),t.pipeline.setRenderEncoder(t.renderEncoder),t.pipeline.setVertexState(t.vertexInput.getVertexInputInformation()),t.device.createPipeline(t.pipelineHash,t.pipeline))}}(e,t)}var DF={newInstance:iS.newInstance(_F,"vtkWebGPUSimpleMapper"),extend:_F};var LF={};function VF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,LF,n),DF.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkWebGPUFullScreenQuad"),e.replaceShaderPosition=function(e,t,n){var r=t.getShaderDescription("vertex");r.addBuiltinOutput("vec4<f32>","@builtin(position) Position"),r.addOutput("vec4<f32>","vertexVC");var a=r.getCode();a=bF.substitute(a,"//VTK::Position::Impl",["output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);","output.Position = vec4<f32>(vertexBC, 1.0);","output.vertexVC = vec4<f32>(vertexBC, 1);"]).result,r.setCode(a)},t.shaderReplacements.set("replaceShaderPosition",e.replaceShaderPosition),e.updateBuffers=function(){var e=t.device.getBufferManager().getFullScreenQuadBuffer();t.vertexInput.addBuffer(e,["vertexBC"]),t.numberOfVertices=6}}(e,t)}var NF={newInstance:iS.newInstance(VF,"vtkWebGPUFullScreenQuad"),extend:VF},BF={BufferUsage:{Verts:0,Lines:1,Triangles:2,Strips:3,LinesFromStrips:4,LinesFromTriangles:5,Points:6,UniformArray:7,PointArray:8,NormalsFromPoints:9,Texture:10,RawVertex:11,Storage:12,Index:13},PrimitiveTypes:{Start:0,Points:0,Lines:1,Triangles:2,TriangleStrips:3,TriangleEdges:4,TriangleStripEdges:5,End:6}};function FF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var UF=["getMappedRange","mapAsync","unmap"];function jF(e,t){t.classHierarchy.push("vtkWebGPUBuffer"),e.create=function(e,n){t.handle=t.device.getHandle().createBuffer({size:e,usage:n,label:t.label}),t.sizeInBytes=e,t.usage=n},e.write=function(e){!function(e,t,n,r){var a=r.byteLength,o=e.createBuffer({size:a,usage:GPUBufferUsage.COPY_SRC,mappedAtCreation:!0}),i=o.getMappedRange(0,a);new Uint8Array(i).set(new Uint8Array(r)),o.unmap();var s=e.createCommandEncoder();s.copyBufferToBuffer(o,0,t,n,a);var l=s.finish();e.queue.submit([l]),o.destroy()}(t.device.getHandle(),t.handle,0,e.buffer)},e.createAndWrite=function(e,n){t.handle=t.device.getHandle().createBuffer({size:e.byteLength,usage:n,mappedAtCreation:!0,label:t.label}),t.sizeInBytes=e.byteLength,t.usage=n,new Uint8Array(t.handle.getMappedRange()).set(new Uint8Array(e.buffer)),t.handle.unmap()};for(var n=function(n){e[UF[n]]=function(){var e;return(e=t.handle)[UF[n]].apply(e,arguments)}},r=0;r<UF.length;r++)n(r)}var GF={device:null,handle:null,sizeInBytes:0,strideInBytes:0,arrayInformation:null,usage:null,label:null,sourceTime:null};function zF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,GF,n),iS.obj(e,t),iS.get(e,t,["handle","sizeInBytes","usage"]),iS.setGet(e,t,["strideInBytes","device","arrayInformation","label","sourceTime"]),jF(e,t)}var WF=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FF(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(zF),extend:zF},BF);function HF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var KF,qF=ZI.Representation,XF=BF.PrimitiveTypes,YF=function(){function e(){pC(this,e),this.keys=new Uint32Array(10),this.values=new Uint32Array(10),this.count=0}return gC(e,[{key:"clear",value:function(){this.count=0}},{key:"has",value:function(e){for(var t=0;t<this.count;t++)if(this.keys[t]===e)return!0}},{key:"get",value:function(e){for(var t=0;t<this.count;t++)if(this.keys[t]===e)return this.values[t]}},{key:"set",value:function(e,t){this.count<9&&(this.keys[this.count]=e,this.values[this.count++]=t)}}]),e}();function $F(e,t,n){var r=e.pointIdToFlatId[t];return r<0&&(r=e.flatId,e.pointIdToFlatId[t]=r,e.flatIdToPointId[e.flatId]=t,e.flatIdToCellId[e.flatId]=n,e.flatId++),r}function ZF(e,t,n){for(var r=e.length,a=0;a<r;a++){var o=e[a];if(n.cellProvokedMap.has(o)){n.ibo[n.iboId++]=n.cellProvokedMap.get(o);for(var i=a+1;i<a+r;i++){var s=$F(n,o=e[i%r],t);n.ibo[n.iboId++]=s}return}}for(var l=0;l<r;l++){var u=e[l];if(!n.provokedPointIds[u]){var c=$F(n,u,t);n.provokedPointIds[u]=1,n.cellProvokedMap.set(u,c),n.flatIdToCellId[c]=t,n.ibo[n.iboId++]=c;for(var d=l+1;d<l+r;d++)c=$F(n,u=e[d%r],t),n.ibo[n.iboId++]=c;return}}var f=e[0],p=n.flatId;n.cellProvokedMap.set(f,p),n.flatIdToPointId[n.flatId]=f,n.flatIdToCellId[n.flatId]=t,n.flatId++,n.ibo[n.iboId++]=p;for(var m=1;m<r;m++)p=$F(n,f=e[m],t),n.ibo[n.iboId++]=p}function QF(e,t,n){var r=e.length;n.iboSize+=r;for(var a=0;a<r;a++){var o=e[a];if(n.cellProvokedMap.has(o))return}for(var i=0;i<r;i++){var s=e[i];if(!n.provokedPointIds[s])return n.provokedPointIds[s]=1,void n.cellProvokedMap.set(s,1)}n.cellProvokedMap.set(e[0],1),n.extraPoints++}var JF=new Uint32Array(1),eU=new Uint32Array(2),tU=new Uint32Array(3),nU={anythingToPoints:function(e,t,n,r,a){for(var o=0;o<e;++o)JF[0]=t[n+o],KF(JF,r,a)},linesToWireframe:function(e,t,n,r,a){for(var o=0;o<e-1;++o)eU[0]=t[n+o],eU[1]=t[n+o+1],KF(eU,r,a)},polysToWireframe:function(e,t,n,r,a){if(e>2)for(var o=0;o<e;++o)eU[0]=t[n+o],eU[1]=t[n+(o+1)%e],KF(eU,r,a)},stripsToWireframe:function(e,t,n,r,a){if(e>2){for(var o=0;o<e-1;++o)eU[0]=t[n+o],eU[1]=t[n+o+1],KF(eU,r,a);for(var i=0;i<e-2;i++)eU[0]=t[n+i],eU[1]=t[n+i+2],KF(eU,r,a)}},polysToSurface:function(e,t,n,r,a){for(var o=0;o<e-2;o++)tU[0]=t[n],tU[1]=t[n+o+1],tU[2]=t[n+o+2],KF(tU,r,a)},stripsToSurface:function(e,t,n,r,a){for(var o=0;o<e-2;o++)tU[0]=t[n+o],tU[1]=t[n+o+1+o%2],tU[2]=t[n+o+1+(o+1)%2],KF(tU,r,a)}};function rU(e,t){t.classHierarchy.push("vtkWebGPUIndexBuffer"),e.buildIndexBuffer=function(e){var n=e.cells,r=e.primitiveType,a=e.representation,o=e.cellOffset,i=n.getData(),s=i.length,l=function(e){switch(e){case XF.Points:return"points";case XF.Lines:return"lines";case XF.Triangles:case XF.TriangleEdges:return"polys";case XF.TriangleStripEdges:case XF.TriangleStrips:return"strips";default:return""}}(r),u=e.numberOfPoints,c={provokedPointIds:new Uint8Array(u),extraPoints:0,iboSize:0,flatId:0,iboId:0,cellProvokedMap:new YF},d=null;d=a===qF.POINTS||r===XF.Points?nU.anythingToPoints:a===qF.WIREFRAME||r===XF.Lines?nU["".concat(l,"ToWireframe")]:nU["".concat(l,"ToSurface")],KF=QF;for(var f=o||0,p=0;p<s;)c.cellProvokedMap.clear(),d(i[p],i,p+1,f,c),p+=i[p]+1,f++;c.flatIdToPointId=u<=65535?new Uint16Array(u+c.extraPoints):new Uint32Array(u+c.extraPoints),u+c.extraPoints<36863?c.pointIdToFlatId=new Int16Array(u):c.pointIdToFlatId=new Int32Array(u),u+c.extraPoints<=65535?(c.ibo=new Uint16Array(c.iboSize),e.format="uint16"):(c.ibo=new Uint32Array(c.iboSize),e.format="uint32"),c.flatIdToCellId=f<=65535?new Uint16Array(u+c.extraPoints):new Uint32Array(u+c.extraPoints),c.pointIdToFlatId.fill(-1),c.provokedPointIds.fill(0),KF=ZF,f=o||0;for(var m=0;m<s;)c.cellProvokedMap.clear(),d(i[m],i,m+1,f,c),m+=i[m]+1,f++;delete c.provokedPointIds,delete c.pointIdToFlatId,e.nativeArray=c.ibo,t.flatIdToPointId=c.flatIdToPointId,t.flatIdToCellId=c.flatIdToCellId,t.flatSize=c.flatId,t.indexCount=c.iboId}}var aU={flatIdToPointId:null,flatIdToCellId:null,flatSize:0,indexCount:0};function oU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,aU,n),WF.extend(e,t,n),iS.setGet(e,t,["flatIdToPointId","flatIdToCellId","flatSize","indexCount"]),rU(e,t)}var iU=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HF(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(oU),extend:oU},BF);function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sU(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uU=BF.BufferUsage,cU=RC,dU=eO.VtkDataTypes;function fU(e,t,n,r,a){var o={},i=e.getFlatSize();if(!i)return o;var s=[0,0,0,0];a.shift&&(a.shift.length?s=a.shift:s.fill(a.shift));var l=[1,1,1,1];a.scale&&(a.scale.length?l=a.scale:l.fill(a.scale));var u,c=!!Object.prototype.hasOwnProperty.call(a,"packExtra")&&a.packExtra,d=0,f=DC(r,i*(n+(c?1:0))),p=e.getFlatIdToPointId();a.cellData&&(p=e.getFlatIdToCellId()),1===n?u=function(e){f[d++]=l[0]*t[e]+s[0]}:2===n?u=function(e){f[d++]=l[0]*t[e]+s[0],f[d++]=l[1]*t[e+1]+s[1]}:3!==n||c?3===n&&c?u=function(e){f[d++]=l[0]*t[e]+s[0],f[d++]=l[1]*t[e+1]+s[1],f[d++]=l[2]*t[e+2]+s[2],f[d++]=1*l[3]+s[3]}:4===n&&(u=function(e){f[d++]=l[0]*t[e]+s[0],f[d++]=l[1]*t[e+1]+s[1],f[d++]=l[2]*t[e+2]+s[2],f[d++]=l[3]*t[e+3]+s[3]}):u=function(e){f[d++]=l[0]*t[e]+s[0],f[d++]=l[1]*t[e+1]+s[1],f[d++]=l[2]*t[e+2]+s[2]};for(var m=0;m<i;m++){u(n*p[m])}return o.nativeArray=f,o}function pU(e,t,n,r){var a=[];return vT([e[3*r]-e[3*n],e[3*r+1]-e[3*n+1],e[3*r+2]-e[3*n+2]],[e[3*t]-e[3*n],e[3*t+1]-e[3*n+1],e[3*t+2]-e[3*n+2]],a),yT(a),a}function mU(e,t){function n(e){var n,r;if(e.dataArray&&!e.nativeArray&&(e.nativeArray=e.dataArray.getData()),e.usage===uU.Index&&((n=iU.newInstance({label:e.label})).setDevice(t.device),r=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST,n.buildIndexBuffer(e),n.createAndWrite(e.nativeArray,r),n.setArrayInformation([{format:e.format}])),n||(n=WF.newInstance({label:e.label})).setDevice(t.device),e.usage===uU.UniformArray&&(r=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,n.createAndWrite(e.nativeArray,r)),e.usage===uU.Storage&&(r=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,n.createAndWrite(e.nativeArray,r)),e.usage===uU.Texture&&(r=GPUBufferUsage.COPY_SRC,n.createAndWrite(e.nativeArray,r)),e.usage===uU.PointArray){r=GPUBufferUsage.VERTEX;var a=AF.getNativeTypeFromBufferFormat(e.format),o=fU(e.indexBuffer,e.dataArray.getData(),e.dataArray.getNumberOfComponents(),a,{packExtra:e.packExtra,shift:e.shift,scale:e.scale,cellData:e.cellData,cellOffset:e.cellOffset});n.createAndWrite(o.nativeArray,r),n.setStrideInBytes(AF.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format,interpolation:e.cellData?"flat":"perspective"}])}if(e.usage===uU.NormalsFromPoints){r=GPUBufferUsage.VERTEX;var i=AF.getNativeTypeFromBufferFormat(e.format),s=function(e,t){var n=t.getData(),r=e.getData();if(!r||!n)return null;for(var a=new Int8Array(4*e.getNumberOfCells()),o=r.length,i=0,s=0;s<o;){var l=pU(n,r[s+1],r[s+2],r[s+3]);a[i++]=127*l[0],a[i++]=127*l[1],a[i++]=127*l[2],a[i++]=127,s+=r[s]+1}return a}(e.cells,e.dataArray),l=fU(e.indexBuffer,s,4,i,{cellData:!0});n.createAndWrite(l.nativeArray,r),n.setStrideInBytes(AF.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format,interpolation:"flat"}])}return e.usage===uU.RawVertex&&(r=GPUBufferUsage.VERTEX,n.createAndWrite(e.nativeArray,r),n.setStrideInBytes(AF.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format}])),n.setSourceTime(e.time),n}t.classHierarchy.push("vtkWebGPUBufferManager"),e.hasBuffer=function(e){return t.device.hasCachedObject(e)},e.getBuffer=function(e){return e.hash?t.device.getCachedObject(e.hash,n,e):n(e)},e.getBufferForPointArray=function(t,n){var r=function(e){var t;switch(e.getDataType()){case dU.UNSIGNED_CHAR:t="uint8";break;case dU.FLOAT:t="float32";break;case dU.UNSIGNED_INT:t="uint32";break;case dU.INT:t="sint32";break;case dU.DOUBLE:t="float32";break;case dU.UNSIGNED_SHORT:t="uint16";break;case dU.SHORT:t="sin16";break;default:t="float32"}switch(e.getNumberOfComponents()){case 2:t+="x2";break;case 3:t.includes("32")||cU("unsupported x3 type for ".concat(t)),t+="x3";break;case 4:t+="x4"}return t}(t),a={hash:"".concat(t.getMTime(),"I").concat(n.getMTime()).concat(r),usage:uU.PointArray,format:r,dataArray:t,indexBuffer:n};return e.getBuffer(a)},e.getFullScreenQuadBuffer=function(){if(t.fullScreenQuadBuffer)return t.fullScreenQuadBuffer;t.fullScreenQuadBuffer=WF.newInstance(),t.fullScreenQuadBuffer.setDevice(t.device);var e=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);return t.fullScreenQuadBuffer.createAndWrite(e,GPUBufferUsage.VERTEX),t.fullScreenQuadBuffer.setStrideInBytes(12),t.fullScreenQuadBuffer.setArrayInformation([{offset:0,format:"float32x3"}]),t.fullScreenQuadBuffer}}var gU={device:null,fullScreenQuadBuffer:null};function vU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,gU,n),jC(e,t),qC(e,t,["device"]),mU(e,t)}var hU=lU(lU({newInstance:eS(vU),extend:vU},{}),BF),yU=hU.BufferUsage,bU=iS.vtkErrorMacro;var xU={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,numberOfInstances:1};function wU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,xU,n),iS.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t._sendTime={},iS.obj(t._sendTime,{mtime:0}),t.bindGroupTime={},iS.obj(t.bindGroupTime,{mtime:0}),t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:"read-only-storage"}},iS.get(e,t,["bindGroupTime"]),iS.setGet(e,t,["device","bindGroupLayoutEntry","label","numberOfInstances","sizeInBytes"]),function(e,t){t.classHierarchy.push("vtkWebGPUStorageBuffer"),e.addEntry=function(e,n){if(t._bufferEntryNames.has(e))bU("entry named ".concat(e," already exists"));else{t._bufferEntryNames.set(e,t.bufferEntries.length);var r=AF.getByteStrideFromShaderFormat(n);t.bufferEntries.push({name:e,type:n,sizeInBytes:r,offset:t.sizeInBytes,nativeType:AF.getNativeTypeFromShaderFormat(n)}),t.sizeInBytes+=r}},e.send=function(e){if(!t._buffer){var n={nativeArray:t.Float32Array,usage:yU.Storage,label:t.label};return t._buffer=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),void t._sendTime.modified()}e.getHandle().queue.writeBuffer(t._buffer.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes*t.numberOfInstances),t._sendTime.modified()},e.createView=function(e){e in t===!1&&(t.arrayBuffer||(t.arrayBuffer=new ArrayBuffer(t.sizeInBytes*t.numberOfInstances)),t[e]=iS.newTypedArray(e,t.arrayBuffer))},e.setValue=function(n,r,a){var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);var s=t[i.nativeType];s[(i.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT]=a}else bU("entry named ".concat(n," not found in UBO"))},e.setArray=function(n,r,a){var o=t._bufferEntryNames.get(n);if(void 0!==o){var i=t.bufferEntries[o];e.createView(i.nativeType);for(var s=t[i.nativeType],l=(i.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT,u=0;u<a.length;u++)s[l+u]=a[u]}else bU("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArray=function(n,r){var a=t._bufferEntryNames.get(n);if(void 0!==a){var o=t.bufferEntries[a];e.createView(o.nativeType);for(var i=t[o.nativeType],s=r.length/t.numberOfInstances,l=0;l<t.numberOfInstances;l++)for(var u=(o.offset+l*t.sizeInBytes)/i.BYTES_PER_ELEMENT,c=0;c<s;c++)i[u+c]=r[l*s+c]}else bU("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArrayColorToFloat=function(n,r){var a=t._bufferEntryNames.get(n);if(void 0!==a){var o=t.bufferEntries[a];e.createView(o.nativeType);for(var i=t[o.nativeType],s=r.length/t.numberOfInstances,l=0;l<t.numberOfInstances;l++)for(var u=(o.offset+l*t.sizeInBytes)/i.BYTES_PER_ELEMENT,c=0;c<s;c++)i[u+c]=r[l*s+c]/255}else bU("entry named ".concat(n," not found in UBO"))},e.setAllInstancesFromArray3x3To4x4=function(n,r){var a=t._bufferEntryNames.get(n);if(void 0!==a){var o=t.bufferEntries[a];e.createView(o.nativeType);for(var i=t[o.nativeType],s=0;s<t.numberOfInstances;s++)for(var l=(o.offset+s*t.sizeInBytes)/i.BYTES_PER_ELEMENT,u=0;u<3;u++)for(var c=0;c<3;c++)i[l+4*u+c]=r[9*s+3*u+c]}else bU("entry named ".concat(n," not found in UBO"))},e.getSendTime=function(){return t._sendTime.getMTime()},e.getShaderCode=function(e,n){for(var r=["struct ".concat(t.label,"StructEntry\n{")],a=0;a<t.bufferEntries.length;a++){var o=t.bufferEntries[a];r.push("  ".concat(o.name,": ").concat(o.type,","))}return r.push("\n};\nstruct ".concat(t.label,"Struct\n{\n  values: array<").concat(t.label,"StructEntry>,\n};\n@binding(").concat(e,") @group(").concat(n,") var<storage, read> ").concat(t.label,": ").concat(t.label,"Struct;\n")),r.join("\n")},e.getBindGroupEntry=function(){return{resource:{buffer:t._buffer.getHandle()}}},e.clearData=function(){t.numberOfInstances=0,t.sizeInBytes=0,t.bufferEntries=[],t._bufferEntryNames=new Map,t._buffer=null,delete t.arrayBuffer,delete t.Float32Array}}(e,t)}var CU={newInstance:iS.newInstance(wU,"vtkWebGPUStorageBuffer"),extend:wU},SU=hU.BufferUsage,TU=iS.vtkErrorMacro;var PU={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,bindGroupLayoutEntry:null,bindGroupEntry:null};function OU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,PU,n),iS.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:"uniform"}},t.sendTime={},iS.obj(t.sendTime,{mtime:0}),t.bindGroupTime={},iS.obj(t.bindGroupTime,{mtime:0}),t.sendDirty=!0,t.sortDirty=!0,iS.get(e,t,["binding","bindGroupTime"]),iS.setGet(e,t,["bindGroupLayoutEntry","device","label","sizeInBytes"]),function(e,t){t.classHierarchy.push("vtkWebGPUUniformBuffer"),e.addEntry=function(e,n){t._bufferEntryNames.has(e)?TU("entry named ".concat(e," already exists")):(t.sortDirty=!0,t._bufferEntryNames.set(e,t.bufferEntries.length),t.bufferEntries.push({name:e,type:n,sizeInBytes:AF.getByteStrideFromShaderFormat(n),offset:-1,nativeType:AF.getNativeTypeFromShaderFormat(n),packed:!1}))},e.sortBufferEntries=function(){if(t.sortDirty){for(var e=0,n=[],r=4,a=0;a<t.bufferEntries.length;a++){var o=t.bufferEntries[a];o.sizeInBytes%16===0&&(r=Math.max(16,r)),o.sizeInBytes%8===0&&(r=Math.max(8,r))}for(var i=0;i<t.bufferEntries.length;i++){var s=t.bufferEntries[i];!1===s.packed&&s.sizeInBytes%16===0&&(s.packed=!0,s.offset=e,n.push(s),e+=s.sizeInBytes)}for(var l=0;l<t.bufferEntries.length;l++){var u=t.bufferEntries[l];if(!1===u.packed&&12===u.sizeInBytes)for(var c=0;c<t.bufferEntries.length;c++){var d=t.bufferEntries[c];if(!1===d.packed&&4===d.sizeInBytes){u.packed=!0,u.offset=e,n.push(u),e+=u.sizeInBytes,d.packed=!0,d.offset=e,n.push(d),e+=d.sizeInBytes;break}}}for(var f=0;f<t.bufferEntries.length;f++){var p=t.bufferEntries[f];if(!p.packed&&p.sizeInBytes%8===0)for(var m=f+1;m<t.bufferEntries.length;m++){var g=t.bufferEntries[m];if(!g.packed&&g.sizeInBytes%8===0){p.packed=!0,p.offset=e,n.push(p),e+=p.sizeInBytes,g.packed=!0,g.offset=e,n.push(g),e+=g.sizeInBytes;break}}}for(var v=0;v<t.bufferEntries.length;v++){var h=t.bufferEntries[v];if(!h.packed&&h.sizeInBytes%8===0)for(var y=!1,b=0;!y&&b<t.bufferEntries.length;b++){var x=t.bufferEntries[b];if(!x.packed&&4===x.sizeInBytes)for(var w=b+1;w<t.bufferEntries.length;w++){var C=t.bufferEntries[w];if(!C.packed&&4===C.sizeInBytes){h.packed=!0,h.offset=e,n.push(h),e+=h.sizeInBytes,x.packed=!0,x.offset=e,n.push(x),e+=x.sizeInBytes,C.packed=!0,C.offset=e,n.push(C),e+=C.sizeInBytes,y=!0;break}}}}for(var S=0;S<t.bufferEntries.length;S++){var T=t.bufferEntries[S];!T.packed&&T.sizeInBytes>4&&(T.packed=!0,T.offset=e,n.push(T),e+=T.sizeInBytes)}for(var P=0;P<t.bufferEntries.length;P++){var O=t.bufferEntries[P];O.packed||(O.packed=!0,O.offset=e,n.push(O),e+=O.sizeInBytes)}t.bufferEntries=n,t._bufferEntryNames.clear();for(var A=0;A<t.bufferEntries.length;A++)t._bufferEntryNames.set(t.bufferEntries[A].name,A);t.sizeInBytes=e,t.sizeInBytes=r*Math.ceil(t.sizeInBytes/r),t.sortDirty=!1}},e.sendIfNeeded=function(e){if(!t.UBO){var n={nativeArray:t.Float32Array,usage:SU.UniformArray,label:t.label};t.UBO=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),t.sendDirty=!1}t.sendDirty&&(e.getHandle().queue.writeBuffer(t.UBO.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes),t.sendDirty=!1),t.sendTime.modified()},e.createView=function(e){e in t===!1&&(t.arrayBuffer||(t.arrayBuffer=new ArrayBuffer(t.sizeInBytes)),t[e]=iS.newTypedArray(e,t.arrayBuffer))},e.setValue=function(n,r){e.sortBufferEntries();var a=t._bufferEntryNames.get(n);if(void 0!==a){var o=t.bufferEntries[a];e.createView(o.nativeType);var i=t[o.nativeType];o.lastValue!==r&&(i[o.offset/i.BYTES_PER_ELEMENT]=r,t.sendDirty=!0),o.lastValue=r}else TU("entry named ".concat(n," not found in UBO"))},e.setArray=function(n,r){e.sortBufferEntries();var a=t._bufferEntryNames.get(n);if(void 0!==a){var o=t.bufferEntries[a];e.createView(o.nativeType);for(var i=t[o.nativeType],s=!1,l=0;l<r.length;l++)o.lastValue&&o.lastValue[l]===r[l]||(i[o.offset/i.BYTES_PER_ELEMENT+l]=r[l],s=!0);s&&(t.sendDirty=!0,o.lastValue=rC(r))}else TU("entry named ".concat(n," not found in UBO"))},e.getBindGroupEntry=function(){return{resource:{buffer:t.UBO.getHandle()}}},e.getSendTime=function(){return t.sendTime.getMTime()},e.getShaderCode=function(n,r){e.sortBufferEntries();for(var a=["struct ".concat(t.label,"Struct\n{")],o=0;o<t.bufferEntries.length;o++){var i=t.bufferEntries[o];a.push("  ".concat(i.name,": ").concat(i.type,","))}return a.push("};\n@binding(".concat(n,") @group(").concat(r,") var<uniform> ").concat(t.label,": ").concat(t.label,"Struct;")),a.join("\n")}}(e,t)}var AU={newInstance:iS.newInstance(OU,"vtkWebGPUUniformBuffer"),extend:OU},EU=IC,IU="\n//VTK::Renderer::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::IOStructs::Dec\n\n@fragment\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output: fragmentOutput;\n\n  var computedColor: vec4<f32> = mapperUBO.BackgroundColor;\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n",RU="\nfn vecToRectCoord(dir: vec3<f32>) -> vec2<f32> {\n  var tau: f32 = 6.28318530718;\n  var pi: f32 = 3.14159265359;\n  var out: vec2<f32> = vec2<f32>(0.0);\n\n  out.x = atan2(dir.z, dir.x) / tau;\n  out.x += 0.5;\n\n  var phix: f32 = length(vec2(dir.x, dir.z));\n  out.y = atan2(dir.y, phix) / pi + 0.5;\n\n  return out;\n}\n\n//VTK::Renderer::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::IOStructs::Dec\n\n@fragment\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output: fragmentOutput;\n\n  var tcoord: vec4<f32> = vec4<f32>(input.vertexVC.xy, -1, 1);\n  var V: vec4<f32> = normalize(mapperUBO.FSQMatrix * tcoord); // vec2<f32>((input.tcoordVS.x - 0.5) * 2, -(input.tcoordVS.y - 0.5) * 2);\n  // textureSampleLevel gets rid of some ugly artifacts\n  var background = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, vecToRectCoord(V.xyz), 0);\n  var computedColor: vec4<f32> = vec4<f32>(background.rgb, 1);\n\n  //VTK::RenderEncoder::Impl\n  return output;\n}\n",kU=new Float64Array(16),MU=new Float64Array(16);var _U={bindGroup:null,selector:null,renderEncoder:null,recenterThreshold:20,suppressClear:!1,stabilizedCenter:[0,0,0]};function DU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_U,n),aO.extend(e,t,n),t.UBO=AU.newInstance({label:"rendererUBO"}),t.UBO.addEntry("WCVCMatrix","mat4x4<f32>"),t.UBO.addEntry("SCPCMatrix","mat4x4<f32>"),t.UBO.addEntry("PCSCMatrix","mat4x4<f32>"),t.UBO.addEntry("SCVCMatrix","mat4x4<f32>"),t.UBO.addEntry("VCPCMatrix","mat4x4<f32>"),t.UBO.addEntry("WCVCNormals","mat4x4<f32>"),t.UBO.addEntry("viewportSize","vec2<f32>"),t.UBO.addEntry("LightCount","i32"),t.UBO.addEntry("MaxEnvironmentMipLevel","f32"),t.UBO.addEntry("BackgroundDiffuseStrength","f32"),t.UBO.addEntry("BackgroundSpecularStrength","f32"),t.UBO.addEntry("cameraParallel","u32"),t.SSBO=CU.newInstance({label:"rendererLightSSBO"}),t.lightTimeString="",t.bindGroup=pF.newInstance({label:"rendererBG"}),t.bindGroup.setBindables([t.UBO,t.SSBO]),t.tmpMat4=VA(new Float64Array(16)),t.stabilizedTime={},jC(t.stabilizedTime,{mtime:0}),zC(e,t,["bindGroup","stabilizedTime"]),XC(e,t,["stabilizedCenter"]),qC(e,t,["renderEncoder","selector","suppressClear","UBO"]),function(e,t){t.classHierarchy.push("vtkWebGPURenderer"),e.buildPass=function(n){if(n){if(!t.renderable)return;t.camera=t.renderable.getActiveCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.camera),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes(),t.webgpuCamera=e.getViewNodeFor(t.camera),e.updateStabilizedMatrix()}},e.updateStabilizedMatrix=function(){var e=t.camera.getClippingRange(),n=t.camera.getPositionByReference(),r=[],a=[];QO(a,t.camera.getDirectionOfProjectionByReference(),.5*(e[0]+e[1])),zO(r,n,a),SA(a,r,t.stabilizedCenter),EA(a)/(e[1]-e[0])>t.recenterThreshold&&(t.stabilizedCenter=r,t.stabilizedTime.modified())},e.updateLights=function(){for(var e=0,n=t.renderable.getLightsByReference(),r=0;r<n.length;++r)n[r].getSwitch()>0&&e++;return e||(EU("No lights are on, creating one."),t.renderable.createLight()),e},e.updateUBO=function(){var n=t.UBO.getSendTime();if(t._parent.getMTime()>n||e.getMTime()>n||t.camera.getMTime()>n||t.renderable.getMTime()>n){var r,a=t.webgpuCamera.getKeyMatrices(e);t.UBO.setArray("WCVCMatrix",a.wcvc),t.UBO.setArray("SCPCMatrix",a.scpc),t.UBO.setArray("PCSCMatrix",a.pcsc),t.UBO.setArray("SCVCMatrix",a.scvc),t.UBO.setArray("VCPCMatrix",a.vcpc),t.UBO.setArray("WCVCNormals",a.normalMatrix),t.UBO.setValue("LightCount",t.renderable.getLights().length),t.UBO.setValue("MaxEnvironmentMipLevel",null===(r=t.renderable.getEnvironmentTexture())||void 0===r?void 0:r.getMipLevel()),t.UBO.setValue("BackgroundDiffuseStrength",t.renderable.getEnvironmentTextureDiffuseStrength()),t.UBO.setValue("BackgroundSpecularStrength",t.renderable.getEnvironmentTextureSpecularStrength());var o=e.getYInvertedTiledSizeAndOrigin();t.UBO.setArray("viewportSize",[o.usize,o.vsize]),t.UBO.setValue("cameraParallel",t.camera.getParallelProjection());var i=t._parent.getDevice();t.UBO.sendIfNeeded(i)}},e.updateSSBO=function(){for(var n,r=t.renderable.getLights(),a=t.webgpuCamera.getKeyMatrices(e),o="".concat(t.renderable.getMTime()),i=0;i<r.length;i++)o+=r[i].getMTime();if(o!==t.lightTimeString){for(var s=new Float32Array(4*r.length),l=new Float32Array(4*r.length),u=new Float32Array(4*r.length),c=new Float32Array(4*r.length),d=0;d<r.length;d++){var f=4*d,p=r[d].getPosition();fA(p,p,a.wcvc),s[f]=p[0],s[f+1]=p[1],s[f+2]=p[2],s[f+3]=0,l[f]=-r[d].getDirection()[0],l[f+1]=-r[d].getDirection()[1],l[f+2]=-r[d].getDirection()[2],l[f+3]=0,u[f]=r[d].getColor()[0],u[f+1]=r[d].getColor()[1],u[f+2]=r[d].getColor()[2],u[f+3]=5*r[d].getIntensity(),c[f]=(n=r[d]).getPositional()?n.getConeAngle()>=90?0:2:1,c[f+1]=Math.cos(jS(r[d].getConeAngle())),c[f+2]=Math.cos(jS(r[d].getConeAngle()+r[d].getConeFalloff())),c[f+3]=0}t.SSBO.clearData(),t.SSBO.setNumberOfInstances(r.length),t.SSBO.addEntry("LightPos","vec4<f32>"),t.SSBO.addEntry("LightDir","vec4<f32>"),t.SSBO.addEntry("LightColor","vec4<f32>"),t.SSBO.addEntry("LightData","vec4<f32>"),t.SSBO.setAllInstancesFromArray("LightPos",s),t.SSBO.setAllInstancesFromArray("LightDir",l),t.SSBO.setAllInstancesFromArray("LightColor",u),t.SSBO.setAllInstancesFromArray("LightData",c);var m=t._parent.getDevice();t.SSBO.send(m)}t.lightTimeString=o},e.scissorAndViewport=function(t){var n=e.getYInvertedTiledSizeAndOrigin();t.getHandle().setViewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize,0,1),t.getHandle().setScissorRect(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)},e.bindUBO=function(e){e.activateBindGroup(t.bindGroup)},e.opaquePass=function(n){n?(t.renderEncoder.begin(t._parent.getCommandEncoder()),e.updateUBO(),e.updateSSBO()):(e.scissorAndViewport(t.renderEncoder),e.clear(),t.renderEncoder.end())},e.clear=function(){var n;if(!t.renderable.getTransparent()&&!t.suppressClear){var r=t._parent.getDevice();if(!t.clearFSQ){t.clearFSQ=NF.newInstance(),t.clearFSQ.setDevice(r),t.clearFSQ.setPipelineHash("clearfsq"),t.clearFSQ.setFragmentShaderTemplate(IU);var a=AU.newInstance({label:"mapperUBO"});a.addEntry("FSQMatrix","mat4x4<f32>"),a.addEntry("BackgroundColor","vec4<f32>"),t.clearFSQ.setUBO(a),t.backgroundTex=t.renderable.getEnvironmentTexture()}if("clearfsqwithtexture"!==t.clearFSQ.getPipelineHash()&&t.renderable.getUseEnvironmentTextureAsBackground()&&null!==(n=t.backgroundTex)&&void 0!==n&&n.getImageLoaded()){t.clearFSQ.setFragmentShaderTemplate(RU);var o=AU.newInstance({label:"mapperUBO"});o.addEntry("FSQMatrix","mat4x4<f32>"),o.addEntry("BackgroundColor","vec4<f32>"),t.clearFSQ.setUBO(o);var i=r.getTextureManager().getTextureForVTKTexture(t.backgroundTex);if(i.getReady()){var s=i.createView("EnvironmentTexture");t.clearFSQ.setTextureViews([s]),t.backgroundTexLoaded=!0;var l=t.backgroundTex.getInterpolate()?"linear":"nearest";s.addSampler(r,{addressModeU:"repeat",addressModeV:"clamp-to-edge",addressModeW:"repeat",minFilter:l,magFilter:l,mipmapFilter:"linear"})}t.clearFSQ.setPipelineHash("clearfsqwithtexture")}else if("clearfsqwithtexture"===t.clearFSQ.getPipelineHash()&&!t.renderable.getUseEnvironmentTextureAsBackground()){t.clearFSQ=NF.newInstance(),t.clearFSQ.setDevice(r),t.clearFSQ.setPipelineHash("clearfsq"),t.clearFSQ.setFragmentShaderTemplate(IU);var u=AU.newInstance({label:"mapperUBO"});u.addEntry("FSQMatrix","mat4x4<f32>"),u.addEntry("BackgroundColor","vec4<f32>"),t.clearFSQ.setUBO(u)}var c=t.webgpuCamera.getKeyMatrices(e),d=t.renderable.getBackgroundByReference();t.clearFSQ.getUBO().setArray("BackgroundColor",d),NA(MU,c.normalMatrix),OE(kU,c.scvc,c.pcsc),OE(kU,MU,kU),t.clearFSQ.getUBO().setArray("FSQMatrix",kU),t.clearFSQ.getUBO().sendIfNeeded(r),t.clearFSQ.prepareAndDraw(t.renderEncoder)}},e.translucentPass=function(n){n?t.renderEncoder.begin(t._parent.getCommandEncoder()):(e.scissorAndViewport(t.renderEncoder),t.renderEncoder.end())},e.volumeDepthRangePass=function(n){n?t.renderEncoder.begin(t._parent.getCommandEncoder()):(e.scissorAndViewport(t.renderEncoder),t.renderEncoder.end())},e.getAspectRatio=function(){var e=t._parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.convertToOpenGLDepth=function(e){return t.webgpuCamera.convertToOpenGLDepth(e)},e.getYInvertedTiledSizeAndOrigin=function(){var n=e.getTiledSizeAndOrigin(),r=t._parent.getSizeByReference();return n.lowerLeftV=r[1]-n.vsize-n.lowerLeftV,n},e.getTiledSizeAndOrigin=function(){var e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=e[0]-n[0],a=e[1]-n[1],o=t._parent.normalizedDisplayToDisplay(r,a),i=Math.round(o[0]),s=Math.round(o[1]),l=e[2]-n[0],u=e[3]-n[1],c=t._parent.normalizedDisplayToDisplay(l,u),d=Math.round(c[0])-i,f=Math.round(c[1])-s;return d<0&&(d=0),f<0&&(f=0),{usize:d,vsize:f,lowerLeftU:i,lowerLeftV:s}},e.getPropFromID=function(e){for(var n=0;n<t.children.length;n++)if((t.children[n].getPropID?t.children[n].getPropID():-1)===e)return t.children[n];return null},e.getStabilizedTime=function(){return t.stabilizedTime.getMTime()},e.releaseGraphicsResources=function(){null!==t.selector&&t.selector.releaseGraphicsResources()}}(e,t)}var LU=eS(DU,"vtkWebGPURenderer");oF("vtkRenderer",LU);var VU={device:null,handle:null,label:null,options:null};function NU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VU,n),iS.obj(e,t),t.options={},t.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},t.bindGroupTime={},iS.obj(t.bindGroupTime,{mtime:0}),iS.get(e,t,["bindGroupTime","handle","options"]),iS.setGet(e,t,["bindGroupLayoutEntry","device","label"]),function(e,t){t.classHierarchy.push("vtkWebGPUSampler"),e.create=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.device=e,t.options.addressModeU=n.addressModeU?n.addressModeU:"clamp-to-edge",t.options.addressModeV=n.addressModeV?n.addressModeV:"clamp-to-edge",t.options.addressModeW=n.addressModeW?n.addressModeW:"clamp-to-edge",t.options.magFilter=n.magFilter?n.magFilter:"nearest",t.options.minFilter=n.minFilter?n.minFilter:"nearest",t.options.mipmapFilter=n.mipmapFilter?n.mipmapFilter:"nearest",t.options.label=t.label,t.handle=t.device.getHandle().createSampler(t.options),t.bindGroupTime.modified()},e.getShaderCode=function(e,n){return"@binding(".concat(e,") @group(").concat(n,") var ").concat(t.label,": sampler;")},e.getBindGroupEntry=function(){return{resource:t.handle}}}(e,t)}var BU={newInstance:iS.newInstance(NU),extend:NU},FU=RD.SlicingMode;var UU=new Float64Array(16),jU=new Float64Array(16),GU=new Float64Array(16),zU=new Float64Array(4),WU=new Float64Array(4);var HU={rowLength:1024};function KU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,HU,n),NF.extend(e,t,n),e.setFragmentShaderTemplate("\n//VTK::Renderer::Dec\n\n//VTK::Mapper::Dec\n\n//VTK::TCoord::Dec\n\n//VTK::Image::Dec\n\n//VTK::RenderEncoder::Dec\n\n//VTK::IOStructs::Dec\n\n@fragment\nfn main(\n//VTK::IOStructs::Input\n)\n//VTK::IOStructs::Output\n{\n  var output: fragmentOutput;\n\n  //VTK::Image::Sample\n\n  // var computedColor: vec4<f32> = vec4<f32>(1.0,0.7, 0.5, 1.0);\n\n//VTK::RenderEncoder::Impl\n\n  return output;\n}\n"),t.UBO=AU.newInstance({label:"mapperUBO"}),t.UBO.addEntry("SCTCMatrix","mat4x4<f32>"),t.UBO.addEntry("Origin","vec4<f32>"),t.UBO.addEntry("Axis2","vec4<f32>"),t.UBO.addEntry("Axis1","vec4<f32>"),t.UBO.addEntry("cScale","vec4<f32>"),t.UBO.addEntry("cShift","vec4<f32>"),t.lutBuildTime={},jC(t.lutBuildTime,{mtime:0}),t.imagemat=VA(new Float64Array(16)),t.imagematinv=VA(new Float64Array(16)),t.VBOBuildTime={},jC(t.VBOBuildTime),function(e,t){t.classHierarchy.push("vtkWebGPUImageMapper"),e.buildPass=function(n){if(n){t.WebGPUImageSlice=e.getFirstAncestorOfType("vtkWebGPUImageSlice"),t.WebGPURenderer=t.WebGPUImageSlice.getFirstAncestorOfType("vtkWebGPURenderer"),t.WebGPURenderWindow=t.WebGPURenderer.getParent(),t.device=t.WebGPURenderWindow.getDevice();var r=t.WebGPURenderer.getRenderable();t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(r.getActiveCamera())}},e.translucentPass=function(t){t&&e.render()},e.opaquePass=function(t){t&&e.render()},e.render=function(){t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.prepareToDraw(t.WebGPURenderer.getRenderEncoder()),t.renderEncoder.registerDrawCallback(t.pipeline,e.draw)},e.computePipelineHash=function(){var e=t.currentInput.getExtent();e[0]===e[1]||e[2]===e[3]||e[4]===e[5]?(t.dimensions=2,t.pipelineHash="img2"):(t.dimensions=3,t.pipelineHash="img3")},e.updateUBO=function(){var n=t.UBO.getSendTime(),r=t.WebGPUImageSlice.getRenderable(),a=r.getMapper();if(e.getMTime()>n||t.renderable.getMTime()>n||r.getProperty().getMTime()>n){var o=a.getInputData(),i=t.WebGPURenderer.getStabilizedCenterByReference();VA(UU),GA(UU,UU,i);var s=r.getMatrix();NA(jU,s),BA(jU,jU),jA(UU,jU,UU);var l=o.getWorldToIndex();jA(UU,l,UU),BA(GU,UU),XA(jU,[.5,.5,.5]),jA(UU,jU,UU);var u=o.getDimensions();VA(jU),zA(jU,jU,[1/u[0],1/u[1],1/u[2]]),jA(UU,jU,UU),t.UBO.setArray("SCTCMatrix",UU);var c=t.currentInput.getExtent(),d=t.renderable.getClosestIJKAxis().ijkMode,f=t.renderable.getSlice();d!==t.renderable.getSlicingMode()&&(f=t.renderable.getSliceAtPosition(f));var p=2,m=0,g=1;d===FU.I?(p=0,m=1,g=2):d===FU.J&&(p=1,m=2,g=0),zU[p]=f,zU[m]=c[2*m]-.5,zU[g]=c[2*g]-.5,zU[3]=1,sI(zU,zU,GU),t.UBO.setArray("Origin",zU),WU[p]=f,WU[m]=c[2*m+1]+.5,WU[g]=c[2*g]-.5,WU[3]=1,sI(WU,WU,GU),iI(WU,WU,zU),WU[3]=1,t.UBO.setArray("Axis1",WU),WU[p]=f,WU[m]=c[2*m]-.5,WU[g]=c[2*g+1]+.5,WU[3]=1,sI(WU,WU,GU),iI(WU,WU,zU),WU[3]=1,t.UBO.setArray("Axis2",WU);for(var v=[1,1,1,1],h=[0,0,0,0],y=t.textureViews[0],b=y.getTexture().getScale(),x=y.getTexture().getNumberOfComponents(),w=0;w<x;w++){var C=r.getProperty().getColorWindow(),S=r.getProperty().getColorLevel(),T=r.getProperty().getRGBTransferFunction(0);if(T){var P=T.getRange();C=P[1]-P[0],S=.5*(P[1]+P[0])}v[w]=b/C,h[w]=-S/C+.5}t.UBO.setArray("cScale",v),t.UBO.setArray("cShift",h),t.UBO.sendIfNeeded(t.device)}},e.updateLUTImage=function(){var n=t.WebGPUImageSlice.getRenderable().getProperty();e.getTextureViews()[0].getTexture().getNumberOfComponents();var r=function(e,t,n){if(t.apply(e)){var r=e.getIndependentComponents();return"".concat(e.getMTime(),"-").concat(r,"-").concat(n)}return"0"}(n,n.getRGBTransferFunction,1);if(t.colorTextureString!==r){t.numRows=1;var a=new Uint8Array(2*t.numRows*t.rowLength*4),o=n.getRGBTransferFunction();if(o)for(var i=new Float32Array(3*t.rowLength),s=0;s<1;s++){var l=(o=n.getRGBTransferFunction(s)).getRange();o.getTable(l[0],l[1],t.rowLength,i,1);for(var u=0;u<t.rowLength;u++){var c=s*t.rowLength*8+4*u;a[c]=255*i[3*u],a[c+1]=255*i[3*u+1],a[c+2]=255*i[3*u+2],a[c+3]=255;for(var d=0;d<4;d++)a[c+4*t.rowLength+d]=a[c+d]}}else for(var f=0;f<t.rowLength;++f){var p=255*f/(t.rowLength-1);a[4*f]=p,a[4*f+1]=p,a[4*f+2]=p,a[4*f+3]=255;for(var m=0;m<4;m++)a[4*f+4*t.rowLength+m]=a[4*f+m]}var g={nativeArray:a,width:t.rowLength,height:2*t.numRows,depth:1,format:"rgba8unorm"},v=t.device.getTextureManager().getTexture(g).createView("tfunTexture");t.textureViews[1]=v,t.colorTextureString=r}};var n=e.updateBuffers;e.updateBuffers=function(){n();var r=t.device.getTextureManager().getTextureForImageData(t.currentInput),a=t.textureViews;if(!a[0]||a[0].getTexture()!==r){var o=r.createView("imgTexture");a[0]=o}e.updateLUTImage(),e.updateUBO();var i=t.WebGPUImageSlice.getRenderable().getProperty().getInterpolationType()===kD.NEAREST?"nearest":"linear";t.clampSampler&&i===t.clampSampler.getOptions().minFilter||(t.clampSampler=BU.newInstance({label:"clampSampler"}),t.clampSampler.create(t.device,{minFilter:i,magFilter:i}),t.additionalBindables=[t.clampSampler])};var r=e.getShaderReplacements();e.replaceShaderPosition=function(e,n,r){var a=n.getShaderDescription("vertex");a.addBuiltinOutput("vec4<f32>","@builtin(position) Position");var o=a.getCode(),i=["var pos: vec4<f32> = mapperUBO.Origin +","   (vertexBC.x * 0.5 + 0.5) * mapperUBO.Axis1 + (vertexBC.y * 0.5 + 0.5) * mapperUBO.Axis2;","pos.w = 1.0;"];2===t.dimensions?i.push("var tcoord : vec2<f32> = (mapperUBO.SCTCMatrix * pos).xy;"):i.push("var tcoord : vec3<f32> = (mapperUBO.SCTCMatrix * pos).xyz;"),i.push("output.tcoordVS = tcoord;","output.Position = rendererUBO.SCPCMatrix * pos;"),o=bF.substitute(o,"//VTK::Position::Impl",i).result,a.setCode(o)},r.set("replaceShaderPosition",e.replaceShaderPosition),e.replaceShaderTCoord=function(e,n,r){var a=n.getShaderDescription("vertex");2===t.dimensions?a.addOutput("vec2<f32>","tcoordVS"):a.addOutput("vec3<f32>","tcoordVS")},r.set("replaceShaderTCoord",e.replaceShaderTCoord),e.replaceShaderImage=function(e,n,r){var a=n.getShaderDescription("fragment"),o=a.getCode();t.dimensions,o=bF.substitute(o,"//VTK::Image::Sample",["    var computedColor: vec4<f32> =","      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);","//VTK::Image::Sample"]).result,o=bF.substitute(o,"//VTK::Image::Sample",["    var coord: vec2<f32> =","      vec2<f32>(computedColor.r * mapperUBO.cScale.r + mapperUBO.cShift.r, 0.5);","    computedColor = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);"]).result,a.setCode(o)},r.set("replaceShaderImage",e.replaceShaderImage)}(e,t)}var qU=eS(KU,"vtkWebGPUImageMapper");oF("vtkImageMapper",qU);var XU={bufferShift:void 0,keyMatrixTime:null,keyMatrices:null,propID:void 0};function YU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,XU,n),aO.extend(e,t,n),t.keyMatricesTime={},jC(t.keyMatricesTime,{mtime:0}),t.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},t.keyMatrixTime={},jC(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:VA(new Float64Array(16))},t.bufferShift=[0,0,0,0],zC(e,t,["propID","keyMatricesTime"]),function(e,t){t.classHierarchy.push("vtkWebGPUImageSlice"),e.buildPass=function(n){if(t.renderable&&t.renderable.getVisibility()&&n){if(!t.renderable)return;t.WebGPURenderer=e.getFirstAncestorOfType("vtkWebGPURenderer"),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),void 0===t.propID&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getNestedVisibility()&&t.renderable.getIsOpaque()&&(!t.WebGPURenderer.getSelector()||t.renderable.getNestedPickable())&&(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach((function(e){e.traverse(n)})),e.apply(n,!1))},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.getBufferShift=function(n){return e.getKeyMatrices(n),t.bufferShift},e.getKeyMatrices=function(e){if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.renderable.computeMatrix();var n=t.renderable.getMatrix(),r=e.getStabilizedCenterByReference();t.bufferShift[0]=n[3]-r[0],t.bufferShift[1]=n[7]-r[1],t.bufferShift[2]=n[11]-r[2],NA(t.keyMatrices.bcwc,n),t.renderable.getIsIdentity()?VA(t.keyMatrices.normalMatrix):(_A(t.keyMatrices.normalMatrix,t.keyMatrices.bcwc),t.keyMatrices.normalMatrix[3]=0,t.keyMatrices.normalMatrix[7]=0,t.keyMatrices.normalMatrix[11]=0,BA(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),NA(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),GA(t.keyMatrices.bcwc,t.keyMatrices.bcwc,[-t.bufferShift[0],-t.bufferShift[1],-t.bufferShift[2]]),GA(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]),t.keyMatricesTime.modified()}return t.keyMatrices}}(e,t)}var $U=eS(YU,"vtkWebGPUImageSlice");oF("vtkImageSlice",$U);var ZU={propID:void 0,keyMatricesTime:null};function QU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ZU,n),aO.extend(e,t,n),t.keyMatricesTime={},iS.obj(t.keyMatricesTime,{mtime:0}),t.keyMatrices={bcwc:new Float64Array(16),bcsc:new Float64Array(16)},iS.get(e,t,["propID","keyMatricesTime"]),function(e,t){t.classHierarchy.push("vtkWebGPUVolume"),e.buildPass=function(n){t.renderable&&t.renderable.getVisibility()&&n&&(t.WebGPURenderer=e.getFirstAncestorOfType("vtkWebGPURenderer"),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),void 0===t.propID&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),t.renderable.getMapper().update())},e.queryPass=function(n,r){if(n){if(!t.renderable||!t.renderable.getVisibility())return;var a=t.renderable.getMapper().getBounds();if(!a||6!==a.length||a[0]>a[1])return;r.addVolume(e)}};var n=new Float64Array(3),r=new Float64Array(3);e.getBoundingCubePoints=function(e,a){var o=t.renderable.getMapper().getInputData();if(o)for(var i=o.getExtent(),s=t.renderable.getMatrix(),l=0,u=4;u<6;u++){n[2]=i[u];for(var c=2;c<4;c++){n[1]=i[c];for(var d=0;d<2;d++){n[0]=i[d],o.indexToWorld(n,r);var f=a+3*l;e[f++]=s[0]*r[0]+s[1]*r[1]+s[2]*r[2]+s[3],e[f++]=s[4]*r[0]+s[5]*r[1]+s[6]*r[2]+s[7],e[f++]=s[8]*r[0]+s[9]*r[1]+s[10]*r[2]+s[11],l++}}}},e.getKeyMatrices=function(e){if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.renderable.computeMatrix();var n=t.renderable.getMatrix(),r=e.getStabilizedCenterByReference();NA(t.keyMatrices.bcwc,n),GA(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]),t.keyMatricesTime.modified()}return t.keyMatrices}}(e,t)}var JU=iS.newInstance(QU,"vtkWebGPUVolume");oF("vtkVolume",JU);var ej={};function tj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ej,n),aO.extend(e,t,n),function(e,t){t.classHierarchy.push("vtkWebGPUPixelSpaceCallbackMapper"),e.opaquePass=function(n,r){t.WebGPURenderer=e.getFirstAncestorOfType("vtkWebGPURenderer"),t.WebGPURenderWindow=t.WebGPURenderer.getParent();var a=t.WebGPURenderer.getAspectRatio(),o=t.WebGPURenderer?t.WebGPURenderer.getRenderable().getActiveCamera():null,i=t.WebGPURenderer.getTiledSizeAndOrigin();t.renderable.getUseZValues(),t.renderable.invokeCallback(t.renderable.getInputData(),o,a,i,null)}}(e,t)}var nj=iS.newInstance(tj,"vtkWebGPUPixelSpaceCallbackMapper");function rj(e){var t=e.dimensions,n=e.metadata,r=e.spacing,a=e.direction,o=e.origin,i=1;"RGB"===n.PhotometricInterpretation&&(i=3);var s=JM.newInstance(),l={numberOfComponents:i};(s.setDimensions(t),s.setSpacing(r),s.setDirection(a),s.setOrigin(o),e.isDynamicVolume())?function(e,t,n){t.forEach((function(t,r){var a=eO.newInstance(Ae({name:"timePoint-".concat(r),values:t},n));e.getPointData().addArray(a)})),e.getPointData().setActiveScalars("timePoint-0")}(s,e.getScalarDataArrays(),l):function(e,t,n){var r=eO.newInstance(Ae({name:"Pixels",values:t},n));e.getPointData().setScalars(r)}(s,e.getScalarData(),l);return s}oF("vtkPixelSpaceCallbackMapper",nj);var aj,oj={};function ij(e,t){var n=e.indexOf(":"),r=e.substring(0,n),a=oj[r];if(void 0===a||null===a){if(void 0!==aj)return aj(e,t);throw new Error("loadVolumeFromVolumeLoader: no volume loader for volumeId")}var o=a(e,t);return o.promise.then((function(e){$w(Yw,Ww.VOLUME_LOADED,{volume:e})}),(function(t){var n={volumeId:e,error:t};$w(Yw,Ww.VOLUME_LOADED_FAILED,n)})),o}function sj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{imageIds:[]};if(void 0===e)throw new Error("loadVolume: parameter volumeId must not be undefined");var n=KN.getVolumeLoadObject(e);return void 0!==n?n.promise:(n=ij(e,t)).promise.then((function(e){return e.imageData=rj(e),e}))}var lj=new Map;function uj(e){if(e)for(var t=e.getSize(),n=0;n<t;n++){var r=[];e.getNodeValue(n,r),r[1]=1-r[1],r[2]=1-r[2],r[3]=1-r[3],e.setNodeValue(n,r)}}function cj(e,t){return{windowWidth:Math.abs(t-e)+1,windowCenter:(e+t+1)/2}}function dj(e,t){return{lower:t-.5-(e-1)/2,upper:t-.5+(e-1)/2}}function fj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=cj(e.lower,e.upper),r=n.windowWidth,a=n.windowCenter,o=Re(Array(t+2).keys()).map((function(e){return e/(t+2)})).slice(1,-1).reduce((function(e,t){var n=function(e,t,n){return t-n/4*Math.log((1-e)/e)}(t,a,r);return e.concat(n,t,t,t,.5,0)}),[]),i=yB.newInstance();return i.buildFunctionFromArray(eO.newInstance({values:o,numberOfComponents:6})),i}function pj(e,t){for(var n=t.colorTransfer.split(" ").splice(1).map(parseFloat),r=function(e){for(var t=1/0,n=-1/0,r=0;r<e.length;r+=4)t=Math.min(t,e[r]),n=Math.max(n,e[r]);var a=(n-t)/2;return{shiftRange:[-a,a],min:t,max:n}}(n),a=r.shiftRange,o=a[0],i=a[1]-a[0],s=yB.newInstance(),l=[],u=0;u<n.length;u+=4){var c=n[u],d=n[u+1],f=n[u+2],p=n[u+3];c=(c-o)/i,l.push([c,d,f,p])}!function(e,t,n){var r=t[1]-t[0],a=e.map((function(e){var n=Se(e,4),a=n[0],o=n[1],i=n[2],s=n[3];return[a*r+t[0],o,i,s]}));n.removeAllPoints(),a.forEach((function(e){var t=Se(e,4),r=t[0],a=t[1],o=t[2],i=t[3];return n.addRGBPoint(r,a,o,i)}))}(l,a,s),e.getProperty().setRGBTransferFunction(0,s);for(var m=t.scalarOpacity.split(" ").splice(1).map(parseFloat),g=OB.newInstance(),v=[],h=0;h<m.length;h+=2){var y=m[h],b=m[h+1];y=(y-o)/i,v.push([y,b])}!function(e,t,n){var r=t[1]-t[0],a=e.map((function(e){var n=Se(e,2),a=n[0],o=n[1];return[a*r+t[0],o]}));n.removeAllPoints(),a.forEach((function(e){var t=Se(e,2),r=t[0],a=t[1];return n.addPoint(r,a)}))}(v,a,g),e.getProperty().setScalarOpacity(0,g);var x=Se(t.gradientOpacity.split(" ").splice(1).map(parseFloat),4),w=x[0],C=x[1],S=x[2],T=x[3];e.getProperty().setUseGradientOpacity(0,!0),e.getProperty().setGradientOpacityMinimumValue(0,w),e.getProperty().setGradientOpacityMinimumOpacity(0,C),e.getProperty().setGradientOpacityMaximumValue(0,S),e.getProperty().setGradientOpacityMaximumOpacity(0,T),"1"===t.interpolation&&e.getProperty().setInterpolationTypeToFastLinear();var P=parseFloat(t.ambient),O=parseFloat(t.diffuse),A=parseFloat(t.specular),E=parseFloat(t.specularPower);e.getProperty().setAmbient(P),e.getProperty().setDiffuse(O),e.getProperty().setSpecular(A),e.getProperty().setSpecularPower(E)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gj=AL.InterpolationType,vj=AL.OpacityMode,hj=iS.vtkErrorMacro,yj=4;var bj={independentComponents:!0,interpolationType:gj.FAST_LINEAR,shade:!1,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1,labelOutlineOpacity:1};function xj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,bj,n),iS.obj(e,t),!t.componentData){t.componentData=[];for(var r=0;r<yj;++r)t.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:vj.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}iS.setGet(e,t,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness","labelOutlineOpacity"]),function(e,t){t.classHierarchy.push("vtkVolumeProperty"),e.getMTime=function(){for(var e,n=t.mtime,r=0;r<yj;r++)1===t.componentData[r].colorChannels?t.componentData[r].grayTransferFunction&&(n=n>(e=t.componentData[r].grayTransferFunction.getMTime())?n:e):3===t.componentData[r].colorChannels&&t.componentData[r].rGBTransferFunction&&(n=n>(e=t.componentData[r].rGBTransferFunction.getMTime())?n:e),t.componentData[r].scalarOpacity&&(n=n>(e=t.componentData[r].scalarOpacity.getMTime())?n:e),t.componentData[r].gradientOpacity&&(t.componentData[r].disableGradientOpacity||(n=n>(e=t.componentData[r].gradientOpacity.getMTime())?n:e));return n},e.getColorChannels=function(e){return e<0||e>3?(hj("Bad index - must be between 0 and 3"),0):t.componentData[e].colorChannels},e.setGrayTransferFunction=function(n,r){var a=!1;return t.componentData[n].grayTransferFunction!==r&&(t.componentData[n].grayTransferFunction=r,a=!0),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1,a=!0),a&&e.modified(),a},e.getGrayTransferFunction=function(n){return null===t.componentData[n].grayTransferFunction&&(t.componentData[n].grayTransferFunction=OB.newInstance(),t.componentData[n].grayTransferFunction.addPoint(0,0),t.componentData[n].grayTransferFunction.addPoint(1024,1),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1),e.modified()),t.componentData[n].grayTransferFunction},e.setRGBTransferFunction=function(n,r){var a=!1;return t.componentData[n].rGBTransferFunction!==r&&(t.componentData[n].rGBTransferFunction=r,a=!0),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3,a=!0),a&&e.modified(),a},e.getRGBTransferFunction=function(n){return null===t.componentData[n].rGBTransferFunction&&(t.componentData[n].rGBTransferFunction=yB.newInstance(),t.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),t.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3),e.modified()),t.componentData[n].rGBTransferFunction},e.setScalarOpacity=function(n,r){return t.componentData[n].scalarOpacity!==r&&(t.componentData[n].scalarOpacity=r,e.modified(),!0)},e.getScalarOpacity=function(n){return null===t.componentData[n].scalarOpacity&&(t.componentData[n].scalarOpacity=OB.newInstance(),t.componentData[n].scalarOpacity.addPoint(0,1),t.componentData[n].scalarOpacity.addPoint(1024,1),e.modified()),t.componentData[n].scalarOpacity},e.setComponentWeight=function(n,r){if(n<0||n>=yj)return hj("Invalid index"),!1;var a=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight!==a&&(t.componentData[n].componentWeight=a,e.modified(),!0)},e.getComponentWeight=function(e){return e<0||e>=yj?(hj("Invalid index"),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(gj.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(gj.LINEAR)},e.setInterpolationTypeToFastLinear=function(){return e.setInterpolationType(gj.FAST_LINEAR)},e.getInterpolationTypeAsString=function(){return iS.enumToString(gj,t.interpolationType)},["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach((function(n){var r=iS.capitalize(n);e["set".concat(r)]=function(r,a){return t.componentData[r]["".concat(n)]!==a&&(t.componentData[r]["".concat(n)]=a,e.modified(),!0)}})),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach((function(n){var r=iS.capitalize(n);e["get".concat(r)]=function(e){return t.componentData[e]["".concat(n)]}}))}(e,t)}var wj=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({newInstance:iS.newInstance(xj,"vtkVolumeProperty"),extend:xj},AL),Cj=iS.vtkDebugMacro;var Sj={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Tj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Sj,n),_N.extend(e,t,n),t.boundsMTime={},iS.obj(t.boundsMTime),iS.set(e,t,["property"]),iS.setGet(e,t,["mapper"]),iS.getArray(e,t,["bounds"],6),function(e,t){t.classHierarchy.push("vtkVolume"),e.getVolumes=function(){return e},e.makeProperty=wj.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n,r=t.mapper.getBounds();if(!r||6!==r.length)return r;if(r[0]>r[1])return t.mapperBounds=r.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),r;if(!t.mapperBounds||!(n=[r,t.mapperBounds],n[0].map((function(e,t){return n.map((function(e){return e[t]}))}))).reduce((function(e,t){return e&&t[0]===t[1]}),!0)||e.getMTime()>t.boundsMTime.getMTime()){Cj("Recomputing bounds..."),t.mapperBounds=r.map((function(e){return e}));var a=[];WM.getCorners(r,a),e.computeMatrix();var o=new Float64Array(16);NA(o,t.matrix),a.forEach((function(e){return fA(e,e,o)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2===0?a.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):a.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}return e}}(e,t)}var Pj={newInstance:iS.newInstance(Tj,"vtkVolume"),extend:Tj};function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ej=IL,Ij=RL;var Rj={createRadonTransferFunction:function(e,t,n,r,a){var o=null;return a?(o=a).removeAllPoints():o=OB.newInstance(),o.addPointLong(-1024,0,1,1),o.addPoint(e,t),o.addPoint(n,r),o}};var kj={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:Ej.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:Ij.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,volumeShadowSamplingDistFactor:5,anisotropy:0,localAmbientOcclusion:!1,LAOKernelSize:15,LAOKernelRadius:7};function Mj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,kj,n),Hk.extend(e,t,n),iS.setGet(e,t,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity","volumetricScatteringBlending","globalIlluminationReach","volumeShadowSamplingDistFactor","anisotropy","localAmbientOcclusion","LAOKernelSize","LAOKernelRadius"]),iS.setGetArray(e,t,["ipScalarRange"],2),iS.event(e,t,"lightingActivated"),function(e,t){t.classHierarchy.push("vtkVolumeMapper");var n=Aj({},e);e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=VP(),t.bounds},e.update=function(){e.getInputData()},e.setBlendModeToComposite=function(){e.setBlendMode(Ej.COMPOSITE_BLEND)},e.setBlendModeToMaximumIntensity=function(){e.setBlendMode(Ej.MAXIMUM_INTENSITY_BLEND)},e.setBlendModeToMinimumIntensity=function(){e.setBlendMode(Ej.MINIMUM_INTENSITY_BLEND)},e.setBlendModeToAverageIntensity=function(){e.setBlendMode(Ej.AVERAGE_INTENSITY_BLEND)},e.setBlendModeToAdditiveIntensity=function(){e.setBlendMode(Ej.ADDITIVE_INTENSITY_BLEND)},e.setBlendModeToRadonTransform=function(){e.setBlendMode(Ej.RADON_TRANSFORM_BLEND)},e.getBlendModeAsString=function(){return iS.enumToString(Ej,t.blendMode)},e.setAverageIPScalarRange=function(t,n){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),e.setIpScalarRange(t,n)},e.getFilterModeAsString=function(){return iS.enumToString(Ij,t.filterMode)},e.setFilterModeToOff=function(){e.setFilterMode(Ij.OFF)},e.setFilterModeToNormalized=function(){e.setFilterMode(Ij.NORMALIZED)},e.setFilterModeToRaw=function(){e.setFilterMode(Ij.RAW)},e.setGlobalIlluminationReach=function(e){return n.setGlobalIlluminationReach(wP(e,0,1))},e.setVolumetricScatteringBlending=function(e){return n.setVolumetricScatteringBlending(wP(e,0,1))},e.setVolumeShadowSamplingDistFactor=function(e){return n.setVolumeShadowSamplingDistFactor(e>=1?e:1)},e.setAnisotropy=function(e){return n.setAnisotropy(wP(e,-.99,.99))},e.setLAOKernelSize=function(e){return n.setLAOKernelSize(WS(wP(e,1,32)))},e.setLAOKernelRadius=function(e){return n.setLAOKernelRadius(e>=1?e:1)}}(e,t)}var _j=Aj({newInstance:iS.newInstance(Mj,"vtkVolumeMapper"),extend:Mj},Rj);var Dj={scalarTexture:null};function Lj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Dj,n),_j.extend(e,t,n),iS.setGet(e,t,["scalarTexture"]),function(e,t){t.classHierarchy.push("vtkSharedVolumeMapper");var n=e.delete;e.delete=function(){t.scalarTexture=null,n()}}(e,t)}var Vj={newInstance:iS.newInstance(Lj,"vtkSharedVolumeMapper"),extend:Lj};function Nj(e,t){var n=Vj.newInstance();zw().rendering.preferSizeOverAccuracy&&n.setPreferSizeOverAccuracy(!0),n.setInputData(e);var r=e.getSpacing(),a=(r[0]+r[1]+r[2])/6;return n.setMaximumSamplesPerRay(4e3),n.setSampleDistance(a),n.setScalarTexture(t),n}var Bj,Fj,Uj={};function jj(e,t){var n=KN.getImageLoadObject(e);if(void 0!==n)return n;var r=KN.getVolumeContainingImageId(e);if(r&&r.volume.loadStatus.loaded){var a=r.volume,o=r.imageIdIndex;return n=a.convertToCornerstoneImage(e,o)}var i=KN.getCachedImageBasedOnImageURI(e);return i?n=i.imageLoadObject:(n=function(e,t){var n=e.indexOf(":"),r=e.substring(0,n),a=Uj[r];if(void 0===a||null===a){if(void 0!==Bj)return Bj(e);throw new Error("loadImageFromImageLoader: no image loader for imageId")}var o=a(e,t);return o.promise.then((function(e){$w(Yw,Ww.IMAGE_LOADED,{image:e})}),(function(t){var n={imageId:e,error:t};$w(Yw,Ww.IMAGE_LOAD_FAILED,n)})),o}(e,t),n)}function Gj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{priority:0,requestType:"prefetch"};if(void 0===e)throw new Error("loadAndCacheImage: parameter imageId must not be undefined");var n=jj(e,t);return KN.getImageLoadObject(e)||KN.putImageLoadObject(e,n).catch((function(e){console.warn(e)})),n.promise}function zj(e){for(var t,n=e[0],r=e[0],a=e.length,o=1;o<a;o++)t=e[o],n=Math.min(n,t),r=Math.max(r,t);return{min:n,max:r}}!function(e){e.Interaction="interaction",e.Thumbnail="thumbnail",e.Prefetch="prefetch"}(Fj||(Fj={}));var Wj=Fj,Hj=0,Kj=Wj.Prefetch;function qj(){return(qj=ye(ve().mark((function e(t,n,r){var a,o,i,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Yj(n)){e.next=5;break}return e.next=4,$j(n,r);case 4:a=e.sent;case 5:if(a&&void 0!==a.lower&&void 0!==a.upper){e.next=7;break}throw new Error("Could not get VOI from metadata, nor from the min max of the image middle slice");case 7:a=Xj(n,a),i=(o=a).lower,s=o.upper,t.getProperty().getRGBTransferFunction(0).setMappingRange(i,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xj(e,t){var n=e.imageIds;return function(e,t){var n;if("PT"!==e||!t.isPreScaled)return!1;if(null===(n=t.scaling)||void 0===n||!n.PT.suvbw)return!1;return!0}((rB("generalSeriesModule",n[Math.floor(n.length/2)])||{}).modality,e)?{lower:0,upper:5}:t}function Yj(e){var t=e.imageIds,n=rB("voiLutModule",t[Math.floor(t.length/2)]);if(n&&n.windowWidth&&n.windowCenter){var r=n.windowWidth,a=n.windowCenter,o={windowWidth:Array.isArray(r)?r[0]:r,windowCenter:Array.isArray(a)?a[0]:a},i=dj(Number(o.windowWidth),Number(o.windowCenter));return{lower:i.lower,upper:i.upper}}}function $j(e,t){return Zj.apply(this,arguments)}function Zj(){return Zj=ye(ve().mark((function e(t,n){var r,a,o,i,s,l,u,c,d,f,p,m,g,v,h,y,b,x,w,C,S;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.imageIds,a=t.getScalarData(),o=Math.floor(r.length/2),i=t.imageIds[o],s=rB("generalSeriesModule",i)||{},l=s.modality,u=rB("modalityLutModule",i)||{},c=r.length,d=a.byteLength/c,f=a.length/c,p=a.BYTES_PER_ELEMENT,m={rescaleSlope:u.rescaleSlope,rescaleIntercept:u.rescaleIntercept,modality:l},"PT"===l&&(v=rB("scalingModule",i))&&(g=Ae(Ae({},m),{},{suvbw:v.suvbw})),h=o*d,y={targetBuffer:{type:n?void 0:"Float32Array"},priority:Hj,requestType:Kj,preScale:{enabled:!0,scalingParameters:g}},e.next=17,Gj(i,y);case 17:return b=e.sent,x=b?b.getPixelData():Qj(t,h,p,f),w=zj(x),C=w.min,S=w.max,e.abrupt("return",{lower:C,upper:S});case 21:case"end":return e.stop()}}),e)}))),Zj.apply(this,arguments)}function Qj(e,t,n,r){var a=e.scalarData,o=a.volumeBuffer;a.BYTES_PER_ELEMENT!==n&&(t*=a.BYTES_PER_ELEMENT/n);var i=a.constructor,s=new i(r),l=new i(o,t,r);return s.set(l),s}var Jj=function(e,t,n){return qj.apply(this,arguments)};function eG(){return eG=ye(ve().mark((function e(t,n,r){var a,o,i,s,l,u,c,d,f,p,m=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]&&m[3],o=m.length>4&&void 0!==m[4]&&m[4],i=t.volumeId,s=t.callback,l=t.blendMode,e.next=5,sj(i);case 5:if(u=e.sent){e.next=8;break}throw new Error("imageVolume with id: ".concat(u.volumeId," does not exist"));case 8:if(c=u.imageData,d=u.vtkOpenGLTexture,f=Nj(c,d),l&&f.setBlendMode(l),(p=Pj.newInstance()).setMapper(f),3===c.getPointData().getScalars().getNumberOfComponents()&&p.getProperty().setIndependentComponents(!1),!u.imageIds){e.next=18;break}return e.next=18,Jj(p,u,o);case 18:return s&&s({volumeActor:p,volumeId:i}),a||tG(n,r,p,i),e.abrupt("return",p);case 21:case"end":return e.stop()}}),e)}))),eG.apply(this,arguments)}function tG(e,t,n,r){var a=n.getProperty().getRGBTransferFunction(0).getRange(),o={viewportId:t,range:{lower:a[0],upper:a[1]},volumeId:r};$w(e,Ww.VOI_MODIFIED,o)}var nG=function(e,t,n){return eG.apply(this,arguments)};var rG=function(e){return Math.abs(Math.abs(e)-1)<1e-6},aG=function(e,t){return rG(e[t])||rG(e[t+1])||rG(e[t+2])},oG=function(e){return aG(e,0)&&aG(e,3)&&aG(e,6)};var iG=1.001,sG=function(e){return!!Object.keys(oj).find((function(t){return function(e,t){return t===e.substring(0,Math.min(e.length,t.length))}(e.volumeId,t)}))};var lG=function(e){var t=e.getCamera(),n=function(e,t,n){var r=t.viewPlaneNormal,a=e.getActors();if(!a||!a.length)return{spacingInNormalDirection:null,imageVolume:null,actorUID:null};var o=a.map((function(e){var t,n=null!==(t=e.referenceId)&&void 0!==t?t:e.uid;return KN.getVolume(n)})).filter((function(e){return!!e}));if(n){var i=o.findIndex((function(e){return e.volumeId===n})),s=o[i],l=a[i].uid;return{imageVolume:s,spacingInNormalDirection:aB(s,r),actorUID:l}}if(!o.length)return{spacingInNormalDirection:null,imageVolume:null,actorUID:null};for(var u={spacingInNormalDirection:1/0,imageVolume:null,actorUID:null},c=o.find(sG),d=0;d<o.length;d++){var f=o[d];if(!c||sG(f)){var p=aB(f,r);p*iG<u.spacingInNormalDirection&&(u.spacingInNormalDirection=p,u.imageVolume=f,u.actorUID=a[d].uid)}}return u}(e,t),r=n.spacingInNormalDirection,a=n.imageVolume;if(a){var o=t.viewPlaneNormal,i=t.focalPoint,s=e.getActors().find((function(e){return e.referenceId===a.volumeId||e.uid===a.volumeId}));s||console.warn("No actor found for with actorUID of",a.volumeId);var l=function(e,t,n){var r,a=e.getMapper().getInputData(),o=a.getDirection();if(oG(o))r=function(e){var t=e.getMapper().getInputData(),n=t.extentToBounds(t.getExtent());return[[n[0],n[2],n[4]],[n[0],n[2],n[5]],[n[0],n[3],n[4]],[n[0],n[3],n[5]],[n[1],n[2],n[4]],[n[1],n[2],n[5]],[n[1],n[3],n[4]],[n[1],n[3],n[5]]]}(e);else{var i=Se(a.getDimensions(),3),s=i[0],l=i[1],u=i[2];r=[[0,0,0],[s-1,0,0],[0,l-1,0],[s-1,l-1,0],[0,0,u-1],[s-1,0,u-1],[0,l-1,u-1],[s-1,l-1,u-1]].map((function(e){return a.indexToWorld(e)}))}var c=FB.buildFromDegree().identity().rotateFromDirections(t,[1,0,0]);r.forEach((function(e){return c.apply(e)}));var d=Re(n);c.apply(d);for(var f=d[0],p=1/0,m=-1/0,g=0;g<8;g++){var v=r[g][0];v>m&&(m=v),v<p&&(p=v)}return{min:p,max:m,current:f,actor:e,viewPlaneNormal:t,focalPoint:n}}(s.actor,o,i),u=l.min,c=l.max,d=l.current,f=Math.round((c-u)/r)+1,p=(d-u)/(c-u)*f;return(p=Math.floor(p))>f-1?p=f-1:p<0&&(p=0),{numberOfSlices:f,imageIndex:p}}};function uG(e){return qw.get(e)}var cG={};var dG=function(e){var t=e.detail,n=t.renderingEngineId,r=t.viewportId,a=uG(n).getViewport(r);if(!(a instanceof SG))throw new Error("volumeNewImageEventDispatcher: viewport is not a BaseVolumeViewport");void 0===cG[a.id]&&(cG[a.id]=0);var o=lG(a);if(o){var i=o.numberOfSlices,s=o.imageIndex;if(cG[a.id]!==s){cG[a.id]=s;var l={imageIndex:s,viewportId:r,renderingEngineId:n,numberOfSlices:i};$w(a.element,Ww.VOLUME_NEW_IMAGE,l)}}else console.warn("volumeNewImageEventDispatcher: sliceData is undefined for viewport ".concat(a.id))};function fG(){var e=new _O(2);return _O!=Float32Array&&(e[0]=0,e[1]=0),e}function pG(e,t){var n=new _O(2);return n[0]=e,n[1]=t,n}function mG(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}!function(){var e=fG()}();function gG(e,t,n){var r=Se(e,3),a=r[0],o=r[1],i=r[2],s=Se(t,3),l=s[0],u=s[1],c=s[2],d=Se(n,4),f=d[0],p=d[1],m=d[2],g=l-a,v=u-o,h=c-i,y=-1*(f*a+p*o+m*i-d[3])/(f*g+p*v+m*h);return[g*y+a,v*y+o,h*y+i]}function vG(e){return Array.isArray(e)?e.some((function(e){return Number.isNaN(e)})):Number.isNaN(e)}var hG=function(){function e(t){os(this,e),this.flipHorizontal=!1,this.flipVertical=!1,this.viewportStatus=RB.NO_DATA,this._suppressCameraModifiedEvents=!1,this.hasPixelSpacing=!0,this.id=t.id,this.renderingEngineId=t.renderingEngineId,this.type=t.type,this.element=t.element,this.canvas=t.canvas,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this._actors=new Map,this.element.setAttribute("data-viewport-uid",this.id),this.element.setAttribute("data-rendering-engine-uid",this.renderingEngineId),this.defaultOptions=structuredClone(t.defaultOptions),this.suppressEvents=!!t.defaultOptions.suppressEvents&&t.defaultOptions.suppressEvents,this.options=structuredClone(t.defaultOptions),this.isDisabled=!1}return ss(e,[{key:"setRendered",value:function(){this.viewportStatus!==RB.NO_DATA&&this.viewportStatus!==RB.LOADING&&(this.viewportStatus=RB.RENDERED)}},{key:"getRenderingEngine",value:function(){return qw.get(this.renderingEngineId)}},{key:"getRenderer",value:function(){var e=this.getRenderingEngine();if(!e||e.hasBeenDestroyed)throw new Error("Rendering engine has been destroyed");return e.offscreenMultiRenderWindow.getRenderer(this.id)}},{key:"render",value:function(){this.getRenderingEngine().renderViewport(this.id)}},{key:"setOptions",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.options=structuredClone(e),null!==(t=this.options)&&void 0!==t&&t.displayArea)&&this.setDisplayArea(null===(n=this.options)||void 0===n?void 0:n.displayArea);r&&this.render()}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options=structuredClone(this.defaultOptions),e&&this.render()}},{key:"flip",value:function(e){var t=e.flipHorizontal,n=e.flipVertical,r=this.getDefaultImageData();if(r){var a=this.getCamera(),o=a.viewPlaneNormal,i=a.viewUp,s=a.focalPoint,l=a.position,u=sA(NO(),o,i),c=jO(NO(),i),d=rA(NO(),o),f=eA(l,s),p=r.getDimensions().map((function(e){return Math.floor(e/2)})),m=[p[0],p[1],p[2]],g=r.indexToWorld(m,NO()),v=this._getFocalPointForResetCamera(g,a,{resetPan:!0,resetToCenter:!1}),h=WO(NO(),s,v),y=FO(h),b=function(e){var t=QO(NO(),e,2*iA(h,e));return WO(t,t,h),oA(t,t),t};if(t){var x=b(c),w=JO(NO(),v,x,y),C=JO(NO(),w,d,f);this.setCamera({viewPlaneNormal:d,position:C,focalPoint:w}),this.flipHorizontal=!this.flipHorizontal}if(n){c=rA(c,i);var S=b(u),T=JO(NO(),v,S,y),P=JO(NO(),T,d,f);this.setCamera({focalPoint:T,viewPlaneNormal:d,viewUp:c,position:P}),this.flipVertical=!this.flipVertical}this.render()}}},{key:"getDefaultImageData",value:function(){var e=this.getDefaultActor();if(e&&eB(e))return e.actor.getMapper().getInputData()}},{key:"getDefaultActor",value:function(){return this.getActors()[0]}},{key:"getActors",value:function(){return Array.from(this._actors.values())}},{key:"getActor",value:function(e){return this._actors.get(e)}},{key:"getActorUIDByIndex",value:function(e){var t=this.getActors()[e];if(t)return t.uid}},{key:"getActorByIndex",value:function(e){return this.getActors()[e]}},{key:"setActors",value:function(e){this.removeAllActors();this.addActors(e,!0)}},{key:"_removeActor",value:function(e){var t=this.getActor(e);t?(this.getRenderer().removeViewProp(t.actor),this._actors.delete(e)):console.warn("Actor ".concat(e," does not exist for this viewport"))}},{key:"removeActors",value:function(e){var t=this;e.forEach((function(e){t._removeActor(e)}))}},{key:"addActors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getRenderingEngine();r&&!r.hasBeenDestroyed?(e.forEach((function(e){return t.addActor(e)})),this.resetCamera(n,n)):console.warn("Viewport::addActors::Rendering engine has not been initialized or has been destroyed")}},{key:"addActor",value:function(e){var t=e.uid,n=e.actor,r=this.getRenderingEngine();if(r&&!r.hasBeenDestroyed){if(!t||!n)throw new Error("Actors should have uid and vtk Actor properties");if(this.getActor(t))console.warn("Actor ".concat(t," already exists for this viewport"));else this.getRenderer().addActor(n),this._actors.set(t,Object.assign({},e))}else console.warn("Cannot add actor UID of ".concat(t," Rendering Engine has been destroyed"))}},{key:"removeAllActors",value:function(){this.getRenderer().removeAllViewProps(),this._actors=new Map}},{key:"resetCameraNoEvent",value:function(){this._suppressCameraModifiedEvents=!0,this.resetCamera(),this._suppressCameraModifiedEvents=!1}},{key:"setCameraNoEvent",value:function(e){this._suppressCameraModifiedEvents=!0,this.setCamera(e),this._suppressCameraModifiedEvents=!1}},{key:"_getViewImageDataIntersections",value:function(e,t,n){var r,a=n[0],o=n[1],i=n[2],s=a*t[0]+o*t[1]+i*t[2],l=e.getBounds(),u=[],c=ke(this._getEdges(l));try{for(c.s();!(r=c.n()).done;){var d=Se(r.value,2),f=Se(d[0],3),p=f[0],m=f[1],g=f[2],v=Se(d[1],3),h=v[0],y=v[1],b=v[2];if(a*(h-p)+o*(y-m)+i*(b-g)!==0){var x=gG([p,m,g],[h,y,b],[a,o,i,s]);this._isInBounds(x,l)&&u.push(x)}}}catch(wJ){c.e(wJ)}finally{c.f()}return u}},{key:"setDisplayArea",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.storeAsInitialCamera;this.setCamera(this.fitToCanvasCamera,!1);var r=e.imageArea,a=e.imageCanvasPoint;if(r){var o=Se(r,2),i=o[0],s=o[1],l=Math.min(this.getZoom()/i,this.getZoom()/s);this.setZoom(l,n)}var u=this.getDefaultImageData();if(a&&u){var c,d=a.imagePoint,f=Se(a.canvasPoint,2),p=f[0],m=f[1],g=(null===(c=window)||void 0===c?void 0:c.devicePixelRatio)||1,v=this.sWidth/g*(p-.5),h=this.sHeight/g*(m-.5),y=u.getDimensions(),b=this.worldToCanvas([0,0,0]),x=this.worldToCanvas(y),w=[x[0]-b[0],x[1]-b[1]],C=w[0],S=w[1],T=Se(d,2),P=[C*(.5-T[0])+v,S*(.5-T[1])+h];this.setPan(P,n)}if(n&&(this.options.displayArea=e),!t){var O={viewportId:this.id,displayArea:e,storeAsInitialCamera:n};$w(this.element,Ww.DISPLAY_AREA_MODIFIED,O)}}},{key:"getDisplayArea",value:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.displayArea}},{key:"resetCamera",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.getRenderer();this.setCamera({flipHorizontal:!1,flipVertical:!1});var i=structuredClone(this.getCamera()),s=o.computeVisiblePropBounds(),l=[0,0,0],u=this.getDefaultImageData();if(u){var c=u.getSpacing();s[0]=s[0]+c[0]/2,s[1]=s[1]-c[0]/2,s[2]=s[2]+c[1]/2,s[3]=s[3]-c[1]/2,s[4]=s[4]+c[2]/2,s[5]=s[5]-c[2]/2}var d=this.getVtkActiveCamera(),f=d.getViewPlaneNormal(),p=d.getViewUp();if(l[0]=(s[0]+s[1])/2,l[1]=(s[2]+s[3])/2,l[2]=(s[4]+s[5])/2,u){var m=u.getDimensions().map((function(e){return Math.floor(e/2)})),g=[m[0],m[1],m[2]];u.indexToWorld(g,l)}var v,h=this._getWorldDistanceViewUpAndViewRight(s,p,f),y=h.widthWorld,b=h.heightWorld,x=[this.sWidth,this.sHeight],w=y/b,C=x[0]/x[1];w<C?v=b/2:v=b*(w/C)/2;var S=1.1*v,T=s[1]-s[0],P=s[3]-s[2],O=s[5]-s[4];v=0===(v=(T*=T)+(P*=P)+(O*=O))?1:v;var A=1.1*(v=.5*Math.sqrt(v)),E=Math.abs(GP.dot(p,f))>.999?[-p[2],p[0],p[1]]:p,I=this._getFocalPointForResetCamera(l,i,{resetPan:t,resetToCenter:r}),R=[I[0]+A*f[0],I[1]+A*f[1],I[2]+A*f[2]];o.resetCameraClippingRange(s);var k=[-QN.MAXIMUM_RAY_DISTANCE,QN.MAXIMUM_RAY_DISTANCE];d.setPhysicalScale(v),d.setPhysicalTranslation(-I[0],-I[1],-I[2]),this.setCamera({parallelScale:n?S:i.parallelScale,focalPoint:I,position:R,viewAngle:90,viewUp:E,clippingRange:k});var M=structuredClone(this.getCamera());this.setFitToCanvasCamera(structuredClone(this.getCamera())),a&&this.setInitialCamera(M);var _,D={type:"ResetCameraEvent",renderer:o};(o.invokeEvent(D),this.triggerCameraModifiedEventIfNecessary(i,M),u&&null!==(e=this.options)&&void 0!==e&&e.displayArea&&n&&t&&r)&&this.setDisplayArea(null===(_=this.options)||void 0===_?void 0:_.displayArea);return!0}},{key:"setInitialCamera",value:function(e){this.initialCamera=e}},{key:"setFitToCanvasCamera",value:function(e){this.fitToCanvasCamera=e}},{key:"getPan",value:function(){var e=this.getVtkActiveCamera().getFocalPoint(),t=this.canvasToWorld([0,0]),n=this.worldToCanvas(WO(NO(),this.initialCamera.focalPoint,t)),r=this.worldToCanvas(WO(NO(),e,t));return mG(fG(),n,r)}},{key:"setPan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getCamera(),r=n.focalPoint,a=n.position,o=this.canvasToWorld([0,0]),i=mG(fG(),e,this.getPan());if(!(Math.abs(i[0])<1&&Math.abs(i[1])<1)||t){var s=WO(NO(),this.canvasToWorld(i),o),l=WO(NO(),r,s),u=WO(NO(),a,s);this.setCamera(Ae(Ae({},n),{},{focalPoint:l,position:u}),t)}}},{key:"getZoom",value:function(){var e=this.getVtkActiveCamera();return this.initialCamera.parallelScale/e.getParallelScale()}},{key:"setZoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getCamera(),r=this.initialCamera.parallelScale/e;(n.parallelScale!==r||t)&&this.setCamera(Ae(Ae({},n),{},{parallelScale:r}),t)}},{key:"_getFocalPointForViewPlaneReset",value:function(e){var t=this.getCamera(),n=t.focalPoint,r=t.viewPlaneNormal,a=this._getViewImageDataIntersections(e,n,r),o=0,i=0,s=0;return a.forEach((function(e){var t=Se(e,3),n=t[0],r=t[1],a=t[2];o+=n,i+=r,s+=a})),[o/a.length,i/a.length,s/a.length]}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getVtkActiveCamera",value:function(){return this.getRenderer().getActiveCamera()}},{key:"getCamera",value:function(){var e=this.getVtkActiveCamera();return{viewUp:e.getViewUp(),viewPlaneNormal:e.getViewPlaneNormal(),position:e.getPosition(),focalPoint:e.getFocalPoint(),parallelProjection:e.getParallelProjection(),parallelScale:e.getParallelScale(),viewAngle:e.getViewAngle(),flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical}}},{key:"setCamera",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getVtkActiveCamera(),r=structuredClone(this.getCamera()),a=Object.assign({},r,e),o=e.viewUp,i=e.viewPlaneNormal,s=e.position,l=e.focalPoint,u=e.parallelScale,c=e.viewAngle,d=e.flipHorizontal,f=e.flipVertical,p=e.clippingRange;if(void 0!==d){var m=d&&!this.flipHorizontal||!d&&this.flipHorizontal;m&&this.flip({flipHorizontal:m})}if(void 0!==f){var g=f&&!this.flipVertical||!f&&this.flipVertical;g&&this.flip({flipVertical:g})}void 0!==o&&n.setViewUp(o),void 0!==i&&n.setDirectionOfProjection(-i[0],-i[1],-i[2]),void 0!==s&&n.setPosition.apply(n,Re(s)),void 0!==l&&n.setFocalPoint.apply(n,Re(l)),void 0!==u&&n.setParallelScale(u),void 0!==c&&n.setViewAngle(c),void 0!==p&&n.setClippingRange(p);var v=this.getDefaultActor();if(v&&v.actor){if(tB(v,"vtkImageSlice"))this.getRenderer().resetCameraClippingRange();else this.updateClippingPlanesForActors(a);t&&this.setInitialCamera(a),this.triggerCameraModifiedEventIfNecessary(r,this.getCamera())}}},{key:"triggerCameraModifiedEventIfNecessary",value:function(e,t){if(!this._suppressCameraModifiedEvents&&!this.suppressEvents){var n={previousCamera:e,camera:t,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,rotation:this.getRotation()};$w(this.element,Ww.CAMERA_MODIFIED,n)}}},{key:"updateClippingPlanesForActors",value:function(e){var t=this;this.getActors().forEach((function(n){if(n.actor){var r=n.actor.getMapper().getClippingPlanes(),a=QN.MINIMUM_SLAB_THICKNESS;n.slabThickness&&(a=n.slabThickness);var o=e.viewPlaneNormal,i=e.focalPoint;t.setOrientationOfClippingPlanes(r,a,o,i)}}))}},{key:"setOrientationOfClippingPlanes",value:function(e,t,n,r){if(!(e.length<2)){var a=[n[0],n[1],n[2]];GP.multiplyScalar(a,t),e[0].setNormal(n);var o=[0,0,0];GP.subtract(r,a,o),e[0].setOrigin(o),e[1].setNormal(-n[0],-n[1],-n[2]);var i=[0,0,0];GP.add(r,a,i),e[1].setOrigin(i)}}},{key:"_getWorldDistanceViewUpAndViewRight",value:function(e,t,n){var r=this._getCorners(e),a=this._getCorners(e),o=sA(NO(),t,n),i=FB.buildFromDegree().identity().rotateFromDirections(t,[1,0,0]);r.forEach((function(e){return i.apply(e)}));for(var s=1/0,l=-1/0,u=0;u<8;u++){var c=r[u][0];c>l&&(l=c),c<s&&(s=c)}i=FB.buildFromDegree().identity().rotateFromDirections([o[0],o[1],o[2]],[1,0,0]),a.forEach((function(e){return i.apply(e)}));for(var d=1/0,f=-1/0,p=0;p<8;p++){var m=a[p][0];m>f&&(f=m),m<d&&(d=m)}return{widthWorld:f-d,heightWorld:l-s}}},{key:"_shouldUseNativeDataType",value:function(){var e=zw().rendering,t=e.useNorm16Texture,n=e.preferSizeOverAccuracy;return t||n}},{key:"_getCorners",value:function(e){return[[e[0],e[2],e[4]],[e[0],e[2],e[5]],[e[0],e[3],e[4]],[e[0],e[3],e[5]],[e[1],e[2],e[4]],[e[1],e[2],e[5]],[e[1],e[3],e[4]],[e[1],e[3],e[5]]]}},{key:"_getFocalPointForResetCamera",value:function(e,t,n){var r=n.resetPan,a=void 0===r||r,o=n.resetToCenter,i=void 0===o||o;if(i&&a)return e;if(i&&!a)return vG(t.focalPoint)?e:t.focalPoint;if(!i&&a){var s=t,l=s.focalPoint,u=s.viewPlaneNormal,c=iA(WO(NO(),e,l),u),d=JO(NO(),e,u,-1*c);return[d[0],d[1],d[2]]}return a||i?void 0:vG(t.focalPoint)?e:t.focalPoint}},{key:"_isInBounds",value:function(e,t){var n=Se(t,6),r=n[0],a=n[1],o=n[2],i=n[3],s=n[4],l=n[5],u=Se(e,3),c=u[0],d=u[1],f=u[2];return!(c<r||c>a||d<o||d>i||f<s||f>l)}},{key:"_getEdges",value:function(e){var t=Se(this._getCorners(e),8),n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],u=t[7];return[[n,r],[n,i],[n,a],[r,o],[r,s],[a,o],[a,l],[o,u],[i,l],[i,s],[s,u],[l,u]]}}],[{key:"useCustomRenderingPipeline",get:function(){return!1}}]),e}(),yG=hG;var bG={isPerformingCoordinateTransformation:!1};function xG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,bG,n),JL.extend(e,t,n),iS.setGet(e,t,["isPerformingCoordinateTransformation"]),function(e,t){t.classHierarchy.push("vtkSlabCamera");var n=VA(new Float64Array(16)),r=new Float64Array(3);e.getProjectionMatrix=function(e,a,o){var i=kA();if(t.projectionMatrix){var s=1/t.physicalScale;return GO(r,s,s,s),_A(i,t.projectionMatrix),zA(i,i,r),NA(i,i),i}VA(n);var l=t.clippingRange[0],u=t.clippingRange[1];t.isPerformingCoordinateTransformation&&(l=t.distance,u=t.distance+.1);var c=u-l,d=[l+(a+1)*c/2,l+(o+1)*c/2];if(t.parallelProjection){var f=t.parallelScale*e,p=t.parallelScale,m=(t.windowCenter[0]-1)*f,g=(t.windowCenter[0]+1)*f,v=(t.windowCenter[1]-1)*p,h=(t.windowCenter[1]+1)*p;mE(n,m,g,v,h,d[0],d[1]),NA(n,n)}else{if(t.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var y,b,x=Math.tan(GP.radiansFromDegrees(t.viewAngle)/2);!0===t.useHorizontalViewAngle?(y=l*x,b=l*x/e):(y=l*x*e,b=l*x);var w=(t.windowCenter[0]-1)*y,C=(t.windowCenter[0]+1)*y,S=(t.windowCenter[1]-1)*b,T=(t.windowCenter[1]+1)*b,P=d[0],O=d[1];n[0]=2*P/(C-w),n[5]=2*P/(T-S),n[2]=(w+C)/(C-w),n[6]=(S+T)/(T-S),n[10]=-(P+O)/(O-P),n[14]=-1,n[11]=-2*P*O/(O-P),n[15]=0}return _A(i,n),i}}(e,t)}var wG={newInstance:iS.newInstance(xG,"vtkSlabCamera"),extend:xG};var CG=function(e){Xs(n,e);var t=Js(n);function n(e){var r;if(os(this,n),(r=t.call(this,e)).useCPURendering=!1,r.use16BitTexture=!1,r.inverted=!1,r.getProperties=function(){var e=r.getActors().map((function(e){var t=e.actor,n=e.uid;if(!qN.getVolume(n))return null;var a=t.getProperty().getRGBTransferFunction(0),o="SIGMOID"===r.VOILUTFunction?function(e){var t=[],n=Se(e.getRange(),2),r=n[0],a=n[1];e.getTable(r,a,1024,t),t=t.filter((function(e,t){return t%3===0}));var o=Re(Array(1024).keys()).map((function(e,t){return r+(a-r)/1023*t})),i=t[256],s=Math.log((1-i)/i),l=o[256],u=t[768],c=Math.log((1-u)/u),d=o[768],f=Math.round(4*(d-l)/(s-c)),p=Math.round(l+f*s/4);return[Math.round(p-f/2),Math.round(p+f/2)]}(a):a.getRange(),i=Se(o,2);return{volumeId:n,voiRange:{lower:i[0],upper:i[1]}}})).filter(Boolean);return{voiRange:e.length?e[0].voiRange:null,VOILUTFunction:r.VOILUTFunction,invert:r.inverted}},r.getFrameOfReferenceUID=function(){return r._FrameOfReferenceUID},r.canvasToWorld=function(e){var t,n,a=r.getVtkActiveCamera();null===(t=a.setIsPerformingCoordinateTransformation)||void 0===t||t.call(a,!0);var o=r.getRenderer(),i=r.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),s=i.getSize(),l=window.devicePixelRatio||1,u=[e[0]*l,e[1]*l],c=[u[0]+r.sx,u[1]+r.sy];c[1]=s[1]-c[1];var d=i.displayToWorld(c[0],c[1],0,o);return null===(n=a.setIsPerformingCoordinateTransformation)||void 0===n||n.call(a,!1),[d[0],d[1],d[2]]},r.worldToCanvas=function(e){var t,n,a=r.getVtkActiveCamera();null===(t=a.setIsPerformingCoordinateTransformation)||void 0===t||t.call(a,!0);var o=r.getRenderer(),i=r.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),s=i.getSize(),l=i.worldToDisplay.apply(i,Re(e).concat([o]));l[1]=s[1]-l[1];var u=[l[0]-r.sx,l[1]-r.sy],c=window.devicePixelRatio||1,d=[u[0]/c,u[1]/c];return null===(n=a.setIsPerformingCoordinateTransformation)||void 0===n||n.call(a,!1),d},r.hasImageURI=function(e){return r.getActors().filter((function(e){return tB(e,"vtkVolume")})).some((function(t){var n=t.uid,r=qN.getVolume(n);return!(!r||!r.imageIds)&&r.imageIds.map(zN).includes(e)}))},r.getImageIds=function(e){var t=r._getApplicableVolumeActor(e);if(!t)throw new Error("No actor found for the given volumeId: ".concat(e));var n=t.volumeId,a=qN.getVolume(n);if(!a)throw new Error("imageVolume with id: ".concat(n," does not exist in cache"));return a.imageIds},r.useCPURendering=Gw(),r.use16BitTexture=r._shouldUseNativeDataType(),r.useCPURendering)throw new Error("VolumeViewports cannot be used whilst CPU Fallback Rendering is enabled.");var a=r.getRenderer(),o=wG.newInstance();switch(a.setActiveCamera(o),r.type){case GN.ORTHOGRAPHIC:case GN.VOLUME_3D:o.setParallelProjection(!0);break;case GN.PERSPECTIVE:o.setParallelProjection(!1);break;default:throw new Error("Unrecognized viewport type: ".concat(r.type))}return r.initializeVolumeNewImageEventDispatcher(),r}return ss(n,[{key:"applyViewOrientation",value:function(e){var t=this._getOrientationVectors(e),n=t.viewPlaneNormal,r=t.viewUp,a=this.getVtkActiveCamera();a.setDirectionOfProjection(-n[0],-n[1],-n[2]),a.setViewUpFrom(r),this.resetCamera()}},{key:"initializeVolumeNewImageEventDispatcher",value:function(){var e=function(e){if(e.detail.viewportId!==this.id||this.isDisabled)return;if(!this.getImageData())return;dG(e)}.bind(this),t=function(n){var r=n.detail.viewportId;if(r!==this.id)return;this.element.removeEventListener(Ww.CAMERA_MODIFIED,e),Yw.removeEventListener(Ww.ELEMENT_DISABLED,t),function(e){void 0!==cG[e]&&delete cG[e]}(r)}.bind(this);this.element.removeEventListener(Ww.CAMERA_MODIFIED,e),this.element.addEventListener(Ww.CAMERA_MODIFIED,e),Yw.addEventListener(Ww.ELEMENT_DISABLED,t)}},{key:"resetVolumeViewportClippingRange",value:function(){var e=this.getVtkActiveCamera();e.getParallelProjection()?e.setClippingRange(-QN.MAXIMUM_RAY_DISTANCE,QN.MAXIMUM_RAY_DISTANCE):e.setClippingRange(QN.MINIMUM_SLAB_THICKNESS,QN.MAXIMUM_RAY_DISTANCE)}},{key:"setVOILUTFunction",value:function(e,t,n){-1===Object.values(IB).indexOf(e)&&(e=IB.LINEAR);var r=this.getProperties().voiRange;this.VOILUTFunction=e,this.setVOI(r,t,n)}},{key:"setColormap",value:function(e,t,n){var r=this._getApplicableVolumeActor(t);if(r){var a=r.volumeActor;a.getMapper().setSampleDistance(1);var o=yB.newInstance(),i=function(e){return lj.get(e)}(e.name),s=e.name;if(i||(i=wB.getPresetByName(s)),!i)throw new Error("Colormap ".concat(e," not found"));var l=a.getProperty().getRGBTransferFunction(0).getRange();o.applyColorMap(i),o.setMappingRange(l[0],l[1]),a.getProperty().setRGBTransferFunction(0,o)}}},{key:"setOpacity",value:function(e,t){var n=this._getApplicableVolumeActor(t);if(n){var r=n.volumeActor,a=OB.newInstance();if("number"===typeof e.opacity){var o=r.getProperty().getRGBTransferFunction(0).getRange();a.addPoint(o[0],e.opacity),a.addPoint(o[1],e.opacity)}else e.opacity.forEach((function(e){var t=e.opacity,n=e.value;a.addPoint(n,t)}));r.getProperty().setScalarOpacity(0,a)}}},{key:"setInvert",value:function(e,t,n){var r=this._getApplicableVolumeActor(t);if(r){var a=r.volumeId;uj(this._getOrCreateColorTransferFunction(a)),this.inverted=e;var o=this.getProperties().voiRange;if(!n){var i={viewportId:this.id,range:o,volumeId:a,VOILUTFunction:this.VOILUTFunction,invert:this.inverted,invertStateChanged:!0};$w(this.element,Ww.VOI_MODIFIED,i)}}}},{key:"_getOrCreateColorTransferFunction",value:function(e){var t=this._getApplicableVolumeActor(e);if(!t)return null;var n=t.volumeActor,r=n.getProperty().getRGBTransferFunction(0);if(r)return r;var a=yB.newInstance();return n.getProperty().setRGBTransferFunction(0,a),a}},{key:"setInterpolationType",value:function(e,t){var n=this._getApplicableVolumeActor(t);n&&n.volumeActor.getProperty().setInterpolationType(e)}},{key:"setVOI",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._getApplicableVolumeActor(t);if(r){var a=r.volumeActor,o=r.volumeId,i=e;if("undefined"===typeof i){var s=a.getMapper().getInputData().getPointData().getScalars().getRange();i={lower:s[0],upper:s[1]}}if(this.VOILUTFunction===IB.SAMPLED_SIGMOID){var l=fj(i);a.getProperty().setRGBTransferFunction(0,l)}else{var u=i,c=u.lower,d=u.upper;a.getProperty().getRGBTransferFunction(0).setRange(c,d)}if(!n){var f={viewportId:this.id,range:e,volumeId:o,VOILUTFunction:this.VOILUTFunction};$w(this.element,Ww.VOI_MODIFIED,f)}}}},{key:"setProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voiRange,n=e.VOILUTFunction,r=e.invert,a=e.colormap,o=e.preset,i=e.interpolationType,s=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&void 0!==a&&a.name&&this.setColormap(a,s,l),null!=(null===a||void 0===a?void 0:a.opacity)&&this.setOpacity(a,s),void 0!==t&&this.setVOI(t,s,l),"undefined"!==typeof i&&this.setInterpolationType(i),void 0!==n&&this.setVOILUTFunction(n,s,l),void 0!==r&&this.inverted!==r&&this.setInvert(r,s,l),void 0!==o&&this.setPreset(o,s,l)}},{key:"setPreset",value:function(e,t,n){var r=this._getApplicableVolumeActor(t);if(r){var a=r.volumeActor,o=AB.find((function(t){return t.name===e}));o&&pj(a,o)}}},{key:"setVolumes",value:function(){var e=ye(ve().mark((function e(t){var n,r,a,o,i,s,l,u,c,d,f,p,m=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]&&m[1],r=m.length>2&&void 0!==m[2]&&m[2],a=qN.getVolume(t[0].volumeId)){e.next=5;break}throw new Error("imageVolume with id: ".concat(a.volumeId," does not exist"));case 5:return o=a.metadata.FrameOfReferenceUID,e.next=8,this._isValidVolumeInputArray(t,o);case 8:this._FrameOfReferenceUID=o,i=[],s=0;case 11:if(!(s<t.length)){e.next=21;break}return l=t[s],u=l.volumeId,c=l.actorUID,d=l.slabThickness,e.next=15,nG(t[s],this.element,this.id,r,this.use16BitTexture);case 15:f=e.sent,p=c||u,i.push({uid:p,actor:f,slabThickness:d,referenceId:u});case 18:s++,e.next=11;break;case 21:this._setVolumeActors(i),this.viewportStatus=RB.PRE_RENDER,$w(this.element,Ww.VOLUME_VIEWPORT_NEW_VOLUME,{viewportId:this.id,volumeActors:i}),n&&this.render();case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addVolumes",value:function(){var e=ye(ve().mark((function e(t){var n,r,a,o,i,s,l,u,c,d,f,p,m=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]&&m[1],r=m.length>2&&void 0!==m[2]&&m[2],a=qN.getVolume(t[0].volumeId)){e.next=5;break}throw new Error("imageVolume with id: ".concat(a.volumeId," does not exist"));case 5:return o=[],e.next=8,this._isValidVolumeInputArray(t,this._FrameOfReferenceUID);case 8:i=0;case 9:if(!(i<t.length)){e.next=20;break}return s=t[i],l=s.volumeId,u=s.visibility,c=s.actorUID,d=s.slabThickness,e.next=13,nG(t[i],this.element,this.id,r,this.use16BitTexture);case 13:f=e.sent,!1===u&&f.setVisibility(!1),p=c||l,o.push({uid:p,actor:f,slabThickness:d,referenceId:l});case 17:i++,e.next=9;break;case 20:this.addActors(o),n&&this.render();case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeVolumeActors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.removeActors(e),t&&this.render()}},{key:"setOrientation",value:function(e){console.warn('Method "setOrientation" needs implementation')}},{key:"_getApplicableVolumeActor",value:function(e){if(void 0===e||this.getActor(e)){var t=this.getActors();if(t.length){var n,r;if(e)n=null===(r=this.getActor(e))||void 0===r?void 0:r.actor;return n||(n=t[0].actor,e=t[0].uid),{volumeActor:n,volumeId:e}}}}},{key:"_isValidVolumeInputArray",value:function(){var e=ye(ve().mark((function e(t,n){var r,a,o,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.length,a=1;case 2:if(!(a<r)){e.next=14;break}return o=t[a],e.next=6,sj(o.volumeId);case 6:if(i=e.sent){e.next=9;break}throw new Error("imageVolume with id: ".concat(i.volumeId," does not exist"));case 9:if(n===i.metadata.FrameOfReferenceUID){e.next=11;break}throw new Error("Volumes being added to viewport ".concat(this.id," do not share the same FrameOfReferenceUID. This is not yet supported"));case 11:a++,e.next=2;break;case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBounds",value:function(){return this.getRenderer().computeVisiblePropBounds()}},{key:"flip",value:function(e){Mg(Ys(n.prototype),"flip",this).call(this,e)}},{key:"hasVolumeId",value:function(e){return this.getActors().some((function(t){return t.uid===e}))}},{key:"getImageData",value:function(e){var t,n,r=this.getDefaultActor();if(r){var a=r.uid;e=null!==(t=e)&&void 0!==t?t:a;var o=this.getActor(e);if(tB(o,"vtkVolume")){var i=o.actor,s=qN.getVolume(e),l=i.getMapper().getInputData();return{dimensions:l.getDimensions(),spacing:l.getSpacing(),origin:l.getOrigin(),direction:l.getDirection(),scalarData:l.getPointData().getScalars().isDeleted()?null:l.getPointData().getScalars().getData(),imageData:i.getMapper().getInputData(),metadata:{Modality:null===s||void 0===s||null===(n=s.metadata)||void 0===n?void 0:n.Modality},scaling:null===s||void 0===s?void 0:s.scaling,hasPixelSpacing:!0}}}}},{key:"_setVolumeActors",value:function(e){this.inverted=!1,this.setActors(e)}},{key:"_getOrientationVectors",value:function(e){if("object"===typeof e){if(e.viewPlaneNormal&&e.viewUp)return e;throw new Error("Invalid orientation object. It must contain viewPlaneNormal and viewUp")}if("string"===typeof e&&YN[e])return YN[e];throw new Error("Invalid orientation: ".concat(e,". Valid orientations are: ").concat(Object.keys(YN).join(", ")))}},{key:"getSlabThickness",value:function(){var e=this.getActors(),t=QN.MINIMUM_SLAB_THICKNESS;return e.forEach((function(e){e.slabThickness>t&&(t=e.slabThickness)})),t}},{key:"getIntensityFromWorld",value:function(e){var t=this.getDefaultActor();if(tB(t,"vtkVolume")){var n=t.actor,r=t.uid,a=n.getMapper().getInputData(),o=qN.getVolume(r),i=o.dimensions,s=function(e,t){return e.worldToIndex(t).map(Math.round)}(a,e),l=s[2]*i[0]*i[1]+s[1]*i[0]+s[0];return o.getScalarData()[l]}}}],[{key:"useCustomRenderingPipeline",get:function(){return!1}}]),n}(yG),SG=CG,TG=function(e){Xs(n,e);var t=Js(n);function n(e){var r;os(this,n),(r=t.call(this,e))._useAcquisitionPlaneForViewPlane=!1,r.getCurrentImageIdIndex=function(){var e=r.getCamera(),t=e.viewPlaneNormal,n=e.focalPoint,a=r.getImageData(),o=a.origin,i=a.spacing[2],s=NO();SA(s,n,o);var l=iA(s,t);return Math.round(Math.abs(l)/i)},r.getCurrentImageId=function(){r.getActors().length>1&&console.warn("Using the first/default actor of ".concat(r.getActors().length," actors for getCurrentImageId."));var e=r.getDefaultActor();if(e&&tB(e,"vtkVolume")){var t=e.uid,n=qN.getVolume(t);if(n){var a=r.getCamera(),o=a.viewPlaneNormal;return function(e,t,n){if(e){var r=e.direction,a=e.imageIds;if(a&&a.length){var o=iA(r.slice(6,9),n);if(!(Math.abs(o)<.999)){for(var i,s=aB(e,n)/2,l=0;l<a.length;l++){var u=a[l],c=rB("imagePlaneModule",u).imagePositionPatient,d=NO();SA(d,t,c);var f=iA(d,n);Math.abs(f)<s&&(i=u)}return i}}}}(n,a.focalPoint,o)}}},r.getRotation=function(){return 0};var a=r.options.orientation;return a&&a!==JN.ACQUISITION?(r.applyViewOrientation(a),Qs(r)):(r._useAcquisitionPlaneForViewPlane=!0,r)}return ss(n,[{key:"setVolumes",value:function(){var e=ye(ve().mark((function e(t){var r,a,o,i=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],a=i.length>2&&void 0!==i[2]&&i[2],o=qN.getVolume(t[0].volumeId)){e.next=5;break}throw new Error("imageVolume with id: ".concat(o.volumeId," does not exist"));case 5:return this._useAcquisitionPlaneForViewPlane&&(this._setViewPlaneToAcquisitionPlane(o),this._useAcquisitionPlaneForViewPlane=!1),e.abrupt("return",Mg(Ys(n.prototype),"setVolumes",this).call(this,t,r,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addVolumes",value:function(){var e=ye(ve().mark((function e(t){var r,a,o,i=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],a=i.length>2&&void 0!==i[2]&&i[2],o=qN.getVolume(t[0].volumeId)){e.next=5;break}throw new Error("imageVolume with id: ".concat(o.volumeId," does not exist"));case 5:return this._useAcquisitionPlaneForViewPlane&&(this._setViewPlaneToAcquisitionPlane(o),this._useAcquisitionPlaneForViewPlane=!1),e.abrupt("return",Mg(Ys(n.prototype),"addVolumes",this).call(this,t,r,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setOrientation",value:function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(YN[e]){var a=YN[e];t=a.viewPlaneNormal,n=a.viewUp}else{if("acquisition"!==e)throw new Error("Invalid orientation: ".concat(e,". Use Enums.OrientationAxis instead."));var o=this._getAcquisitionPlaneOrientation();t=o.viewPlaneNormal,n=o.viewUp}this.setCamera({viewPlaneNormal:t,viewUp:n}),this.resetCamera(),r&&this.render()}},{key:"_getAcquisitionPlaneOrientation",value:function(){var e=this.getDefaultActor();if(e){var t=e.uid,n=qN.getVolume(t);if(!n)throw new Error("imageVolume with id: ".concat(t," does not exist in cache"));var r=n.direction;return{viewPlaneNormal:r.slice(6,9).map((function(e){return-e})),viewUp:r.slice(3,6).map((function(e){return-e}))}}}},{key:"_setViewPlaneToAcquisitionPlane",value:function(e){var t,n;if(e){var r=e.direction;t=r.slice(6,9).map((function(e){return-e})),n=r.slice(3,6).map((function(e){return-e}))}else{var a=this._getAcquisitionPlaneOrientation();t=a.viewPlaneNormal,n=a.viewUp}this.setCamera({viewPlaneNormal:t,viewUp:n}),this.resetCamera()}},{key:"setBlendMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getActors();t&&t.length>0&&(r=r.filter((function(e){return t.includes(e.uid)}))),r.forEach((function(t){t.actor.getMapper().setBlendMode(e)})),n&&this.render()}},{key:"resetCamera",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Mg(Ys(n.prototype),"resetCamera",this).call(this,t,r,a),this.resetVolumeViewportClippingRange();var o=this.getVtkActiveCamera(),i=o.getViewPlaneNormal(),s=o.getFocalPoint();return this.getActors().forEach((function(t){if(t.actor){var n=t.actor.getMapper();if(0===n.getClippingPlanes().length){var r=sM.newInstance(),a=sM.newInstance(),o=[r,a],l=QN.MINIMUM_SLAB_THICKNESS;t.slabThickness&&(l=t.slabThickness),e.setOrientationOfClippingPlanes(o,l,i,s),n.addClippingPlane(r),n.addClippingPlane(a)}}})),!0}},{key:"setSlabThickness",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.getActors();t&&t.length>0&&(n=n.filter((function(e){return t.includes(e.uid)}))),n.forEach((function(t){tB(t,"vtkVolume")&&(t.slabThickness=e)}));var r=this.getCamera();this.updateClippingPlanesForActors(r),this.triggerCameraModifiedEventIfNecessary(r,r)}},{key:"resetProperties",value:function(e){this._resetProperties(e)}},{key:"_resetProperties",value:function(e){var t=e?this.getActor(e):this.getDefaultActor();if(!t)throw new Error("No actor found for the given volumeId: ".concat(e));var n=qN.getVolume(t.uid);if(!n)throw new Error("imageVolume with id: ".concat(t.uid," does not exist in cache"));Jj(t.actor,n,!1);var r=t.actor.getProperty().getRGBTransferFunction(0).getMappingRange(),a={viewportId:t.uid,range:{lower:r[0],upper:r[1]},volumeId:t.uid};$w(this.element,Ww.VOI_MODIFIED,a)}}]),n}(SG),PG=TG;var OG={slice:0,customDisplayExtent:[0,0,0,0,0,0],useCustomExtents:!1,backgroundColor:[0,0,0,1]};var AG={extend:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,OG,n),qk.extend(e,t,n),iS.setGet(e,t,["slice","useCustomExtents"]),iS.setGetArray(e,t,["customDisplayExtent"],6),iS.setGetArray(e,t,["backgroundColor"],4),function(e,t){t.classHierarchy.push("vtkAbstractImageMapper"),e.getIsOpaque=function(){return!0},e.getCurrentImage=function(){return null}}(e,t)}};function EG(e,t,n){var r=n.getCurrentImage(),a=r.getExtent(),o=[a[0],a[2],a[4]],i=n.getClosestIJKAxis().ijkMode,s=n.isA("vtkImageArrayMapper")?n.getSubSlice():n.getSlice();i!==n.getSlicingMode()&&(s=n.getSliceAtPosition(s)),o[i]+=s;var l=[0,0,0];r.indexToWorld(o,l),o[i]+=1;var u=[0,0,0];r.indexToWorld(o,u),u[0]-=l[0],u[1]-=l[1],u[2]-=l[2],oA(u,u);var c=sM.intersectWithLine(e,t,l,u);if(c.intersection){var d=c.x,f=[0,0,0];return r.worldToIndex(d,f),{t:c.t,absoluteIJK:f}}return null}function IG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IG(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kG=I_.staticOffsetAPI,MG=I_.otherStaticMethods,_G=iS.vtkWarningMacro,DG=RD.SlicingMode;function LG(e,t){function n(){var n;switch(t.slicingMode){case DG.X:n=[1,0,0];break;case DG.Y:n=[0,1,0];break;case DG.Z:n=[0,0,1];break;default:return void(t.closestIJKAxis={ijkMode:t.slicingMode,flip:!1})}var r=[0,0,0];DT(e.getCurrentImage().getDirection(),n,r);for(var a=0,o=-1,i=!1,s=0;s<r.length;++s){var l=Math.abs(r[s]);l>a&&(a=l,i=r[s]<0,o=s)}if(1!==a){var u="IJKXYZ"[t.slicingMode],c="IJKXYZ"[o];_G("Unaccurate slicing along ".concat(u," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(c," axis  as a fallback (").concat(a,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}t.closestIJKAxis={ijkMode:o,flip:i}}t.classHierarchy.push("vtkImageMapper"),e.getSliceAtPosition=function(n){var r,a=e.getCurrentImage();if(3===n.length)r=n;else if(Number.isFinite(n)){var o=a.getBounds();switch(t.slicingMode){case DG.X:r=[n,(o[3]+o[2])/2,(o[5]+o[4])/2];break;case DG.Y:r=[(o[1]+o[0])/2,n,(o[5]+o[4])/2];break;case DG.Z:r=[(o[1]+o[0])/2,(o[3]+o[2])/2,n]}}var i=[0,0,0];a.worldToIndex(r,i);var s=a.getExtent(),l=0;switch(e.getClosestIJKAxis().ijkMode){case DG.I:l=wP(i[0],s[0],s[1]);break;case DG.J:l=wP(i[1],s[2],s[3]);break;case DG.K:l=wP(i[2],s[4],s[5]);break;default:return 0}return l},e.setSliceFromCamera=function(n){var r=n.getFocalPoint();switch(t.slicingMode){case DG.I:case DG.J:case DG.K:var a=e.getSliceAtPosition(r);e.setSlice(a);break;case DG.X:e.setSlice(r[0]);break;case DG.Y:e.setSlice(r[1]);break;case DG.Z:e.setSlice(r[2])}},e.setXSlice=function(t){e.setSlicingMode(DG.X),e.setSlice(t)},e.setYSlice=function(t){e.setSlicingMode(DG.Y),e.setSlice(t)},e.setZSlice=function(t){e.setSlicingMode(DG.Z),e.setSlice(t)},e.setISlice=function(t){e.setSlicingMode(DG.I),e.setSlice(t)},e.setJSlice=function(t){e.setSlicingMode(DG.J),e.setSlice(t)},e.setKSlice=function(t){e.setSlicingMode(DG.K),e.setSlice(t)},e.getSlicingModeNormal=function(){var n=[0,0,0],r=e.getCurrentImage().getDirection(),a=[[r[0],r[1],r[2]],[r[3],r[4],r[5]],[r[6],r[7],r[8]]];switch(t.slicingMode){case DG.X:n[0]=1;break;case DG.Y:n[1]=1;break;case DG.Z:n[2]=1;break;case DG.I:DT(a,[1,0,0],n);break;case DG.J:DT(a,[0,1,0],n);break;case DG.K:DT(a,[0,0,1],n)}return n},e.setSlicingMode=function(r){t.slicingMode!==r&&(t.slicingMode=r,e.getCurrentImage()&&n(),e.modified())},e.getClosestIJKAxis=function(){return void 0!==t.closestIJKAxis&&t.closestIJKAxis.ijkMode!==DG.NONE||!e.getCurrentImage()||n(),t.closestIJKAxis},e.getBounds=function(){var n=e.getCurrentImage();if(!n)return VP();if(!t.useCustomExtents)return n.getBounds();var r=t.customDisplayExtent.slice(),a=e.getClosestIJKAxis().ijkMode,o=t.slice;switch(a!==t.slicingMode&&(o=e.getSliceAtPosition(t.slice)),a){case DG.I:r[0]=o,r[1]=o;break;case DG.J:r[2]=o,r[3]=o;break;case DG.K:r[4]=o,r[5]=o}return n.extentToBounds(r)},e.getBoundsForSlice=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.slice,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.getCurrentImage();if(!a)return VP();var o=a.getSpatialExtent(),i=e.getClosestIJKAxis().ijkMode,s=n;switch(i!==t.slicingMode&&(s=e.getSliceAtPosition(n)),i){case DG.I:o[0]=s-r,o[1]=s+r;break;case DG.J:o[2]=s-r,o[3]=s+r;break;case DG.K:o[4]=s-r,o[5]=s+r}return a.extentToBounds(o)},e.intersectWithLineForPointPicking=function(t,n){return function(e,t,n){var r=EG(e,t,n);if(r){var a=n.getCurrentImage().getExtent(),o=[Math.round(r.absoluteIJK[0]),Math.round(r.absoluteIJK[1]),Math.round(r.absoluteIJK[2])];return o[0]<a[0]||o[0]>a[1]||o[1]<a[2]||o[1]>a[3]||o[2]<a[4]||o[2]>a[5]?null:{t:r.t,ijk:o}}return null}(t,n,e)},e.intersectWithLineForCellPicking=function(t,n){return function(e,t,n){var r=EG(e,t,n);if(r){var a=n.getCurrentImage().getExtent(),o=r.absoluteIJK,i=[Math.floor(o[0]),Math.floor(o[1]),Math.floor(o[2])];if(i[0]<a[0]||i[0]>a[1]-1||i[1]<a[2]||i[1]>a[3]-1||i[2]<a[4]||i[2]>(a[5]?a[5]-1:a[5]))return null;var s=[o[0]-i[0],o[1]-i[1],o[2]-i[2]];return{t:r.t,ijk:i,pCoords:s}}return null}(t,n,e)},e.getCurrentImage=function(){return e.getInputData()}}var VG={slicingMode:DG.NONE,closestIJKAxis:{ijkMode:DG.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1,preferSizeOverAccuracy:!1};function NG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,VG,n),AG.extend(e,t,n),iS.get(e,t,["slicingMode"]),iS.setGet(e,t,["closestIJKAxis","renderToRectangle","sliceAtFocalPoint","preferSizeOverAccuracy"]),I_.implementCoincidentTopologyMethods(e,t),LG(e,t)}var BG=RG(RG(RG({newInstance:iS.newInstance(NG,"vtkImageMapper"),extend:NG},kG),MG),RD),FG=MD.InterpolationType,UG=iS.vtkErrorMacro,jG=4;var GG={independentComponents:!1,interpolationType:FG.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1};function zG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,GG,n),iS.obj(e,t),!t.componentData){t.componentData=[];for(var r=0;r<jG;r++)t.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}iS.setGet(e,t,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange"]),function(e,t){t.classHierarchy.push("vtkImageProperty"),e.getMTime=function(){for(var e,n=t.mtime,r=0;r<jG;r++)t.componentData[r].rGBTransferFunction&&(n=n>(e=t.componentData[r].rGBTransferFunction.getMTime())?n:e),t.componentData[r].piecewiseFunction&&(n=n>(e=t.componentData[r].piecewiseFunction.getMTime())?n:e);return n},e.setRGBTransferFunction=function(n,r){var a=n,o=r;return Number.isInteger(n)||(o=n,a=0),t.componentData[a].rGBTransferFunction!==o&&(t.componentData[a].rGBTransferFunction=o,e.modified(),!0)},e.getRGBTransferFunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.componentData[e].rGBTransferFunction},e.setPiecewiseFunction=function(n,r){var a=n,o=r;return Number.isInteger(n)||(o=n,a=0),t.componentData[a].piecewiseFunction!==o&&(t.componentData[a].piecewiseFunction=o,e.modified(),!0)},e.getPiecewiseFunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.componentData[e].piecewiseFunction},e.setScalarOpacity=function(t,n){var r=t,a=n;return Number.isInteger(t)||(a=t,r=0),e.setPiecewiseFunction(r,a)},e.getScalarOpacity=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.getPiecewiseFunction(t)},e.setComponentWeight=function(n,r){if(n<0||n>=jG)return UG("Invalid index"),!1;var a=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight!==a&&(t.componentData[n].componentWeight=a,e.modified(),!0)},e.getComponentWeight=function(e){return e<0||e>=jG?(UG("Invalid index"),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=function(){return e.setInterpolationType(FG.NEAREST)},e.setInterpolationTypeToLinear=function(){return e.setInterpolationType(FG.LINEAR)},e.getInterpolationTypeAsString=function(){return iS.enumToString(FG,t.interpolationType)}}(e,t)}var WG={newInstance:iS.newInstance(zG,"vtkImageProperty"),extend:zG},HG=iS.vtkDebugMacro;var KG={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function qG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,KG,n),_N.extend(e,t,n),t.boundsMTime={},iS.obj(t.boundsMTime),iS.set(e,t,["property"]),iS.setGet(e,t,["mapper"]),iS.getArray(e,t,["bounds"],6),function(e,t){t.classHierarchy.push("vtkImageSlice"),e.getActors=function(){return e},e.getImages=function(){return e},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return!1},e.makeProperty=WG.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n,r=t.mapper.getBounds();if(!r||6!==r.length)return r;if(r[0]>r[1])return t.mapperBounds=r.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),r;if(!t.mapperBounds||!(n=[r,t.mapperBounds],n[0].map((function(e,t){return n.map((function(e){return e[t]}))}))).reduce((function(e,t){return e&&t[0]===t[1]}),!0)||e.getMTime()>t.boundsMTime.getMTime()){HG("Recomputing bounds..."),t.mapperBounds=r.map((function(e){return e}));var a=[];WM.getCorners(r,a),e.computeMatrix();var o=new Float64Array(16);NA(o,t.matrix),a.forEach((function(e){return fA(e,e,o)})),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((function(e,t){return t%2===0?a.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):a.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),t.boundsMTime.modified()}return t.bounds},e.getBoundsForSlice=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.mapper.getBoundsForSlice(n,r);if(!a||6!==a.length)return a;if(a[0]>a[1])return a;var o=[];WM.getCorners(a,o),e.computeMatrix();var i=new Float64Array(16);NA(i,t.matrix),o.forEach((function(e){return fA(e,e,i)}));var s=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return s=s.map((function(e,t){return t%2===0?o.reduce((function(e,n){return e>n[t/2]?n[t/2]:e}),e):o.reduce((function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e}),e)})),s},e.getMinXBound=function(){return e.getBounds(),t.bounds[0]},e.getMaxXBound=function(){return e.getBounds(),t.bounds[1]},e.getMinYBound=function(){return e.getBounds(),t.bounds[2]},e.getMaxYBound=function(){return e.getBounds(),t.bounds[3]},e.getMinZBound=function(){return e.getBounds(),t.bounds[4]},e.getMaxZBound=function(){return e.getBounds(),t.bounds[5]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(n=t.mapper.getInput().getMTime())>e?n:e)}if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e,null!==t.property.getRGBTransferFunction()&&(e=(r=t.property.getRGBTransferFunction().getMTime())>e?r:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}(e,t)}var XG={newInstance:iS.newInstance(qG,"vtkImageSlice"),extend:qG};function YG(e,t,n){return Math.abs(e-t)<=n}function $G(e){return"number"===typeof e}function ZG(e){return"length"in e&&"number"===typeof e[0]}function QG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return typeof e===typeof t&&null!==e&&null!==t&&($G(e)&&$G(t)?YG(e,t,n):!(!ZG(e)||!ZG(t))&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!YG(e[r],t[r],n))return!1;return!0}(e,t,n))}function JG(){return window.performance?performance.now():Date.now()}function ez(e,t,n){return n?function(e){var t=Math.max.apply(Math,Re(e.lut)).toString(2).length-8,n=e.lut[0]>>t,r=e.lut[e.lut.length-1]>>t,a=e.firstValueMapped+e.lut.length-1;return function(o){return o<e.firstValueMapped?n:o>=a?r:e.lut[o-e.firstValueMapped]>>t}}(n):function(e,t){return function(n){var r=255*((n-(t-.5))/(e-1)+.5);return Math.min(Math.max(r,0),255)}}(e,t)}var tz=function(){function e(){os(this,e),this.reset()}return ss(e,[{key:"getMatrix",value:function(){return this.m}},{key:"reset",value:function(){this.m=[1,0,0,1,0,0]}},{key:"clone",value:function(){var t=new e;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t}},{key:"multiply",value:function(e){var t=this.m[0]*e[0]+this.m[2]*e[1],n=this.m[1]*e[0]+this.m[3]*e[1],r=this.m[0]*e[2]+this.m[2]*e[3],a=this.m[1]*e[2]+this.m[3]*e[3],o=this.m[0]*e[4]+this.m[2]*e[5]+this.m[4],i=this.m[1]*e[4]+this.m[3]*e[5]+this.m[5];this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=o,this.m[5]=i}},{key:"invert",value:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,a=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),i=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=o,this.m[5]=i}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,a=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,i=this.m[1]*-n+this.m[3]*t;this.m[0]=r,this.m[1]=a,this.m[2]=o,this.m[3]=i}},{key:"translate",value:function(e,t){this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t}},{key:"scale",value:function(e,t){this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t}},{key:"transformPoint",value:function(e){var t=e[0],n=e[1];return[t*this.m[0]+n*this.m[2]+this.m[4],t*this.m[1]+n*this.m[3]+this.m[5]]}}]),e}();function nz(e,t){var n=new tz;if(!e.viewport.displayedArea)return n;n.translate(e.canvas.width/2,e.canvas.height/2);var r=e.viewport.rotation;0!==r&&n.rotate(r*Math.PI/180);var a=e.viewport.scale,o=e.viewport.scale,i=e.viewport.displayedArea.brhc.x-(e.viewport.displayedArea.tlhc.x-1),s=e.viewport.displayedArea.brhc.y-(e.viewport.displayedArea.tlhc.y-1);if("NONE"===e.viewport.displayedArea.presentationSizeMode)e.image.rowPixelSpacing<e.image.columnPixelSpacing?a*=e.image.columnPixelSpacing/e.image.rowPixelSpacing:e.image.columnPixelSpacing<e.image.rowPixelSpacing&&(o*=e.image.rowPixelSpacing/e.image.columnPixelSpacing);else if(a=e.viewport.displayedArea.columnPixelSpacing,o=e.viewport.displayedArea.rowPixelSpacing,"SCALE TO FIT"===e.viewport.displayedArea.presentationSizeMode){var l=e.canvas.height/(s*o),u=e.canvas.width/(i*a);a=o=Math.min(u,l),e.viewport.displayedArea.rowPixelSpacing<e.viewport.displayedArea.columnPixelSpacing?a*=e.viewport.displayedArea.columnPixelSpacing/e.viewport.displayedArea.rowPixelSpacing:e.viewport.displayedArea.columnPixelSpacing<e.viewport.displayedArea.rowPixelSpacing&&(o*=e.viewport.displayedArea.rowPixelSpacing/e.viewport.displayedArea.columnPixelSpacing)}return n.scale(a,o),0!==r&&n.rotate(-r*Math.PI/180),n.translate(e.viewport.translation.x,e.viewport.translation.y),0!==r&&n.rotate(r*Math.PI/180),void 0!==t&&n.scale(t,t),e.viewport.hflip&&n.scale(-1,1),e.viewport.vflip&&n.scale(1,-1),n.translate(-i/2,-s/2),n}function rz(e,t,n){if(void 0===e)throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined");if(void 0===t)throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined");var r=nz(e,n).getMatrix();t.setTransform(r[0],r[1],r[2],r[3],r[4],r[5])}function az(e,t){var n=e.renderingTools.lastRenderedImageId,r=e.renderingTools.lastRenderedViewport;return t.imageId!==n||!r||r.windowCenter!==e.viewport.voi.windowCenter||r.windowWidth!==e.viewport.voi.windowWidth||r.invert!==e.viewport.invert||r.rotation!==e.viewport.rotation||r.hflip!==e.viewport.hflip||r.vflip!==e.viewport.vflip||r.modalityLUT!==e.viewport.modalityLUT||r.voiLUT!==e.viewport.voiLUT||r.colormap!==e.viewport.colormap}function oz(e,t){var n=e.renderingTools.renderCanvas;n.width=t.width,n.height=t.height;var r=n.getContext("2d");r.fillStyle="white",r.fillRect(0,0,n.width,n.height);var a=r.getImageData(0,0,t.width,t.height);e.renderingTools.renderCanvasContext=r,e.renderingTools.renderCanvasData=a}function iz(e){var t=e.image.imageId,n=e.viewport,r=e.image.color;return e.renderingTools.lastRenderedImageId=t,e.renderingTools.lastRenderedIsColor=r,e.renderingTools.lastRenderedViewport={windowCenter:n.voi.windowCenter,windowWidth:n.voi.windowWidth,invert:n.invert,rotation:n.rotation,hflip:n.hflip,vflip:n.vflip,modalityLUT:n.modalityLUT,voiLUT:n.voiLUT,colormap:n.colormap},e.renderingTools}function sz(e,t){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&e.cachedLut.invert===t.invert||(function(e,t,n,r,a){var o=e.maxPixelValue,i=e.minPixelValue,s=Math.min(i,0);if(void 0===e.cachedLut){var l=o-s+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(l)}var u=e.cachedLut.lutArray,c=ez(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n,a);if(!0===r)for(var d=i;d<=o;d++)u[d+-s]=255-c(d);else for(var f=i;f<=o;f++)u[f+-s]=c(f)}(e,t.voi.windowWidth,t.voi.windowCenter,t.invert),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert),e.cachedLut.lutArray}function lz(e,t,n){var r=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&r||(e.renderingTools.renderCanvas=document.createElement("canvas"));var a=e.renderingTools.renderCanvas,o=e.viewport.voi,i=o.windowWidth,s=o.windowCenter;if((256===i||255===i)&&(128===s||127===s)&&!1===e.viewport.invert&&t.getCanvas&&t.getCanvas())return t.getCanvas();if(!1===az(e,t)&&!0!==n)return a;a.width===t.width&&a.height===t.height||oz(e,t);var l=JG(),u=sz(t,e.viewport);t.stats=t.stats||{},t.stats.lastLutGenerateTime=JG()-l;var c=e.renderingTools.renderCanvasData,d=e.renderingTools.renderCanvasContext;return t.rgba?function(e,t,n){var r=JG(),a=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-r;var o=e.minPixelValue,i=0,s=0,l=a.length;if(r=JG(),o<0)for(;s<l;)n[i++]=t[a[s++]+-o],n[i++]=t[a[s++]+-o],n[i++]=t[a[s++]+-o],n[i++]=a[s++];else for(;s<l;)n[i++]=t[a[s++]],n[i++]=t[a[s++]],n[i++]=t[a[s++]],n[i++]=a[s++];e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-r}(t,u,c.data):function(e,t,n){var r=JG(),a=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-r;var o=e.minPixelValue,i=0,s=0,l=a.length;if(r=JG(),o<0)for(;s<l;)n[i++]=t[a[s++]+-o],n[i++]=t[a[s++]+-o],n[i]=t[a[s]+-o],s+=2,i+=2;else for(;s<l;)n[i++]=t[a[s++]],n[i++]=t[a[s++]],n[i]=t[a[s]],s+=2,i+=2;e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-r}(t,u,c.data),l=JG(),d.putImageData(c,0,0),t.stats.lastPutImageDataTime=JG()-l,a}function uz(e,t){if(void 0===e)throw new Error("renderColorImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("renderColorImage: image must be loaded before it can be drawn");var r=e.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,e.canvas.width,e.canvas.height),r.imageSmoothingEnabled=!e.viewport.pixelReplication,rz(e,r);var a=lz(e,n,t),o=e.viewport.displayedArea.tlhc.x-1,i=e.viewport.displayedArea.tlhc.y-1,s=e.viewport.displayedArea.brhc.x-o,l=e.viewport.displayedArea.brhc.y-i;r.drawImage(a,o,i,s,l,0,0,s,l),e.renderingTools=iz(e)}function cz(e,t){if(!function(e){var t=e.voiLUT&&e.voiLUT.lut&&e.voiLUT.lut.length>0;return t||void 0!==e.voi.windowWidth&&void 0!==e.voi.windowCenter}(e)){var n=t.maxPixelValue*t.slope+t.intercept,r=t.minPixelValue*t.slope+t.intercept,a=n-r,o=(n+r)/2;void 0===e.voi?e.voi={windowWidth:a,windowCenter:o}:(e.voi.windowWidth=a,e.voi.windowCenter=o)}}function dz(e,t){return!e&&!t||!(!e||!t)&&e.id===t.id}function fz(e,t,n){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&dz(e.cachedLut.modalityLUT,t.modalityLUT)&&dz(e.cachedLut.voiLUT,t.voiLUT)&&e.cachedLut.invert===t.invert&&!0!==n||(cz(t,e),function(e,t,n,r,a,o){var i=e.maxPixelValue,s=e.minPixelValue,l=Math.min(s,0);if(void 0===e.cachedLut){var u=i-l+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(u)}var c=e.cachedLut.lutArray,d=function(e,t,n){return n?function(e){var t=e.lut[0],n=e.lut[e.lut.length-1],r=e.firstValueMapped+e.lut.length;return function(a){return a<e.firstValueMapped?t:a>=r?n:e.lut[a]}}(n):function(e,t){return function(n){return n*e+t}}(e,t)}(e.slope,e.intercept,a),f=ez(t,n,o);if(e.isPreScaled)if(!0===r)for(var p=s;p<=i;p++)c[p+-l]=255-f(p);else for(var m=s;m<=i;m++)c[m+-l]=f(m);else if(!0===r)for(var g=s;g<=i;g++)c[g+-l]=255-f(d(g));else for(var v=s;v<=i;v++)c[v+-l]=f(d(v))}(e,t.voi.windowWidth,t.voi.windowCenter,t.invert,t.modalityLUT,t.voiLUT),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert,e.cachedLut.voiLUT=t.voiLUT,e.cachedLut.modalityLUT=t.modalityLUT),e.cachedLut.lutArray}function pz(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&!a||(e.renderingTools.renderCanvas=document.createElement("canvas"),oz(e,t));var o=e.renderingTools.renderCanvas;if(!1===az(e,t)&&!0!==n)return o;o.width===t.width&&o.height===t.height||oz(e,t),t.stats=t.stats||{};var i=e.renderingTools.renderCanvasData,s=e.renderingTools.renderCanvasContext,l=JG();t.stats.lastLutGenerateTime=JG()-l;var u=e.viewport;if("PT"===u.modality&&t.isPreScaled){var c=u.voi,d=c.windowWidth,f=c.windowCenter,p=f-d/2,m=255/(f+d/2-p);(function(e,t,n){var r=JG(),a=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-r;var o=a.length,i=3,s=0;for(r=JG();s<o;)n[i]=t(a[s++]),i+=4;e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-r})(t,u.invert?function(e){return 255-(e-p)*m}:function(e){return(e-p)*m},i.data)}else{var g=fz(t,u,n);r?function(e,t,n){var r=JG(),a=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-r;var o=a.length,i=e.minPixelValue,s=3,l=0;if(r=JG(),a instanceof Int16Array)if(i<0)for(;l<o;)n[s]=t[a[l++]+-i],s+=4;else for(;l<o;)n[s]=t[a[l++]],s+=4;else if(a instanceof Uint16Array)for(;l<o;)n[s]=t[a[l++]],s+=4;else if(i<0)for(;l<o;)n[s]=t[a[l++]+-i],s+=4;else for(;l<o;)n[s]=t[a[l++]],s+=4;e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-r}(t,g,i.data):function(e,t,n){var r=JG(),a=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-r;var o,i=a.length,s=e.minPixelValue,l=0,u=0;if(r=JG(),a instanceof Int16Array)if(s<0)for(;u<i;)o=t[a[u++]+-s],n[l++]=o,n[l++]=o,n[l++]=o,n[l++]=255;else for(;u<i;)o=t[a[u++]],n[l++]=o,n[l++]=o,n[l++]=o,n[l++]=255;else if(a instanceof Uint16Array)for(;u<i;)o=t[a[u++]],n[l++]=o,n[l++]=o,n[l++]=o,n[l++]=255;else if(s<0)for(;u<i;)o=t[a[u++]+-s],n[l++]=o,n[l++]=o,n[l++]=o,n[l++]=255;else for(;u<i;)o=t[a[u++]],n[l++]=o,n[l++]=o,n[l++]=o,n[l++]=255;e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-r}(t,g,i.data)}return l=JG(),s.putImageData(i,0,0),t.stats.lastPutImageDataTime=JG()-l,o}function mz(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("drawImage: image must be loaded before it can be drawn");var r=e.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,e.canvas.width,e.canvas.height),r.imageSmoothingEnabled=!e.viewport.pixelReplication,rz(e,r);var a=pz(e,n,t),o=e.viewport.displayedArea.tlhc.x-1,i=e.viewport.displayedArea.tlhc.y-1,s=e.viewport.displayedArea.brhc.x-o,l=e.viewport.displayedArea.brhc.y-i;r.drawImage(a,o,i,s,l,0,0,s,l),e.renderingTools=iz(e)}function gz(e,t,n){if(e>1)throw new Error("HSVToRGB expects hue < 1");var r=[];if(0===t)return r[0]=n,r[1]=n,r[2]=n,r;var a=Math.floor(6*e),o=6*e-a,i=n*(1-t),s=n*(1-t*o),l=n*(1-t*(1-o));switch(a){case 0:case 6:r[0]=n,r[1]=l,r[2]=i;break;case 1:r[0]=s,r[1]=n,r[2]=i;break;case 2:r[0]=i,r[1]=n,r[2]=l;break;case 3:r[0]=i,r[1]=s,r[2]=n;break;case 4:r[0]=l,r[1]=i,r[2]=n;break;case 5:r[0]=n,r[1]=i,r[2]=s}return r}var vz=function(){function e(){os(this,e),this.NumberOfColors=256,this.Ramp="linear",this.TableRange=[0,255],this.HueRange=[0,.66667],this.SaturationRange=[1,1],this.ValueRange=[1,1],this.AlphaRange=[1,1],this.NaNColor=[128,0,0,255],this.BelowRangeColor=[0,0,0,255],this.UseBelowRangeColor=!0,this.AboveRangeColor=[255,255,255,255],this.UseAboveRangeColor=!0,this.InputRange=[0,255],this.Table=[]}return ss(e,[{key:"setNumberOfTableValues",value:function(e){this.NumberOfColors=e}},{key:"setRamp",value:function(e){this.Ramp=e}},{key:"setTableRange",value:function(e,t){this.TableRange[0]=e,this.TableRange[1]=t}},{key:"setHueRange",value:function(e,t){this.HueRange[0]=e,this.HueRange[1]=t}},{key:"setSaturationRange",value:function(e,t){this.SaturationRange[0]=e,this.SaturationRange[1]=t}},{key:"setValueRange",value:function(e,t){this.ValueRange[0]=e,this.ValueRange[1]=t}},{key:"setRange",value:function(e,t){this.InputRange[0]=e,this.InputRange[1]=t}},{key:"setAlphaRange",value:function(e,t){this.AlphaRange[0]=e,this.AlphaRange[1]=t}},{key:"getColor",value:function(e){return this.mapValue(e)}},{key:"build",value:function(e){if(!(this.Table.length>1)||e){this.Table=[];var t,n,r,a,o=this.NumberOfColors-1;o?(t=(this.HueRange[1]-this.HueRange[0])/o,n=(this.SaturationRange[1]-this.SaturationRange[0])/o,r=(this.ValueRange[1]-this.ValueRange[0])/o,a=(this.AlphaRange[1]-this.AlphaRange[0])/o):t=n=r=a=0;for(var i=0;i<=o;i++){var s=this.HueRange[0]+i*t,l=this.SaturationRange[0]+i*n,u=this.ValueRange[0]+i*r,c=this.AlphaRange[0]+i*a,d=gz(s,l,u),f=[0,0,0,0];switch(this.Ramp){case"scurve":f[0]=Math.floor(127.5*(1+Math.cos((1-d[0])*Math.PI))),f[1]=Math.floor(127.5*(1+Math.cos((1-d[1])*Math.PI))),f[2]=Math.floor(127.5*(1+Math.cos((1-d[2])*Math.PI))),f[3]=Math.floor(255*c);break;case"linear":f[0]=Math.floor(255*d[0]+.5),f[1]=Math.floor(255*d[1]+.5),f[2]=Math.floor(255*d[2]+.5),f[3]=Math.floor(255*c+.5);break;case"sqrt":f[0]=Math.floor(255*Math.sqrt(d[0])+.5),f[1]=Math.floor(255*Math.sqrt(d[1])+.5),f[2]=Math.floor(255*Math.sqrt(d[2])+.5),f[3]=Math.floor(255*Math.sqrt(c)+.5);break;default:throw new Error("Invalid Ramp value (".concat(this.Ramp,")"))}this.Table.push(f)}this.buildSpecialColors()}}},{key:"buildSpecialColors",value:function(){var e=this.NumberOfColors,t=e+0,n=e+1,r=e+2;this.UseBelowRangeColor||0===e?this.Table[t]=this.BelowRangeColor:this.Table[t]=this.Table[0],this.UseAboveRangeColor||0===e?this.Table[n]=this.AboveRangeColor:this.Table[n]=this.Table[e-1],this.Table[r]=this.NaNColor}},{key:"mapValue",value:function(e){var t=this.getIndex(e);if(t<0)return this.NaNColor;if(0===t){if(this.UseBelowRangeColor&&e<this.TableRange[0])return this.BelowRangeColor}else if(t===this.NumberOfColors-1&&this.UseAboveRangeColor&&e>this.TableRange[1])return this.AboveRangeColor;return this.Table[t]}},{key:"getIndex",value:function(e){var t={Range:[],MaxIndex:this.NumberOfColors-1,Shift:-this.TableRange[0],Scale:1};if(this.TableRange[1]<=this.TableRange[0]?t.Scale=Number.MAX_VALUE:t.Scale=t.MaxIndex/(this.TableRange[1]-this.TableRange[0]),t.Range[0]=this.TableRange[0],t.Range[1]=this.TableRange[1],isNaN(e))return-1;var n=function(e,t){var n;return n=e<t.Range[0]?t.MaxIndex+0+1.5:e>t.Range[1]?t.MaxIndex+1+1.5:(e+t.Shift)*t.Scale,Math.floor(n)}(e,t);return n===this.NumberOfColors+0?n=0:n===this.NumberOfColors+1&&(n=this.NumberOfColors-1),n}},{key:"setTableValue",value:function(e,t){if(5===arguments.length&&(t=Array.prototype.slice.call(arguments,1)),e<0)throw new Error("Can't set the table value for negative index (".concat(e,")"));e>=this.NumberOfColors&&new Error("Index ".concat(e," is greater than the number of colors ").concat(this.NumberOfColors)),this.Table[e]=t,0!==e&&e!==this.NumberOfColors-1||this.buildSpecialColors()}}]),e}(),hz=vz;var yz=function(e,t,n,r){var a=JG(),o=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-a;var i,s,l=o.length,u=e.minPixelValue,c=0,d=0;if(a=JG(),s=n instanceof hz?n.Table:n,u<0)for(;d<l;)i=s[t[o[d++]+-u]],r[c++]=i[0],r[c++]=i[1],r[c++]=i[2],r[c++]=i[3];else for(;d<l;)i=s[t[o[d++]]],r[c++]=i[0],r[c++]=i[1],r[c++]=i[2],r[c++]=i[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-a};var bz=function(e,t,n,r){var a=JG(),o=e.getPixelData();e.stats.lastGetPixelDataTime=JG()-a;var i,s,l=o.length,u=e.minPixelValue,c=0,d=0;if(a=JG(),s=n instanceof hz?n.Table:n,u<0)for(;d<l;)i=s[t(o[d++]+-u)],r[c++]=i[0],r[c++]=i[1],r[c++]=i[2],r[c++]=i[3];else for(;d<l;)i=s[t(o[d++])],r[c++]=i[0],r[c++]=i[1],r[c++]=i[2],r[c++]=i[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=JG()-a},xz={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}},wz=[0,0,0,0];function Cz(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+Math.floor((r-n)/2),o=e[a];if(o===t)return a;t<o?r=a-1:n=a+1}return n}function Sz(e,t,n){var r,a=[],o=[],i=[],s=[];for(n=null===n?1:n,r=0;r<t.length;r++){var l=t[r];a.push((e-1)*l[0]),o.push(l[1]),i.push(l[1])}var u=function(e,t,n){for(var r=(t-e)/((n=null===n?100:n)-1),a=[];n-- >0;)a.push(e),e+=r;return a[a.length-1]=t,a}(0,1,e);for(r=0;r<e;r++)u[r]=(e-1)*Math.pow(u[r],n);var c=function(e,t){var n,r=[],a=t.length;for(e.sort((function(e,t){return e-t})),n=0;n<a;n++)r[n]=Cz(e,t[n]);return r}(a,u);for(r=1;r<e-1;r++){var d=c[r],f=(u[r]-a[d-1])/(a[d]-a[d-1]),p=o[d]-i[d-1];s[r]=f*p+i[d-1]}return s[0]=i[0],s[e-1]=o[t.length-1],s}function Tz(e,t){var n=xz[e];n||(n=xz[e]=t||{name:"",colors:[]}),!n.colors&&n.segmentedData&&(n.colors=function(e,t,n){var r,a=[];n=null===n?1:n;var o=Sz(t=null===t?256:t,e.red,n),i=Sz(t,e.green,n),s=Sz(t,e.blue,n);for(r=0;r<t;r++){var l=[Math.round(255*o[r]),Math.round(255*i[r]),Math.round(255*s[r]),255];a.push(l)}return a}(n.segmentedData,n.numColors,n.gamma));var r={getId:function(){return e},getColorSchemeName:function(){return n.name},setColorSchemeName:function(e){n.name=e},getNumberOfColors:function(){return n.colors.length},setNumberOfColors:function(e){for(;n.colors.length<e;)n.colors.push(wz);n.colors.length=e},getColor:function(e){return this.isValidIndex(e)?n.colors[e]:wz},getColorRepeating:function(e){var t=n.colors.length;return e=t?e%t:0,this.getColor(e)},setColor:function(e,t){this.isValidIndex(e)&&(n.colors[e]=t)},addColor:function(e){n.colors.push(e)},insertColor:function(e,t){this.isValidIndex(e)&&n.colors.splice(e,1,t)},removeColor:function(e){this.isValidIndex(e)&&n.colors.splice(e,1)},clearColors:function(){n.colors=[]},buildLookupTable:function(e){if(e){var t=n.colors.length;e.setNumberOfTableValues(t);for(var r=0;r<t;r++)e.setTableValue(r,n.colors[r])}},createLookupTable:function(){var e=new hz;return this.buildLookupTable(e),e},isValidIndex:function(e){return e>=0&&e<n.colors.length}};return r}function Pz(e,t,n){return Math.max(t,Math.min(n,e))}function Oz(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("drawImage: image must be loaded before it can be drawn");var r=e.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,e.canvas.width,e.canvas.height),r.imageSmoothingEnabled=!e.viewport.pixelReplication,rz(e,r);var a=function(e,t,n){e.renderingTools.renderCanvas||(e.renderingTools.renderCanvas=document.createElement("canvas"));var r=e.renderingTools.renderCanvas,a=e.viewport.colormap||e.options.colormap;if(e.options&&e.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),a&&"string"===typeof a&&(a=Tz(a)),!a)throw new Error("renderPseudoColorImage: colormap not found.");var o=a.getId();if(!1===az(e,t)&&!0!==n&&e.renderingTools.colormapId===o)return r;r.width===t.width&&r.height===t.height||oz(e,t);var i=JG();e.renderingTools.colorLUT&&!n&&e.renderingTools.colormapId===o||(a.setNumberOfColors(256),e.renderingTools.colorLUT=a.createLookupTable(),e.renderingTools.colormapId=o);var s=e.renderingTools.renderCanvasData,l=e.renderingTools.renderCanvasContext,u=e.viewport,c=e.renderingTools.colorLUT;if("PT"===u.modality){var d,f=u.voi,p=f.windowWidth,m=f.windowCenter,g=m-p/2,v=255/(m+p/2-g);d=u.invert?function(e){return Pz(Math.floor(255-(e-g)*v),0,255)}:function(e){return Pz(Math.floor((e-g)*v),0,255)},bz(t,d,c,s.data)}else{var h=fz(t,e.viewport,n);t.stats=t.stats||{},t.stats.lastLutGenerateTime=JG()-i,yz(t,h,c,s.data)}return i=JG(),l.putImageData(s,0,0),t.stats.lastPutImageDataTime=JG()-i,r}(e,n,t),o=e.viewport.displayedArea.tlhc.x-1,i=e.viewport.displayedArea.tlhc.y-1,s=e.viewport.displayedArea.brhc.x-o,l=e.viewport.displayedArea.brhc.y-i;r.drawImage(a,o,i,s,l,0,0,s,l),e.renderingTools=iz(e)}var Az=function(){function e(t){os(this,e),this.numRequests={interaction:0,thumbnail:0,prefetch:0},this.id=t||Zw(),this.requestPool={interaction:{0:[]},thumbnail:{0:[]},prefetch:{0:[]}},this.grabDelay=5,this.awake=!1,this.numRequests={interaction:0,thumbnail:0,prefetch:0},this.maxNumRequests={interaction:6,thumbnail:6,prefetch:5}}return ss(e,[{key:"setMaxSimultaneousRequests",value:function(e,t){this.maxNumRequests[e]=t}},{key:"getMaxSimultaneousRequests",value:function(e){return this.maxNumRequests[e]}},{key:"destroy",value:function(){this.timeoutHandle&&window.clearTimeout(this.timeoutHandle)}},{key:"addRequest",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={requestFn:e,type:t,additionalDetails:n};void 0===this.requestPool[t][r]&&(this.requestPool[t][r]=[]),this.requestPool[t][r].push(a),this.awake?t===Wj.Interaction&&this.startGrabbing():(this.awake=!0,this.startGrabbing())}},{key:"filterRequests",value:function(e){var t=this;Object.keys(this.requestPool).forEach((function(n){var r=t.requestPool[n];Object.keys(r).forEach((function(t){r[t]=r[t].filter((function(t){return e(t)}))}))}))}},{key:"clearRequestStack",value:function(e){if(!this.requestPool[e])throw new Error("No category for the type ".concat(e," found"));this.requestPool[e]={0:[]}}},{key:"sendRequests",value:function(e){for(var t=this,n=this.maxNumRequests[e]-this.numRequests[e],r=0;r<n;r++){var a=this.getNextRequest(e);if(null===a)return!1;a&&(this.numRequests[e]++,this.awake=!0,a.requestFn().finally((function(){t.numRequests[e]--,t.startAgain()})))}return!0}},{key:"getNextRequest",value:function(e){var t,n=ke(this.getSortedPriorityGroups(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.requestPool[e][r].length)return this.requestPool[e][r].shift()}}catch(wJ){n.e(wJ)}finally{n.f()}return null}},{key:"startGrabbing",value:function(){var e=this.sendRequests(Wj.Interaction),t=this.sendRequests(Wj.Thumbnail),n=this.sendRequests(Wj.Prefetch);e||t||n||(this.awake=!1)}},{key:"startAgain",value:function(){var e=this;this.awake&&(void 0!==this.grabDelay?this.timeoutHandle||(this.timeoutHandle=window.setTimeout((function(){e.timeoutHandle=null,e.startGrabbing()}),this.grabDelay)):this.startGrabbing())}},{key:"getSortedPriorityGroups",value:function(e){var t=this,n=Object.keys(this.requestPool[e]).map(Number).filter((function(n){return t.requestPool[e][n].length})).sort((function(e,t){return e-t}));return n}},{key:"getRequestPool",value:function(){return this.requestPool}}]),e}(),Ez=(new Az,new Az("imageLoadPool"));Ez.grabDelay=0,Ez.setMaxSimultaneousRequests(Wj.Interaction,1e3),Ez.setMaxSimultaneousRequests(Wj.Thumbnail,1e3),Ez.setMaxSimultaneousRequests(Wj.Prefetch,1e3);var Iz,Rz=Ez;!function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e[e.FAST_LINEAR=2]="FAST_LINEAR"}(Iz||(Iz={}));var kz=Iz;function Mz(e){return nz(e)}function _z(e,t){var n=Mz(e);return n.invert(),n.transformPoint(t)}function Dz(e,t){return Mz(e).transformPoint(t)}var Lz={viewport:{}};function Vz(e,t){if(void 0===e||null===e)throw new Error(t)}function Nz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Vz(e,"getImageSize: parameter image must not be undefined"),Vz(e.width,"getImageSize: parameter image must have width"),Vz(e.height,"getImageSize: parameter image must have height"),function(e){return!(null===e||void 0===e||0===e||180===e)}(t)?{height:e.width,width:e.height}:{width:e.width,height:e.height}}function Bz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Vz(e,"getImageScale: parameter canvas must not be undefined"),Vz(t,"getImageScale: parameter image must not be undefined");var r=Nz(t,n),a=t.rowPixelSpacing||1,o=t.columnPixelSpacing||1,i=1,s=1;a<o?s=o/a:i=a/o;var l=e.height/r.height/i,u=e.width/r.width/s;return{verticalScale:l,horizontalScale:u,scaleFactor:Math.min(u,l)}}function Fz(e,t,n,r){if(void 0===e)throw new Error("getDefaultViewport: parameter canvas must not be undefined");if(void 0===t)return function(){var e={scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:{tlhc:{x:1,y:1},brhc:{x:1,y:1},rowPixelSpacing:1,columnPixelSpacing:1,presentationSizeMode:"NONE"}};return Object.assign({},e,Lz.viewport)}();var a,o=Bz(e,t,0).scaleFactor;return"PT"===n&&t.isPreScaled?a={windowWidth:5,windowCenter:2.5}:void 0!==t.windowWidth&&void 0!==t.windowCenter&&(a={windowWidth:Array.isArray(t.windowWidth)?t.windowWidth[0]:t.windowWidth,windowCenter:Array.isArray(t.windowCenter)?t.windowCenter[0]:t.windowCenter}),{scale:o,translation:{x:0,y:0},voi:a,invert:t.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:t.modalityLUT,modality:n,voiLUT:t.voiLUT,colormap:void 0!==r?r:t.colormap,displayedArea:{tlhc:{x:1,y:1},brhc:{x:t.columns,y:t.rows},rowPixelSpacing:void 0===t.rowPixelSpacing?1:t.rowPixelSpacing,columnPixelSpacing:void 0===t.columnPixelSpacing?1:t.columnPixelSpacing,presentationSizeMode:"NONE"}}}function Uz(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.canvas.width,r=e.canvas.height;!function(e){var t=e.canvas,n=t.clientWidth,r=t.clientHeight;t.width===n&&t.height===r||(t.width=n,t.height=r)}(e),void 0!==e.image&&(t||function(e,t,n){var r=e.viewport.scale,a=Nz(e.image,e.viewport.rotation),o=Math.round(a.width*r),i=Math.round(a.height*r),s=e.viewport.translation.x,l=e.viewport.translation.y;return o===t&&i<=n||o<=t&&i===n&&0===s&&0===l}(e,n,r)?function(e){var t=e.image;e.viewport.scale=Bz(e.canvas,t,e.viewport.rotation).scaleFactor,e.viewport.translation.x=0,e.viewport.translation.y=0}(e):function(e,t,n){var r=e.viewport.scale,a=e.canvas.width/t,o=e.canvas.height/n,i=Math.sqrt(a*o);e.viewport.scale=i*r}(e,n,r))}function jz(e){var t=yB.newInstance(),n=0,r=1024;return e&&void 0!==e.lower&&void 0!==e.upper&&(n=e.lower,r=e.upper),t.addRGBPoint(n,0,0,0),t.addRGBPoint(r,1,1,1),t}var Gz,zz=function(e){Xs(n,e);var t=Js(n);function n(e){var r,a,o,i,s,l,u,c,d,f,p;return os(this,n),(p=t.call(this,e)).voiUpdatedWithSetProperties=!1,p.invert=!1,p.initialInvert=!1,p.stackInvalidated=!1,p._publishCalibratedEvent=!1,p.useNativeDataType=!1,p.updateRenderingPipeline=function(){p._configureRenderingPipeline()},p.resize=function(){p.useCPURendering&&p._resizeCPU()},p._resizeCPU=function(){p._cpuFallbackEnabledElement.viewport&&Uz(p._cpuFallbackEnabledElement)},p.getFrameOfReferenceUID=function(){var e=p.getCurrentImageId();if(e){var t=rB("imagePlaneModule",e);if(t)return t.frameOfReferenceUID}},p.getCornerstoneImage=function(){return p.csImage},p.createActorMapper=function(e){var t=BG.newInstance();t.setInputData(e);var n=XG.newInstance();return n.setMapper(t),zw().rendering.preferSizeOverAccuracy&&t.setPreferSizeOverAccuracy(!0),e.getPointData().getNumberOfComponents()>1&&n.getProperty().setIndependentComponents(!1),n},p.getProperties=function(){var e=Zs(p),t=e.voiRange,n=e.VOILUTFunction,r=e.interpolationType,a=e.invert,o=e.voiUpdatedWithSetProperties;return{voiRange:t,VOILUTFunction:n,interpolationType:r,invert:a,rotation:p.getRotation(),isComputedVOI:!o}},p.getRotationCPU=function(){return p._cpuFallbackEnabledElement.viewport.rotation},p.getRotationGPU=function(){var e=p.getCamera(),t=e.viewUp,n=e.viewPlaneNormal,r=e.flipVertical?rA(NO(),p.initialViewUp):p.initialViewUp,a=180*yA(r,t)/Math.PI;return iA(sA(NO(),r,t),n)>=0?a:(360-a)%360},p.renderImageObject=function(e){p._setCSImage(e),(p.useCPURendering?p._updateToDisplayImageCPU:p._updateActorToDisplayImageId).call(Zs(p),e)},p._setCSImage=function(e){var t;e.isPreScaled=null===(t=e.preScale)||void 0===t?void 0:t.scaled,p.csImage=e},p.canvasToWorldCPU=function(e){if(p._cpuFallbackEnabledElement.image){var t=Se(_z(p._cpuFallbackEnabledElement,e),2),n=t[0],r=t[1],a=p.getImageData(),o=a.origin,i=a.spacing,s=a.direction,l=UO(0,0,0),u=s.slice(0,3),c=s.slice(3,6);return JO(l,o,u,n*i[0]),JO(l,l,c,r*i[1]),[l[0],l[1],l[2]]}},p.worldToCanvasCPU=function(e){var t=p.getImageData(),n=t.spacing,r=t.direction,a=t.origin,o=r.slice(0,3),i=r.slice(3,6),s=WO(NO(),e,a),l=[iA(s,o)/n[0],iA(s,i)/n[1]];return Dz(p._cpuFallbackEnabledElement,l)},p.canvasToWorldGPU=function(e){var t=p.getRenderer(),n=p.getVtkActiveCamera(),r=n.getClippingRange(),a=n.getDistance();n.setClippingRange(a,a+.1);var o=p.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),i=o.getSize(),s=window.devicePixelRatio||1,l=[e[0]*s,e[1]*s],u=[l[0]+p.sx,l[1]+p.sy];u[1]=i[1]-u[1];var c=o.displayToWorld(u[0],u[1],0,t);return n.setClippingRange(r[0],r[1]),[c[0],c[1],c[2]]},p.worldToCanvasGPU=function(e){var t=p.getRenderer(),n=p.getVtkActiveCamera(),r=n.getClippingRange(),a=n.getDistance();n.setClippingRange(a,a+.1);var o=p.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),i=o.getSize(),s=o.worldToDisplay.apply(o,Re(e).concat([t]));s[1]=i[1]-s[1];var l=[s[0]-p.sx,s[1]-p.sy];n.setClippingRange(r[0],r[1]);var u=window.devicePixelRatio||1;return[l[0]/u,l[1]/u]},p.getCurrentImageIdIndex=function(){return p.currentImageIdIndex},p.getTargetImageIdIndex=function(){return p.targetImageIdIndex},p.getImageIds=function(){return p.imageIds},p.getCurrentImageId=function(){return p.imageIds[p.currentImageIdIndex]},p.hasImageId=function(e){return p.imageIds.includes(e)},p.hasImageURI=function(e){for(var t=p.imageIds,n=0;n<t.length;n++)if(zN(t[n])===e)return!0;return!1},p.customRenderViewportToCanvas=function(){if(!p.useCPURendering)throw new Error("Custom cpu rendering pipeline should only be hit in CPU rendering mode");return p._cpuFallbackEnabledElement.image?(!function(e,t){var n=e.image;if(e.canvas&&e.image){var r=JG();if(n.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1},n){var a=n.render;a||(a=e.viewport.colormap?Oz:n.color?uz:mz),a(e,t)}var o=JG()-r;n.stats.lastRenderTime=o,e.invalid=!1,e.needsRedraw=!1}}(p._cpuFallbackEnabledElement,p.cpuRenderingInvalidated),p.cpuRenderingInvalidated=!1):p.fillWithBackgroundColor(),{canvas:p.canvas,element:p.element,viewportId:p.id,renderingEngineId:p.renderingEngineId,viewportStatus:p.viewportStatus}},p.renderingPipelineFunctions={getImageData:{cpu:p.getImageDataCPU,gpu:p.getImageDataGPU},setColormap:{cpu:p.setColormapCPU,gpu:p.setColormapGPU},getCamera:{cpu:p.getCameraCPU,gpu:Mg((r=Zs(p),Ys(n.prototype)),"getCamera",r)},setCamera:{cpu:p.setCameraCPU,gpu:Mg((a=Zs(p),Ys(n.prototype)),"setCamera",a)},setVOI:{cpu:p.setVOICPU,gpu:p.setVOIGPU},getRotation:{cpu:p.getRotationCPU,gpu:p.getRotationGPU},setInterpolationType:{cpu:p.setInterpolationTypeCPU,gpu:p.setInterpolationTypeGPU},setInvertColor:{cpu:p.setInvertColorCPU,gpu:p.setInvertColorGPU},resetCamera:{cpu:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p.resetCameraCPU(e,t),!0},gpu:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p.resetCameraGPU(e,t),!0}},canvasToWorld:{cpu:p.canvasToWorldCPU,gpu:p.canvasToWorldGPU},worldToCanvas:{cpu:p.worldToCanvasCPU,gpu:p.worldToCanvasGPU},getRenderer:{cpu:function(){return p.getCPUFallbackError("getRenderer")},gpu:Mg((o=Zs(p),Ys(n.prototype)),"getRenderer",o)},getDefaultActor:{cpu:function(){return p.getCPUFallbackError("getDefaultActor")},gpu:Mg((i=Zs(p),Ys(n.prototype)),"getDefaultActor",i)},getActors:{cpu:function(){return p.getCPUFallbackError("getActors")},gpu:Mg((s=Zs(p),Ys(n.prototype)),"getActors",s)},getActor:{cpu:function(){return p.getCPUFallbackError("getActor")},gpu:Mg((l=Zs(p),Ys(n.prototype)),"getActor",l)},setActors:{cpu:function(){return p.getCPUFallbackError("setActors")},gpu:Mg((u=Zs(p),Ys(n.prototype)),"setActors",u)},addActors:{cpu:function(){return p.getCPUFallbackError("addActors")},gpu:Mg((c=Zs(p),Ys(n.prototype)),"addActors",c)},addActor:{cpu:function(){return p.getCPUFallbackError("addActor")},gpu:Mg((d=Zs(p),Ys(n.prototype)),"addActor",d)},removeAllActors:{cpu:function(){return p.getCPUFallbackError("removeAllActors")},gpu:Mg((f=Zs(p),Ys(n.prototype)),"removeAllActors",f)},unsetColormap:{cpu:p.unsetColormapCPU,gpu:p.unsetColormapGPU}},p.scaling={},p.modality=null,p.useCPURendering=Gw(),p.useNativeDataType=p._shouldUseNativeDataType(),p._configureRenderingPipeline(),p.useCPURendering?p._resetCPUFallbackElement():p._resetGPUViewport(),p.imageIds=[],p.currentImageIdIndex=0,p.targetImageIdIndex=0,p.cameraFocalPointOnRender=[0,0,0],p.resetCamera(),p.initializeElementDisabledHandler(),p}return ss(n,[{key:"setUseCPURendering",value:function(e){this.useCPURendering=e,this._configureRenderingPipeline()}},{key:"_configureRenderingPipeline",value:function(){this.useNativeDataType=this._shouldUseNativeDataType(),this.useCPURendering=Gw();for(var e=0,t=Object.entries(this.renderingPipelineFunctions);e<t.length;e++){var n=Se(t[e],2),r=n[0],a=n[1];this[r]=this.useCPURendering?a.cpu:a.gpu}this.useCPURendering?this._resetCPUFallbackElement():this._resetGPUViewport()}},{key:"_resetCPUFallbackElement",value:function(){this._cpuFallbackEnabledElement={canvas:this.canvas,renderingTools:{},transform:new tz,viewport:{rotation:0}}}},{key:"_resetGPUViewport",value:function(){var e=this.getRenderer(),t=JL.newInstance();e.setActiveCamera(t);var n=[0,0,-1];this.initialViewUp=[0,-1,0],t.setDirectionOfProjection(-n[0],-n[1],-n[2]),t.setViewUp.apply(t,Re(this.initialViewUp)),t.setParallelProjection(!0),t.setThicknessFromFocalPoint(.1),t.setFreezeFocalPoint(!0)}},{key:"initializeElementDisabledHandler",value:function(){Yw.addEventListener(Ww.ELEMENT_DISABLED,(function e(){clearTimeout(this.debouncedTimeout),Yw.removeEventListener(Ww.ELEMENT_DISABLED,e)}))}},{key:"getImageDataGPU",value:function(){var e=this.getDefaultActor();if(e&&eB(e)){var t=e.actor,n=t.getMapper().getInputData();return{dimensions:n.getDimensions(),spacing:n.getSpacing(),origin:n.getOrigin(),direction:n.getDirection(),scalarData:n.getPointData().getScalars().getData(),imageData:t.getMapper().getInputData(),metadata:{Modality:this.modality},scaling:this.scaling,hasPixelSpacing:this.hasPixelSpacing,calibration:this.calibration,preScale:Ae({},this.csImage.preScale)}}}},{key:"getImageDataCPU",value:function(){var e=this,t=this._cpuFallbackEnabledElement.metadata,n=t.spacing;return{dimensions:t.dimensions,spacing:n,origin:t.origin,direction:t.direction,metadata:{Modality:this.modality},scaling:this.scaling,imageData:{getDirection:function(){return t.direction},getDimensions:function(){return t.dimensions},getScalarData:function(){return e.cpuImagePixelData},getSpacing:function(){return n},worldToIndex:function(t){var n=e.worldToCanvasCPU(t),r=_z(e._cpuFallbackEnabledElement,n);return[r[0],r[1],0]},indexToWorld:function(t){var n=Dz(e._cpuFallbackEnabledElement,[t[0],t[1]]);return e.canvasToWorldCPU(n)}},scalarData:this.cpuImagePixelData,hasPixelSpacing:this.hasPixelSpacing,calibration:this.calibration,preScale:Ae({},this.csImage.preScale)}}},{key:"buildMetadata",value:function(e){var t=e.imageId,n=rB("imagePixelModule",t),r=n.pixelRepresentation,a=n.bitsAllocated,o=n.bitsStored,i=n.highBit,s=n.photometricInterpretation,l=n.samplesPerPixel,u=e.windowWidth,c=e.windowCenter,d=e.voiLUTFunction,f=rB("generalSeriesModule",t).modality,p=rB("scalingModule",t);"PT"===f&&p&&this._addScalingToViewport(p),this.modality=f;var m=this._getValidVOILUTFunction(d);this.VOILUTFunction=m,this.calibration=null;var g=this._getImagePlaneModule(t);return this.useCPURendering||(g=this.calibrateIfNecessary(t,g)),{imagePlaneModule:g,imagePixelModule:{bitsAllocated:a,bitsStored:o,samplesPerPixel:l,highBit:i,photometricInterpretation:s,pixelRepresentation:r,windowWidth:u,windowCenter:c,modality:f,voiLUTFunction:m}}}},{key:"calibrateIfNecessary",value:function(e,t){var n=rB("calibratedPixelSpacing",e),r=this.calibration!==n,a=(n||{}).scale;return this.hasPixelSpacing=a>0||t.rowPixelSpacing>0,t.calibration=n,r?(this.calibration=n,this._publishCalibratedEvent=!0,this._calibrationEvent={scale:a,calibration:n},t):t}},{key:"setProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voiRange,n=e.VOILUTFunction,r=e.invert,a=e.interpolationType,o=e.rotation,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.viewportStatus=this.csImage?RB.PRE_RENDER:RB.LOADING,"undefined"!==typeof t){this.setVOI(t,{suppressEvents:i,voiUpdatedWithSetProperties:!0})}"undefined"!==typeof n&&this.setVOILUTFunction(n,i),"undefined"!==typeof r&&this.setInvertColor(r),"undefined"!==typeof a&&this.setInterpolationType(a),"undefined"!==typeof o&&this.getRotation()!==o&&this.setRotation(o)}},{key:"resetProperties",value:function(){this.cpuRenderingInvalidated=!0,this.voiUpdatedWithSetProperties=!1,this.viewportStatus=RB.PRE_RENDER,this.fillWithBackgroundColor(),this.useCPURendering&&(this._cpuFallbackEnabledElement.renderingTools={}),this._resetProperties(),this.render()}},{key:"_resetProperties",value:function(){var e;e=this._isCurrentImagePTPrescaled()?this._getDefaultPTPrescaledVOIRange():this._getVOIRangeForCurrentImage(),this.setVOI(e),0!==this.getRotation()&&this.setRotation(0),this.setInterpolationType(kz.LINEAR),this.setInvertColor(this.initialInvert)}},{key:"_setPropertiesFromCache",value:function(){var e,t=this.interpolationType,n=this.invert;if(this.voiUpdatedWithSetProperties)e=this.voiRange;else if(this._isCurrentImagePTPrescaled())e=this._getDefaultPTPrescaledVOIRange();else{var r;e=null!==(r=this._getVOIRangeForCurrentImage())&&void 0!==r?r:this.voiRange}this.setVOI(e),this.setInterpolationType(t),this.setInvertColor(n)}},{key:"getCameraCPU",value:function(){var e=this._cpuFallbackEnabledElement,t=e.metadata,n=e.viewport,r=t.direction,a=r.slice(6,9).map((function(e){return-e})),o=r.slice(3,6).map((function(e){return-e}));if(n.rotation){var i=$A(kA(),n.rotation*Math.PI/180,a);o=fA(NO(),o,i)}var s=[this.element.clientWidth/2,this.element.clientHeight/2];return{parallelProjection:!0,focalPoint:this.canvasToWorld(s),position:[0,0,0],parallelScale:eA(this.canvasToWorld([0,0]),this.canvasToWorld([0,this.element.clientHeight]))/2,scale:n.scale,viewPlaneNormal:[a[0],a[1],a[2]],viewUp:[o[0],o[1],o[2]],flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical}}},{key:"setCameraCPU",value:function(e){var t=this._cpuFallbackEnabledElement,n=t.viewport,r=t.image,a=this.getCameraCPU(),o=e.focalPoint,i=e.parallelScale,s=e.scale,l=e.flipHorizontal,u=e.flipVertical,c=this.element.clientHeight;if(o){var d=this.worldToCanvasCPU(o),f=_z(this._cpuFallbackEnabledElement,d),p=this.worldToCanvasCPU(a.focalPoint),m=_z(this._cpuFallbackEnabledElement,p),g=fG();mG(g,pG(f[0],f[1]),pG(m[0],m[1]));var v=function(e,t){var n=t.hflip,r=t.vflip,a=t.rotation;if(e.x*=n?-1:1,e.y*=r?-1:1,0!==a){var o=a*Math.PI/180,i=Math.cos(o),s=Math.sin(o),l=e.x*i-e.y*s,u=e.x*s+e.y*i;e.x=l,e.y=u}return e}({x:g[0],y:g[1]},n);n.translation.x-=v.x,n.translation.y-=v.y}if(i){var h=c*r.rowPixelSpacing*.5/i;n.scale=h,n.parallelScale=i}if(s){var y=r.rowPixelSpacing;n.scale=s,n.parallelScale=c*y*.5/s}void 0===l&&void 0===u||this.setFlipCPU({flipHorizontal:l,flipVertical:u}),this._cpuFallbackEnabledElement.transform=nz(this._cpuFallbackEnabledElement);var b={previousCamera:a,camera:this.getCamera(),element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,rotation:this.getRotation()};$w(this.element,Ww.CAMERA_MODIFIED,b)}},{key:"setFlipCPU",value:function(e){var t=e.flipHorizontal,n=e.flipVertical,r=this._cpuFallbackEnabledElement.viewport;void 0!==t&&(r.hflip=t,this.flipHorizontal=r.hflip),void 0!==n&&(r.vflip=n,this.flipVertical=r.vflip)}},{key:"setRotation",value:function(e){var t=this.getCamera();this.useCPURendering?this.setRotationCPU(e):this.setRotationGPU(e);var n={previousCamera:t,camera:this.getCamera(),element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,rotation:e};$w(this.element,Ww.CAMERA_MODIFIED,n)}},{key:"setVOILUTFunction",value:function(e,t){if(this.useCPURendering)throw new Error("VOI LUT function is not supported in CPU rendering");var n=this._getValidVOILUTFunction(e),r=!1;this.VOILUTFunction!==IB.LINEAR&&n===IB.LINEAR&&(r=!0),this.VOILUTFunction=n;var a=this.getProperties().voiRange;this.setVOI(a,{suppressEvents:t,forceRecreateLUTFunction:r})}},{key:"setRotationCPU",value:function(e){this._cpuFallbackEnabledElement.viewport.rotation=e}},{key:"setRotationGPU",value:function(e){var t=this.getCamera().flipVertical?rA(NO(),this.initialViewUp):this.initialViewUp;this.setCameraNoEvent({viewUp:t}),this.getVtkActiveCamera().roll(-e)}},{key:"setInterpolationTypeGPU",value:function(e){var t=this.getDefaultActor();t&&(eB(t)&&(t.actor.getProperty().setInterpolationType(e),this.interpolationType=e))}},{key:"setInterpolationTypeCPU",value:function(e){this._cpuFallbackEnabledElement.viewport.pixelReplication=e!==kz.LINEAR,this.interpolationType=e}},{key:"setInvertColorCPU",value:function(e){var t=this._cpuFallbackEnabledElement.viewport;t&&(t.invert=e,this.invert=e)}},{key:"setInvertColorGPU",value:function(e){var t=this.getDefaultActor();if(t&&eB(t))if(tB(t,"vtkVolume")){var n=t.actor.getProperty().getRGBTransferFunction(0);(!this.invert&&e||this.invert&&!e)&&uj(n),this.invert=e}else if(tB(t,"vtkImageSlice")){var r=t.actor.getProperty().getRGBTransferFunction(0);(!this.invert&&e||this.invert&&!e)&&uj(r),this.invert=e}}},{key:"setVOICPU",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).suppressEvents,n=void 0!==t&&t,r=this._cpuFallbackEnabledElement,a=r.viewport,o=r.image;if(a&&o){if("undefined"===typeof e){var i=o.windowWidth,s=o.windowCenter,l=Array.isArray(i)?i[0]:i,u=Array.isArray(s)?s[0]:s;a.voi={windowWidth:l,windowCenter:u};var c=dj(l,u);e={lower:c.lower,upper:c.upper}}else{var d=e,f=cj(d.lower,d.upper),p=f.windowCenter,m=f.windowWidth;a.voi||(a.voi={windowWidth:0,windowCenter:0}),a.voi.windowWidth=m,a.voi.windowCenter=p}this.voiRange=e;var g={viewportId:this.id,range:e};n||$w(this.element,Ww.VOI_MODIFIED,g)}}},{key:"setVOIGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.suppressEvents,r=void 0!==n&&n,a=t.forceRecreateLUTFunction,o=void 0!==a&&a,i=t.voiUpdatedWithSetProperties,s=void 0!==i&&i;if(!e||!this.voiRange||this.voiRange.lower!==e.lower||this.voiRange.upper!==e.upper||o||this.stackInvalidated){var l=this.getDefaultActor();if(l&&eB(l)){var u=l.actor,c=e;if("undefined"===typeof c){var d=u.getMapper().getInputData().getPointData().getScalars().getRange();c={lower:d[0],upper:d[1]}}u.getProperty().setUseLookupTableScalarRange(!0);var f=u.getProperty().getRGBTransferFunction(0),p=this.VOILUTFunction===IB.SAMPLED_SIGMOID;if(p||!f||o)f=(p?fj:jz)(c),this.invert&&uj(f),u.getProperty().setRGBTransferFunction(0,f);if(p||f.setRange(c.lower,c.upper),this.voiRange=c,this.voiUpdatedWithSetProperties||(this.voiUpdatedWithSetProperties=s),!r){var m={viewportId:this.id,range:c,VOILUTFunction:this.VOILUTFunction};$w(this.element,Ww.VOI_MODIFIED,m)}}}}},{key:"_addScalingToViewport",value:function(e){if(!this.scaling.PT){var t=e.suvbw,n=e.suvlbm,r=e.suvbsa,a={};n&&(a.suvbwToSuvlbm=n/t),r&&(a.suvbwToSuvbsa=r/t),this.scaling.PT=a}}},{key:"_getNumCompsFromPhotometricInterpretation",value:function(e){var t=1;return"RGB"!==e&&-1===e.indexOf("YBR")&&"PALETTE COLOR"!==e||(t=3),t}},{key:"_getImageDataMetadata",value:function(e){var t,n,r=this.buildMetadata(e),a=r.imagePlaneModule,o=r.imagePixelModule;t=a.rowCosines,n=a.columnCosines,null!=t&&null!=n||(t=[1,0,0],n=[0,1,0]);var i=UO(t[0],t[1],t[2]),s=UO(n[0],n[1],n[2]),l=NO();sA(l,i,s);var u=a.imagePositionPatient;null==u&&(u=[0,0,0]);var c=a.columnPixelSpacing||e.columnPixelSpacing,d=a.rowPixelSpacing||e.rowPixelSpacing,f=e.columns,p=e.rows,m=e.numComps||this._getNumCompsFromPhotometricInterpretation(o.photometricInterpretation);return{bitsAllocated:o.bitsAllocated,numComps:m,origin:u,direction:[].concat(Re(i),Re(s),Re(l)),dimensions:[f,p,1],spacing:[c,d,1],numVoxels:f*p*1,imagePlaneModule:a,imagePixelModule:o}}},{key:"_getCameraOrientation",value:function(e){var t=e.slice(6,9).map((function(e){return-e})),n=e.slice(3,6).map((function(e){return-e}));return{viewPlaneNormal:[t[0],t[1],t[2]],viewUp:[n[0],n[1],n[2]]}}},{key:"_createVTKImageData",value:function(e){var t=e.origin,n=e.direction,r=e.dimensions,a=e.spacing,o=e.numComps,i=e.pixelArray,s=new i.constructor(i.length),l=eO.newInstance({name:"Pixels",numberOfComponents:o,values:s});this._imageData=JM.newInstance(),this._imageData.setDimensions(r),this._imageData.setSpacing(a),this._imageData.setDirection(n),this._imageData.setOrigin(t),this._imageData.getPointData().setScalars(l)}},{key:"setStack",value:function(){var e=ye(ve().mark((function e(t){var n,r,a,o=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,this._throwIfDestroyed(),this.imageIds=t,this.currentImageIdIndex=n,this.targetImageIdIndex=n,this.stackInvalidated=!0,this.flipVertical=!1,this.flipHorizontal=!1,this.voiRange=null,this.interpolationType=kz.LINEAR,this.invert=!1,this.viewportStatus=RB.LOADING,this.fillWithBackgroundColor(),this.useCPURendering&&(this._cpuFallbackEnabledElement.renderingTools={},delete this._cpuFallbackEnabledElement.viewport.colormap),e.next=16,this._setImageIdIndex(n);case 16:return r=e.sent,a={imageIds:t,viewportId:this.id,element:this.element,currentImageIdIndex:n},$w(Yw,Ww.STACK_VIEWPORT_NEW_STACK,a),e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_throwIfDestroyed",value:function(){if(this.isDisabled)throw new Error("The stack viewport has been destroyed and is no longer usable. Renderings will not be performed. If you are using the same viewportId and have re-enabled the viewport, you need to grab the new viewport instance using renderingEngine.getViewport(viewportId), instead of using your lexical scoped reference to the viewport instance.")}},{key:"_checkVTKImageDataMatchesCornerstoneImage",value:function(e,t){if(!t)return!1;var n=Se(t.getSpacing(),2),r=n[0],a=n[1],o=Se(t.getDimensions(),2),i=o[0],s=o[1],l=this._getImagePlaneModule(e.imageId),u=t.getDirection(),c=u.slice(0,3),d=u.slice(3,6),f=t.getPointData().getScalars().getDataType(),p=QG(r,e.columnPixelSpacing),m=QG(a,e.rowPixelSpacing);return(p||null===e.columnPixelSpacing&&1===r)&&(m||null===e.rowPixelSpacing&&1===a)&&i===e.columns&&s===e.rows&&QG(l.rowCosines,c)&&QG(l.columnCosines,d)&&(!this.useNativeDataType||f===e.getPixelData().constructor.name)}},{key:"_updateVTKImageDataFromCornerstoneImage",value:function(e){var t=this._getImagePlaneModule(e.imageId).imagePositionPatient;null==t&&(t=[0,0,0]),this._imageData.setOrigin(t),this._updatePixelData(e)}},{key:"_updatePixelData",value:function(e){var t=e.getPixelData(),n=this._imageData.getPointData().getScalars().getData();if(e.color&&e.rgba){for(var r=new Uint8Array(e.columns*e.rows*3),a=0;a<e.columns*e.rows;a++)r[3*a]=t[4*a],r[3*a+1]=t[4*a+1],r[3*a+2]=t[4*a+2];e.rgba=!1,e.getPixelData=function(){return r},n.set(r)}else n.set(t);this._imageData.modified()}},{key:"_loadAndDisplayImage",value:function(){var e=ye(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useCPURendering?this._loadAndDisplayImageCPU(t,n):this._loadAndDisplayImageGPU(t,n);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_loadAndDisplayImageCPU",value:function(e,t){var n=this;return new Promise((function(r,a){function o(e,t,n){if(this.currentImageIdIndex===t){var a=e.getPixelData(),o=e.preScale,i=null===o||void 0===o?void 0:o.scalingParameters,s=(null===o||void 0===o?void 0:o.scaled)&&(null===i||void 0===i?void 0:i.rescaleIntercept)%1!==0||(null===i||void 0===i?void 0:i.rescaleSlope)%1!==0;if(a instanceof Float32Array&&s){for(var l={min:e.maxPixelValue,max:e.minPixelValue},u=Math.abs(l.max-l.min)/65535,c=l.min,d=a.length,f=new Uint16Array(d),p=65535,m=0,g=0;g<d;g++){var v=Math.floor((a[g]-c)/u);f[g]=v,p=Math.min(p,v),m=Math.max(m,v)}e.minPixelValue=p,e.maxPixelValue=m,e.slope=u,e.intercept=c,e.getPixelData=function(){return f},e.preScale=Ae(Ae({},e.preScale),{},{scaled:!1})}this._setCSImage(e),this.viewportStatus=RB.PRE_RENDER;var h={image:e,imageId:n,imageIdIndex:t,viewportId:this.id,renderingEngineId:this.renderingEngineId};$w(this.element,Ww.STACK_NEW_IMAGE,h),this._updateToDisplayImageCPU(e),this.render(),this.currentImageIdIndex=t,r(n)}}function i(e,t,n){var r={error:e,imageIdIndex:t,imageId:n};this.suppressEvents||$w(Yw,Ww.IMAGE_LOAD_ERROR,r),a(e)}var s=Wj.Interaction,l={imageId:e},u={imageId:e,imageIdIndex:t,viewportId:n.id,renderingEngineId:n.renderingEngineId};$w(n.element,Ww.PRE_STACK_NEW_IMAGE,u),Rz.addRequest(function(e,t,n){var r=this;return Gj(e,n).then((function(n){o.call(r,n,t,e)}),(function(n){i.call(r,n,t,e)}))}.bind(n,e,t,{preScale:{enabled:!0},useRGBA:!0}),s,l,-5)}))}},{key:"_loadAndDisplayImageGPU",value:function(e,t){var n=this;return new Promise((function(r,a){function o(e,t,n){var a,o;if(this.currentImageIdIndex===t){var i=null===(a=this.csImage)||void 0===a?void 0:a.imageFrame,s=null===e||void 0===e?void 0:e.imageFrame;(null===i||void 0===i?void 0:i.photometricInterpretation)===(null===s||void 0===s?void 0:s.photometricInterpretation)&&(null===(o=this.csImage)||void 0===o?void 0:o.photometricInterpretation)===(null===e||void 0===e?void 0:e.photometricInterpretation)||(this.stackInvalidated=!0),this._setCSImage(e);var l={image:e,imageId:n,imageIdIndex:t,viewportId:this.id,renderingEngineId:this.renderingEngineId};$w(this.element,Ww.STACK_NEW_IMAGE,l),this._updateActorToDisplayImageId(e),this.render(),this.currentImageIdIndex=t,r(n)}}function i(e,t,n){var r={error:e,imageIdIndex:t,imageId:n};$w(Yw,Ww.IMAGE_LOAD_ERROR,r),a(e)}var s=Wj.Interaction,l={imageId:e},u={targetBuffer:{type:n.useNativeDataType?void 0:"Float32Array"},preScale:{enabled:!0},useRGBA:!1},c={imageId:e,imageIdIndex:t,viewportId:n.id,renderingEngineId:n.renderingEngineId};$w(n.element,Ww.PRE_STACK_NEW_IMAGE,c),Rz.addRequest(function(e,t,n){var r=this;return Gj(e,n).then((function(n){o.call(r,n,t,e)}),(function(n){i.call(r,n,t,e)}))}.bind(n,e,t,u),s,l,-5)}))}},{key:"_updateToDisplayImageCPU",value:function(e){var t=this._getImageDataMetadata(e),n=Fz(this.canvas,e,this.modality,this._cpuFallbackEnabledElement.viewport.colormap),r=n.voi,a=r.windowCenter,o=r.windowWidth;this.voiRange=dj(o,a),this._cpuFallbackEnabledElement.image=e,this._cpuFallbackEnabledElement.metadata=Ae({},t),this.cpuImagePixelData=e.getPixelData();var i=Object.assign({},n,this._cpuFallbackEnabledElement.viewport);this._cpuFallbackEnabledElement.viewport=this.stackInvalidated?n:i,this.stackInvalidated=!1,this.cpuRenderingInvalidated=!0,this._cpuFallbackEnabledElement.transform=nz(this._cpuFallbackEnabledElement)}},{key:"_updateActorToDisplayImageId",value:function(e){var t=this._checkVTKImageDataMatchesCornerstoneImage(e,this._imageData),n=this.getRenderer().getActiveCamera(),r=structuredClone(this.getCamera());if(t&&!this.stackInvalidated){this._updateVTKImageDataFromCornerstoneImage(e);var a=this.getCamera(),o=WO(NO(),this.cameraFocalPointOnRender,a.focalPoint);this.resetCameraNoEvent(),this.setCameraNoEvent({flipHorizontal:r.flipHorizontal,flipVertical:r.flipVertical,viewUp:r.viewUp});var i=this.getCamera().focalPoint;return this.cameraFocalPointOnRender=i,n.setFreezeFocalPoint(!0),this._restoreCameraProps(a,r,o),void this._setPropertiesFromCache()}var s=this._getImageDataMetadata(e),l=s.origin,u=s.direction,c=s.dimensions,d=s.spacing,f=s.numComps,p=s.imagePixelModule;this._createVTKImageData({origin:l,direction:u,dimensions:c,spacing:d,numComps:f,pixelArray:e.getPixelData()}),this._updateVTKImageDataFromCornerstoneImage(e);var m=this.createActorMapper(this._imageData),g=[];g.push({uid:this.id,actor:m}),this.setActors(g);var v=this._getCameraOrientation(u),h=v.viewPlaneNormal,y=v.viewUp;this.setCameraNoEvent({viewUp:y,viewPlaneNormal:h}),this.initialViewUp=y,this.resetCameraNoEvent(),this.triggerCameraEvent(this.getCamera(),r),n.setFreezeFocalPoint(!0);var b="MONOCHROME1"===p.photometricInterpretation;this.stackInvalidated=!0,this.setVOI(this._getInitialVOIRange(e),{forceRecreateLUTFunction:!!b}),this.initialInvert=!!b,this.setInvertColor(this.invert||this.initialInvert),this.cameraFocalPointOnRender=this.getCamera().focalPoint,this.stackInvalidated=!1,this._publishCalibratedEvent&&this.triggerCalibrationEvent()}},{key:"_getInitialVOIRange",value:function(e){if(this.voiRange&&this.voiUpdatedWithSetProperties)return this.voiRange;var t=e.windowCenter,n=e.windowWidth,r=this._getVOIRangeFromWindowLevel(n,t);return r=this._getPTPreScaledRange()||r}},{key:"_getPTPreScaledRange",value:function(){if(this._isCurrentImagePTPrescaled())return this._getDefaultPTPrescaledVOIRange()}},{key:"_isCurrentImagePTPrescaled",value:function(){var e;return!("PT"!==this.modality||!this.csImage.isPreScaled)&&!(null===(e=this.csImage.preScale)||void 0===e||null===(e=e.scalingParameters)||void 0===e||!e.suvbw)}},{key:"_getDefaultPTPrescaledVOIRange",value:function(){return{lower:0,upper:5}}},{key:"_getVOIRangeFromWindowLevel",value:function(e,t){var n,r;if("number"===typeof t&&"number"===typeof e?(n=t,r=e):Array.isArray(t)&&Array.isArray(e)&&(n=t[0],r=e[0]),void 0!==n&&void 0!==r)return dj(r,n)}},{key:"_setImageIdIndex",value:function(){var e=ye(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>=this.imageIds.length)){e.next=2;break}throw new Error("ImageIdIndex provided ".concat(t," is invalid, the stack only has ").concat(this.imageIds.length," elements"));case 2:return this.currentImageIdIndex=t,this.hasPixelSpacing=!0,this.viewportStatus=RB.PRE_RENDER,e.next=7,this._loadAndDisplayImage(this.imageIds[t],t);case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetCameraCPU",value:function(e,t){if(this._cpuFallbackEnabledElement.image){!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.canvas,a=e.image,o=e.viewport,i=Bz(r,a,0).scaleFactor;o.vflip=!1,o.hflip=!1,t&&(o.translation.x=0,o.translation.y=0),n&&(o.displayedArea.tlhc.x=1,o.displayedArea.tlhc.y=1,o.displayedArea.brhc.x=a.columns,o.displayedArea.brhc.y=a.rows,o.scale=i)}(this._cpuFallbackEnabledElement,e,t);var n=this._cpuFallbackEnabledElement.viewport.scale,r=this.element,a=[r.clientWidth/2,r.clientHeight/2],o=this.canvasToWorldCPU(a);this.setCameraCPU({focalPoint:o,scale:n})}}},{key:"resetCameraGPU",value:function(e,t){this.setCamera({flipHorizontal:!1,flipVertical:!1,viewUp:this.initialViewUp});return Mg(Ys(n.prototype),"resetCamera",this).call(this,e,t,!0)}},{key:"scroll",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.imageIds,o=this.targetImageIdIndex,i=a.length,s=o+e;s=Math.max(0,s),r?s%=i:s=Math.min(i-1,s),this.targetImageIdIndex=s;var l=a[s];qN.isLoaded(l)||!n?this.setImageIdIndex(s):(clearTimeout(this.debouncedTimeout),this.debouncedTimeout=window.setTimeout((function(){t.setImageIdIndex(s)}),40));var u={newImageIdIndex:s,imageId:l,direction:e};s!==o&&$w(this.element,Ww.STACK_VIEWPORT_SCROLL,u)}},{key:"setImageIdIndex",value:function(){var e=ye(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._throwIfDestroyed(),this.currentImageIdIndex!==t){e.next=3;break}return e.abrupt("return",this.getCurrentImageId());case 3:return n=this._setImageIdIndex(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"calibrateSpacing",value:function(e){var t=this.getImageIds().indexOf(e);this.stackInvalidated=!0,this._loadAndDisplayImage(e,t)}},{key:"_restoreCameraProps",value:function(e,t,n){var r=e.parallelScale,a=this.getRenderer(),o=this.getCamera(),i=o.position,s=o.focalPoint,l=WO(NO(),i,n),u=WO(NO(),s,n);this.setCameraNoEvent({parallelScale:r,position:l,focalPoint:u});var c=this.getCamera();this.triggerCameraEvent(c,t);var d={type:"ResetCameraEvent",renderer:a};a.invokeEvent(d)}},{key:"triggerCameraEvent",value:function(e,t){var n={previousCamera:t,camera:e,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};this.suppressEvents||$w(this.element,Ww.CAMERA_MODIFIED,n)}},{key:"triggerCalibrationEvent",value:function(){var e=this.getImageData().imageData,t=Ae({element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,imageId:this.getCurrentImageId(),imageData:e,worldToIndex:e.getWorldToIndex()},this._calibrationEvent);this.suppressEvents||$w(this.element,Ww.IMAGE_SPACING_CALIBRATED,t),this._publishCalibratedEvent=!1}},{key:"_getVOIRangeForCurrentImage",value:function(){var e=this.csImage,t=e.windowCenter,n=e.windowWidth;return this._getVOIRangeFromWindowLevel(n,t)}},{key:"_getValidVOILUTFunction",value:function(e){return-1===Object.values(IB).indexOf(e)&&(e=IB.LINEAR),e}},{key:"getCPUFallbackError",value:function(e){return new Error("method ".concat(e," cannot be used during CPU Fallback mode"))}},{key:"fillWithBackgroundColor",value:function(){var e=this.getRenderingEngine();e&&e.fillCanvasWithBackgroundColor(this.canvas,this.options.background)}},{key:"unsetColormapCPU",value:function(){delete this._cpuFallbackEnabledElement.viewport.colormap,this._cpuFallbackEnabledElement.renderingTools={},this.cpuRenderingInvalidated=!0,this.fillWithBackgroundColor(),this.render()}},{key:"setColormapCPU",value:function(e){var t=Tz(e.name,e);this._cpuFallbackEnabledElement.viewport.colormap=t,this._cpuFallbackEnabledElement.renderingTools={},this.fillWithBackgroundColor(),this.cpuRenderingInvalidated=!0,this.render()}},{key:"setColormapGPU",value:function(e){var t=this.getDefaultActor().actor.getProperty(),n=t.getRGBTransferFunction();if(n)n.applyColorMap(e),t.setRGBTransferFunction(0,n);else{var r=yB.newInstance(),a=this._getVOIRangeForCurrentImage();r.applyColorMap(e),r.setMappingRange(a.lower,a.upper),t.setRGBTransferFunction(0,r)}this.render()}},{key:"unsetColormapGPU",value:function(){throw new Error("unsetColormapGPU not implemented.")}},{key:"_getImagePlaneModule",value:function(e){var t=rB("imagePlaneModule",e);rB("calibratedPixelSpacing",e);this.calibration||(this.calibration=t.calibration);var n,r,a=Ae({},t);a.columnPixelSpacing||(a.columnPixelSpacing=1,this.hasPixelSpacing=(null===(n=this.calibration)||void 0===n?void 0:n.scale)>0);a.rowPixelSpacing||(a.rowPixelSpacing=1,this.hasPixelSpacing=(null===(r=this.calibration)||void 0===r?void 0:r.scale)>0);return a.columnCosines||(a.columnCosines=[0,1,0]),a.rowCosines||(a.rowCosines=[1,0,0]),a.imagePositionPatient||(a.imagePositionPatient=[0,0,0]),a.imageOrientationPatient||(a.imageOrientationPatient=new Float32Array([1,0,0,0,1,0])),a}}],[{key:"useCustomRenderingPipeline",get:function(){return Gw()}}]),n}(yG),Wz=zz,Hz=function(e){Xs(n,e);var t=Js(n);function n(e){var r;os(this,n),(r=t.call(this,e)).getRotation=function(){return 0},r.getCurrentImageIdIndex=function(){},r.getCurrentImageId=function(){return null};var a=r.options,o=a.parallelProjection,i=a.orientation,s=r.getVtkActiveCamera();return null!=o&&s.setParallelProjection(o),i&&i!==JN.ACQUISITION&&r.applyViewOrientation(i),r}return ss(n,[{key:"resetCamera",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Mg(Ys(n.prototype),"resetCamera",this).call(this,e,t,r),this.resetVolumeViewportClippingRange()}},{key:"setSlabThickness",value:function(e,t){return null}},{key:"setBlendMode",value:function(e,t,n){return null}},{key:"resetProperties",value:function(e){return null}}]),n}(SG),Kz=Hz;Pe(Gz={},GN.ORTHOGRAPHIC,PG),Pe(Gz,GN.PERSPECTIVE,PG),Pe(Gz,GN.STACK,Wz),Pe(Gz,GN.VOLUME_3D,Kz);function qz(e){var t=e.seriesinsuid,n=Se((0,a.useState)(),2),r=n[0],o=n[1],i=Se((0,a.useState)(""),2),s=i[0],l=i[1],u=Se((0,a.useState)([]),2),c=u[0],d=u[1],f=function(){var e=ye(ve().mark((function e(){var n,r,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://192.168.30.88:8443/v1/api/pacs/images/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,l(r.osServiceStorageRoot),d(r.list),a=new Array,c.map((function(e){var t=s+e.path+e.fname;a.push(t)})),o(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){f()}),[]),(0,a.useEffect)((function(){}),[r]),(0,Ea.jsx)(Ea.Fragment,{children:(0,Ea.jsx)(ka,{id:t,w:"fit-content",children:(0,Ea.jsx)(Mw,{src:_w,w:"100%",fallbackSrc:Dw})})})}function Xz(e){var t=e.study,n=e.series,r=Se((0,a.useState)(),2),o=r[0],i=r[1],s=function(){var e=ye(ve().mark((function e(){var t,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://192.168.30.88:8443/v1/api/pacs/images/".concat(n.seriesinsuid),{method:"POST"});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,i(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){s()}),[]),(0,Ea.jsx)(Ea.Fragment,{children:(0,Ea.jsxs)(Va,{position:"relative",children:[(0,Ea.jsx)(qz,{seriesinsuid:n.seriesinsuid}),(0,Ea.jsx)(ka,{w:"100%",h:"100%",position:"absolute",children:(0,Ea.jsxs)(Va,{h:"100%",justifyContent:"space-between",children:[(0,Ea.jsxs)(Na,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,Ea.jsxs)(ka,{children:[(0,Ea.jsx)(jy,{children:t.pid}),(0,Ea.jsx)(jy,{children:t.pname}),(0,Ea.jsx)(jy,{children:t.pbirthdatetime}),(0,Ea.jsx)(jy,{children:n.seriesnum}),(0,Ea.jsx)(jy,{}),(0,Ea.jsx)(jy,{children:n.seriesdate}),(0,Ea.jsx)(jy,{children:n.seriestime})]}),(0,Ea.jsxs)(ka,{children:[(0,Ea.jsx)(jy,{textAlign:"right",children:n.manufacturer}),(0,Ea.jsx)(jy,{textAlign:"right",children:n.manumodelname})]})]}),(0,Ea.jsx)(Na,{justifyContent:"end",alignItems:"flex-end",children:(0,Ea.jsxs)(ka,{children:[(0,Ea.jsxs)(jy,{textAlign:"right",children:[null===o||void 0===o?void 0:o.pixelrows,"/",null===o||void 0===o?void 0:o.pixelcolumns]}),(0,Ea.jsxs)(jy,{textAlign:"right",children:[null===o||void 0===o?void 0:o.window,"/",null===o||void 0===o?void 0:o.lev]}),(0,Ea.jsx)(jy,{textAlign:"right",children:n.operatorsname})]})})]})})]})})}function Yz(e){return Ow({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}},{tag:"path",attr:{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"}}]})(e)}function $z(e){return Ow({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}},{tag:"path",attr:{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"}}]})(e)}function Zz(e){var t=e.study,n=Se((0,a.useState)("40vh"),2),r=n[0],o=n[1],i=Se((0,a.useState)([]),2),s=i[0],l=i[1],u=function(){var e=ye(ve().mark((function e(){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://192.168.30.88:8443/v1/api/pacs/series/".concat(t.studykey));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,l(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){u()}),[]),(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsxs)(Na,{spacing:1,justifyContent:"flex-end",children:[(0,Ea.jsx)(Zo,{onClick:function(){var e=parseInt(r.split("vh")[0]);e>=40&&o(e-10+"vh")},"aria-label":"",colorScheme:"blue",variant:"ghost",icon:(0,Ea.jsx)($z,{})}),(0,Ea.jsx)(Zo,{onClick:function(){var e=parseInt(r.split("vh")[0]);e<=90&&o(e+10+"vh")},"aria-label":"",colorScheme:"blue",variant:"ghost",icon:(0,Ea.jsx)(Yz,{})})]}),(0,Ea.jsx)(Do,{margin:"5px 0 30px 0"}),(0,Ea.jsx)(Va,{children:(0,Ea.jsx)(Na,{wrap:"wrap",children:s.map((function(e){return(0,Ea.jsx)(ka,{className:"view-box",w:r,h:r,color:"whitesmoke",bgColor:"blackAlpha.900",padding:"15px 17px 15px 15px",children:(0,Ea.jsx)(Xz,{study:t,series:e})})}))})})]})}function Qz(e){var t=e.study,n=as(),r=n.isOpen,a=n.onOpen,o=n.onClose;return(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsx)(Zo,{onClick:a,"aria-label":"dicom viwer",variant:"link",colorScheme:"blue",icon:(0,Ea.jsx)(Ew,{})}),(0,Ea.jsxs)(gl,{isOpen:r,onClose:o,size:"full",children:[(0,Ea.jsx)(Wg,{}),(0,Ea.jsxs)(Ey,{children:[(0,Ea.jsx)(Ry,{children:(0,Ea.jsxs)(sw,{children:[(0,Ea.jsx)(lw,{children:(0,Ea.jsxs)(Xo,{variant:"link",size:"lg",mr:"10px",children:[t.pname," (ID : ",t.pid,")"]})}),(0,Ea.jsxs)(gw,{color:"white",bg:"blue.800",borderColor:"blue.800",ml:"20px",children:[(0,Ea.jsx)(hw,{bg:"blue.800"}),(0,Ea.jsx)(yw,{}),(0,Ea.jsx)(bw,{pt:4,fontWeight:"bold",border:"0",children:"Infomation"}),(0,Ea.jsxs)(xw,{fontSize:"sm",pb:8,fontWeight:"light",children:["studykey : ",t.studykey,(0,Ea.jsx)("br",{}),"modality: ",t.modality,(0,Ea.jsx)("br",{}),"studydesc: ",t.studydesc,(0,Ea.jsx)("br",{}),"studydate: ",t.studydate,(0,Ea.jsx)("br",{}),"seriescnt: ",t.seriescnt,(0,Ea.jsx)("br",{}),"imagecnt: ",t.imagecnt,(0,Ea.jsx)("br",{}),"reportstatus: ",t.reportstatus,(0,Ea.jsx)("br",{}),"verifyflag: ",t.verifyflag,(0,Ea.jsx)("br",{})]})]})]})}),(0,Ea.jsx)(Ly,{}),(0,Ea.jsx)(Ny,{children:(0,Ea.jsx)(Zz,{study:t})}),(0,Ea.jsxs)(Fy,{children:[(0,Ea.jsx)(Xo,{colorScheme:"blue",mr:3,onClick:o,children:"Close"}),(0,Ea.jsx)(Xo,{variant:"ghost",children:"Secondary Action"})]})]})]})]})}function Jz(e){var t=e.pid,n=e.pname,r=Se((0,a.useState)(!0),2),o=(r[0],r[1]),i=Se((0,a.useState)([]),2),s=i[0],l=i[1],u=function(){var e=ye(ve().mark((function e(){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://192.168.30.88:8443/v1/api/pacs/studies/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,l(r),o(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){u()}),[]),(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsxs)(Va,{padding:"23px 23px 0 23px",children:[(0,Ea.jsx)(jy,{fontSize:"large",children:"Previous"}),(0,Ea.jsxs)(jy,{fontSize:"sm",children:["\ud658\uc790 \uc544\uc774\ub514 : ",t]}),(0,Ea.jsxs)(jy,{fontSize:"sm",children:["\ud658\uc790 \uc774\ub984 : ",n]})]}),(0,Ea.jsx)(Jo,{w:"100%",padding:"23px",children:(0,Ea.jsxs)(ai,{variant:"striped",colorScheme:"blue",fontSize:"sm",children:[(0,Ea.jsx)(si,{bg:"blue.500",children:(0,Ea.jsxs)(li,{children:[(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc7a5\ube44"}),(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc124\uba85"}),(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc77c\uc2dc"}),(0,Ea.jsx)(ci,{color:"white",children:"\ud310\ub3c5 \uc0c1\ud0dc"}),(0,Ea.jsx)(ci,{color:"white",children:"\uc2dc\ub9ac\uc988"}),(0,Ea.jsx)(ci,{color:"white",children:"\uc774\ubbf8\uc9c0"}),(0,Ea.jsx)(ci,{color:"white",children:"Verify"})]})}),(0,Ea.jsx)(di,{children:s.map((function(e){return(0,Ea.jsxs)(li,{children:[(0,Ea.jsx)(xi,{children:e.modality}),(0,Ea.jsx)(xi,{children:e.studydesc}),(0,Ea.jsx)(xi,{children:e.studydate}),(0,Ea.jsx)(xi,{children:(0,Ea.jsx)(eW,{pid:e.pid,studykey:e.studykey,reportstatus:e.reportstatus})}),(0,Ea.jsx)(xi,{children:(0,Ea.jsxs)(Na,{children:[(0,Ea.jsx)(jy,{children:e.seriescnt}),(0,Ea.jsx)(Qz,{study:e})]})}),(0,Ea.jsx)(xi,{children:e.imagecnt}),(0,Ea.jsx)(xi,{children:e.verifyflag})]},e.studykey)}))})]})})]})}function eW(e){var t=e.pid,n=e.studykey,r=e.reportstatus,o=as(),i=o.isOpen,s=o.onOpen,l=o.onClose,u=Se((0,a.useState)(new Array),2),c=u[0],d=u[1],f=function(){var e=ye(ve().mark((function e(){var r,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://192.168.30.88:8443/v1/api/pacs/reports/".concat(t,"/").concat(n));case 2:return r=e.sent,e.next=5,r.json();case 5:a=e.sent,d(a),console.log("report :",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){f()}),[]),(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsx)(Xo,{onClick:s,size:"xs",children:rW(r)}),(0,Ea.jsxs)(qy,{isOpen:i,placement:"right",onClose:l,size:"lg",children:[(0,Ea.jsx)(Wg,{}),(0,Ea.jsxs)(eb,{children:[(0,Ea.jsx)(Ly,{}),(0,Ea.jsx)(Ry,{children:"Report"}),(0,Ea.jsxs)(Ny,{children:[(0,Ea.jsx)(rb,{h:"20vh",placeholder:"\ucf54\uba58\ud2b8",resize:"none",mb:"15px",children:c.length>0?c[0].conclusion:""}),(0,Ea.jsx)(rb,{h:"30vh",defaultValue:c.length>0?c[0].interpretation:"[Finding]\n\n\n[Conclusion]\n\n\n[Recommend]\n\n\n",resize:"none",mb:"15px"}),(0,Ea.jsx)(jy,{color:"blackAlpha.500",fontSize:"sm",pl:"3px",children:"\uc608\ube44\ud310\ub3c5\uc758"}),(0,Ea.jsx)(lo,{placeholder:"\uc608\ube44\ud310\ub3c5\uc758",mb:"15px",value:c.length>0?c[0].transcriptionist:""}),(0,Ea.jsx)(jy,{color:"blackAlpha.500",fontSize:"sm",pl:"3px",children:"\ud310\ub3c5\uc7581"}),(0,Ea.jsx)(lo,{placeholder:"\ud310\ub3c5\uc7581",mb:"15px",value:c.length>0?c[0].readingdr:""}),(0,Ea.jsx)(jy,{color:"blackAlpha.500",fontSize:"sm",pl:"3px",children:"\ud310\ub3c5\uc7582"}),(0,Ea.jsx)(lo,{placeholder:"\ud310\ub3c5\uc7582",mb:"15px",value:c.length>0?c[0].confirmdr:""})]}),(0,Ea.jsxs)(Fy,{gap:2,children:[(0,Ea.jsx)(Xo,{variant:"outline",mr:3,onClick:l,children:"Cancel"}),(0,Ea.jsx)(Xo,{colorScheme:"blue",variant:"outline",children:"\uc608\ube44\ud310\ub3c5"}),(0,Ea.jsx)(Xo,{colorScheme:"blue",children:"\ud310\ub3c5"})]})]})]})]})}function tW(e){var t=e.pname,n=e.pid,r=as(),a=r.isOpen,o=r.onOpen,i=r.onClose;return(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsx)(Xo,{size:"xs",onClick:o,children:t}),(0,Ea.jsxs)(gl,{isOpen:a,onClose:i,size:"6xl",children:[(0,Ea.jsx)(Wg,{}),(0,Ea.jsxs)(Ey,{children:[(0,Ea.jsxs)(Ry,{children:[t," (ID : ",n,")"]}),(0,Ea.jsx)(Ly,{}),(0,Ea.jsx)(Ny,{children:(0,Ea.jsx)(Jz,{pid:n,pname:t})}),(0,Ea.jsxs)(Fy,{children:[(0,Ea.jsx)(Xo,{colorScheme:"blue",mr:3,onClick:i,children:"Close"}),(0,Ea.jsx)(Xo,{variant:"ghost",children:"Secondary Action"})]})]})]})]})}function nW(e){var t=e.studies;return(0,Ea.jsx)(Ea.Fragment,{children:(0,Ea.jsx)(Jo,{padding:"23px",children:(0,Ea.jsxs)(ai,{variant:"simple",colorScheme:"blue",fontSize:"sm",children:[(0,Ea.jsx)(ii,{color:"gray.300",children:"MyPACS Study list @PACSPLUS-DATABASE"}),(0,Ea.jsx)(si,{bg:"blue.500",children:(0,Ea.jsxs)(li,{children:[(0,Ea.jsx)(ci,{color:"white",children:"\ud658\uc790 \uc544\uc774\ub514"}),(0,Ea.jsx)(ci,{color:"white",children:"\ud658\uc790 \uc774\ub984"}),(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc7a5\ube44"}),(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc124\uba85"}),(0,Ea.jsx)(ci,{color:"white",children:"\uac80\uc0ac \uc77c\uc2dc"}),(0,Ea.jsx)(ci,{color:"white",children:"\ud310\ub3c5 \uc0c1\ud0dc"}),(0,Ea.jsx)(ci,{color:"white",children:"\uc2dc\ub9ac\uc988"}),(0,Ea.jsx)(ci,{color:"white",children:"\uc774\ubbf8\uc9c0"}),(0,Ea.jsx)(ci,{color:"white",children:"Verify"})]})}),(0,Ea.jsx)(di,{children:(0,Ea.jsx)(yi,{children:t.map((function(e){return(0,Ea.jsxs)(li,{children:[(0,Ea.jsxs)(xi,{children:[(0,Ea.jsx)(Ji,{value:e.studykey.toString()}),e.pid]}),(0,Ea.jsx)(xi,{children:(0,Ea.jsx)(tW,{pid:e.pid,pname:e.pname})}),(0,Ea.jsx)(xi,{children:e.modality}),(0,Ea.jsx)(xi,{children:e.studydesc}),(0,Ea.jsx)(xi,{children:e.studydate}),(0,Ea.jsx)(xi,{children:rW(e.reportstatus)}),(0,Ea.jsx)(xi,{children:e.seriescnt}),(0,Ea.jsx)(xi,{children:e.imagecnt}),(0,Ea.jsx)(xi,{children:e.verifyflag})]},e.studykey)}))})})]})})})}function rW(e){switch(e){case 3:return"\uc77d\uc9c0\uc54a\uc74c";case 4:return"\uc5f4\ub78c\uc911";case 5:return"\uc608\ube44\ud310\ub3c5";case 6:return"\ud310\ub3c5"}}function aW(e){return Ow({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#2196F3",points:"17.1,5 14,8.1 29.9,24 14,39.9 17.1,43 36,24"}}]})(e)}function oW(e){return Ow({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#2196F3",points:"30.9,43 34,39.9 18.1,24 34,8.1 30.9,5 12,24"}}]})(e)}function iW(){var e=Se((0,a.useState)(1),2),t=e[0],n=e[1],r=Se((0,a.useState)(5),2),o=r[0],i=r[1],s=Se((0,a.useState)(1),2),l=s[0],u=s[1],c=Se((0,a.useState)(9999),2),d=c[0],f=c[1],p=Se((0,a.useState)(""),2),m=p[0],g=p[1],v=Se((0,a.useState)(""),2),h=v[0],y=v[1],b=Se((0,a.useState)(0),2),x=b[0],w=b[1],C=Se((0,a.useState)(!0),2),S=(C[0],C[1]),T=Se((0,a.useState)([]),2),P=T[0],O=T[1],A=function(){var e=ye(ve().mark((function e(){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://192.168.30.88:8443/v1/api/pacs/studies?page=".concat(t,"&pageSize=").concat(o,"&periods=").concat(d),{method:"GET"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,O(r.list),u(r.totalPageCount),S(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=ye(ve().mark((function e(){var n,r,a,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),r={pid:m,pname:h,reportstatus:x},e.next=5,fetch("https://192.168.30.88:8443/v1/api/pacs/studies?page=".concat(t,"&pageSize=").concat(o,"&periods=").concat(d),{method:"POST",headers:n,body:JSON.stringify(r)});case 5:return a=e.sent,e.next=8,a.json();case 8:i=e.sent,O(i.list),u(i.totalPageCount),S(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){""!==m||""!==h||0!==x?E():A()}),[m,h,x,t,o,d]),(0,Ea.jsxs)(Ea.Fragment,{children:[(0,Ea.jsxs)(ka,{margin:"23px",children:[(0,Ea.jsxs)(Na,{children:[(0,Ea.jsx)(lo,{onChange:function(e){n(1),g(e.target.value)},variant:"filled",placeholder:"\ud658\uc790\uc544\uc774\ub514"}),(0,Ea.jsx)(lo,{onChange:function(e){n(1),y(e.target.value)},variant:"filled",placeholder:"\ud658\uc790\uc774\ub984"}),(0,Ea.jsxs)(mo,{onChange:function(e){n(1),w(parseInt(e.target.value))},variant:"filled",children:[(0,Ea.jsx)("option",{value:"",selected:!0,children:"\ud310\ub3c5\uc0c1\ud0dc"}),(0,Ea.jsx)("option",{value:"3",children:"\uc77d\uc9c0\uc54a\uc74c"}),(0,Ea.jsx)("option",{value:"4",children:"\uc5f4\ub78c\uc911"}),(0,Ea.jsx)("option",{value:"5",children:"\uc608\ube44\ud310\ub3c5"}),(0,Ea.jsx)("option",{value:"6",children:"\ud310\ub3c5"})]})]}),(0,Ea.jsxs)(Na,{mt:"20px",justifyContent:"center",children:[["\uc804\uccb4","1\uc77c","3\uc77c","1\uc8fc\uc77c","6\uac1c\uc6d4","1\ub144"].map((function(e){return(0,Ea.jsx)(Po,{onClick:function(){!function(e){n(1),"\uc804\uccb4"===e?f(9999):"1\uc77c"===e?f(1):"3\uc77c"===e?f(3):"1\uc8fc\uc77c"===e?f(7):"6\uac1c\uc6d4"===e?f(180):"1\ub144"===e&&f(360)}(e)},size:"lg",variant:"outline",colorScheme:"blackAlpha",_hover:{cursor:"pointer",color:"whitesmoke",bg:"blue.500",boxShadow:"none"},children:(0,Ea.jsx)(Oo,{children:e})},e)})),(0,Ea.jsx)(Ro,{height:"30px",margin:"0 15px 0 15px",children:(0,Ea.jsx)(Do,{orientation:"vertical"})}),["\ub2e4\uc6b4\ub85c\ub4dc","\uac80\uc0ac\uc0ad\uc81c"].map((function(e){return(0,Ea.jsx)(Po,{size:"lg",variant:"outline",colorScheme:"blackAlpha",_hover:{cursor:"pointer",color:"whitesmoke",bg:"blackAlpha.700"},children:(0,Ea.jsx)(Oo,{children:e})},e)})),(0,Ea.jsxs)(mo,{defaultValue:"5",onChange:function(e){var t=parseInt(e.target.value);n(1),i(t)},name:"pagesize",w:"10%",h:"32px",borderColor:"blackAlpha.500",color:"blackAlpha.900",minW:"100px",children:[(0,Ea.jsx)("option",{value:"5",children:"5\uac1c\uc529 \ubcf4\uae30"}),(0,Ea.jsx)("option",{value:"10",children:"10\uac1c\uc529 \ubcf4\uae30"}),(0,Ea.jsx)("option",{value:"20",children:"20\uac1c\uc529 \ubcf4\uae30"})]})]})]}),(0,Ea.jsx)(nW,{studies:P}),(0,Ea.jsx)(Ro,{mt:"10px",children:(0,Ea.jsxs)(Na,{children:[(0,Ea.jsx)(Zo,{onClick:function(){t>1&&n(t-1)},"aria-label":"Previous Page",icon:(0,Ea.jsx)(oW,{})}),(0,Ea.jsx)(Zo,{onClick:function(){t<l&&n(t+1)},"aria-label":"Next Page",icon:(0,Ea.jsx)(aW,{})})]})})]})}var sW=function(){return(0,Ea.jsx)(iW,{})};var lW,uW,cW=function(){return(0,Ea.jsx)(ie,{children:(0,Ea.jsx)(oe,{children:(0,Ea.jsx)(J,{path:"/",children:(0,Ea.jsx)(sW,{})})})})};function dW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fW=String.raw,pW=fW(lW||(lW=dW(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),mW=function(){return(0,Ea.jsx)(Fo,{styles:pW})},gW=function(e){var t=e.scope,n=void 0===t?"":t;return(0,Ea.jsx)(Fo,{styles:fW(uW||(uW=dW(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,pW)})};function vW(e){var t=e.cssVarsRoot,n=e.theme,r=e.children,o=(0,a.useMemo)((function(){return hn(n)}),[n]);return(0,Ea.jsxs)(da,{theme:o,children:[(0,Ea.jsx)(hW,{root:t}),r]})}function hW(e){var t=e.root,n=[void 0===t?":host, :root":t,"[data-theme]"].join(",");return(0,Ea.jsx)(Fo,{styles:function(e){return Pe({},n,e.__cssVars)}})}var yW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strict,n=void 0===t||t,r=e.errorMessage,o=void 0===r?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":r,i=e.name,s=(0,a.createContext)(void 0);return s.displayName=i,[s.Provider,function e(){var t,r=(0,a.useContext)(s);if(!r&&n){var i=new Error(o);throw i.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,i,e),i}return r},s]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),bW=Se(yW,2);bW[0],bW[1];function xW(){var e=Ln().colorMode;return(0,Ea.jsx)(Fo,{styles:function(t){var n=Fn(Vn(t,"styles.global"),{theme:t,colorMode:e});if(n){var r=An(n)(t);return r}}})}var wW={light:"chakra-ui-light",dark:"chakra-ui-dark"};var CW="chakra-ui-color-mode";var SW=function(e){return{ssr:!1,type:"localStorage",get:function(t){if(!(null==globalThis?void 0:globalThis.document))return t;var n;try{n=localStorage.getItem(e)||t}catch(r){}return n||t},set:function(t){try{localStorage.setItem(e,t)}catch(n){}}}}(CW);function TW(e,t){var n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==n?void 0:n[2]}function PW(e,t){return{ssr:!!t,type:"cookie",get:function(n){return t?TW(t,e):(null==globalThis?void 0:globalThis.document)&&TW(document.cookie,e)||n},set:function(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}PW(CW);var OW=function(){};function AW(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function EW(e){var t=e.value,n=e.children,r=e.options,o=void 0===r?{}:r,i=o.useSystemColorMode,s=o.initialColorMode,l=o.disableTransitionOnChange,u=e.colorModeManager,c=void 0===u?SW:u,d="dark"===s?"dark":"light",f=Se((0,a.useState)((function(){return AW(c,d)})),2),p=f[0],m=f[1],g=Se((0,a.useState)((function(){return AW(c)})),2),v=g[0],h=g[1],y=(0,a.useMemo)((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventTransition,t=void 0===e||e,n={setDataset:function(e){var r=t?n.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==r||r()},setClassName:function(e){document.body.classList.add(e?wW.dark:wW.light),document.body.classList.remove(e?wW.light:wW.dark)},query:function(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme:function(e){var t;return(null!=(t=n.query().matches)?t:"dark"===e)?"dark":"light"},addListener:function(e){var t=n.query(),r=function(t){e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(r):t.addEventListener("change",r),function(){"function"===typeof t.removeListener?t.removeListener(r):t.removeEventListener("change",r)}},preventTransition:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),function(){window.getComputedStyle(document.body),requestAnimationFrame((function(){requestAnimationFrame((function(){document.head.removeChild(e)}))}))}}};return n}({preventTransition:l})}),[l]),b=y.getSystemTheme,x=y.setClassName,w=y.setDataset,C=y.addListener,S="system"!==s||p?p:v,T=(0,a.useCallback)((function(e){var t="system"===e?b():e;m(t),x("dark"===t),w(t),c.set(t)}),[c,b,x,w]);Pi((function(){"system"===s&&h(b())}),[]),(0,a.useEffect)((function(){var e=c.get();T(e||("system"!==s?d:"system"))}),[c,d,s,T]);var P=(0,a.useCallback)((function(){T("dark"===S?"light":"dark")}),[S,T]);(0,a.useEffect)((function(){if(i)return C(T)}),[i,C,T]);var O=(0,a.useMemo)((function(){return{colorMode:null!=t?t:S,toggleColorMode:t?OW:P,setColorMode:t?OW:T,forced:void 0!==t}}),[S,P,T,t]);return(0,Ea.jsx)(Dn.Provider,{value:O,children:n})}EW.displayName="ColorModeProvider";var IW=(0,a.createContext)({getDocument:function(){return document},getWindow:function(){return window}});function RW(e){var t=e.children,n=e.environment,r=e.disabled,o=(0,a.useRef)(null),i=(0,a.useMemo)((function(){return n||{getDocument:function(){var e,t;return null!=(t=null==(e=o.current)?void 0:e.ownerDocument)?t:document},getWindow:function(){var e,t;return null!=(t=null==(e=o.current)?void 0:e.ownerDocument.defaultView)?t:window}}}),[n]),s=!r||!n;return(0,Ea.jsxs)(IW.Provider,{value:i,children:[t,s&&(0,Ea.jsx)("span",{id:"__chakra_env",hidden:!0,ref:o})]})}IW.displayName="EnvironmentContext",RW.displayName="EnvironmentProvider";var kW,MW,_W,DW,LW=function(e){var t=e.children,n=e.colorModeManager,r=e.portalZIndex,a=e.resetScope,o=e.resetCSS,i=void 0===o||o,s=e.theme,l=void 0===s?{}:s,u=e.environment,c=e.cssVarsRoot,d=e.disableEnvironment,f=e.disableGlobalStyle,p=(0,Ea.jsx)(RW,{environment:u,disabled:d,children:t});return(0,Ea.jsx)(vW,{theme:l,cssVarsRoot:c,children:(0,Ea.jsxs)(EW,{colorModeManager:n,options:l.config,children:[i?(0,Ea.jsx)(gW,{scope:a}):(0,Ea.jsx)(mW,{}),!f&&(0,Ea.jsx)(xW,{}),r?(0,Ea.jsx)(Ts,{zIndex:r,children:p}):p]})})},VW={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},NW={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},BW={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},FW={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},UW={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},jW={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},GW={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},zW={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},WW={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},HW={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},KW=Ae(Ae(Ae({},HW),{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"}),{},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),qW=Ae(Ae({breakpoints:FW,zIndices:NW,radii:jW,blur:zW,colors:UW},WW),{},{sizes:KW,shadows:GW,space:HW,borders:BW,transition:VW}),XW=En(["stepper","step","title","description","indicator","separator","icon","number"]),YW=XW.defineMultiStyleConfig,$W=XW.definePartsStyle,ZW=jt("stepper-indicator-size"),QW=jt("stepper-icon-size"),JW=jt("stepper-title-font-size"),eH=jt("stepper-description-font-size"),tH=jt("stepper-accent-color"),nH=$W((function(e){var t,n=e.colorScheme;return{stepper:(t={display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"}},Pe(t,tH.variable,"colors.".concat(n,".500")),Pe(t,"_dark",Pe({},tH.variable,"colors.".concat(n,".200"))),t),title:{fontSize:JW.reference,fontWeight:"medium"},description:{fontSize:eH.reference,color:"chakra-subtle-text"},number:{fontSize:JW.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:QW.reference,height:QW.reference},indicator:{flexShrink:0,borderRadius:"full",width:ZW.reference,height:ZW.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:tH.reference},"&[data-status=complete]":{bg:tH.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:tH.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(ZW.reference," - 8px)"),top:"calc(".concat(ZW.reference," + 4px)"),insetStart:"calc(".concat(ZW.reference," / 2 - 1px)")}}}})),rH=YW({baseStyle:nH,sizes:{xs:$W({stepper:(kW={},Pe(kW,ZW.variable,"sizes.4"),Pe(kW,QW.variable,"sizes.3"),Pe(kW,JW.variable,"fontSizes.xs"),Pe(kW,eH.variable,"fontSizes.xs"),kW)}),sm:$W({stepper:(MW={},Pe(MW,ZW.variable,"sizes.6"),Pe(MW,QW.variable,"sizes.4"),Pe(MW,JW.variable,"fontSizes.sm"),Pe(MW,eH.variable,"fontSizes.xs"),MW)}),md:$W({stepper:(_W={},Pe(_W,ZW.variable,"sizes.8"),Pe(_W,QW.variable,"sizes.5"),Pe(_W,JW.variable,"fontSizes.md"),Pe(_W,eH.variable,"fontSizes.sm"),_W)}),lg:$W({stepper:(DW={},Pe(DW,ZW.variable,"sizes.10"),Pe(DW,QW.variable,"sizes.6"),Pe(DW,JW.variable,"fontSizes.lg"),Pe(DW,eH.variable,"fontSizes.md"),DW)})},defaultProps:{size:"md",colorScheme:"blue"}});function aH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){var n=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:function(){return t}}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];for(var s=0,l=o;s<l.length;s++){var u=l[s];t[u]=r(u)}return aH(e,t)},toPart:r,extend:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];for(var i=0,s=a;i<s.length;i++){var l=s[i];l in t||(t[l]=r(l))}return aH(e,t)},selectors:function(){var e=Object.fromEntries(Object.entries(t).map((function(e){var t=Se(e,2);return[t[0],t[1].selector]})));return e},classnames:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=Se(e,2);return[t[0],t[1].className]})))},get keys(){return Object.keys(t)},__type:{}}}var oH=aH("accordion").parts("root","container","button","panel").extend("icon"),iH=aH("alert").parts("title","description","container").extend("icon","spinner"),sH=aH("avatar").parts("label","badge","container").extend("excessLabel","group"),lH=aH("breadcrumb").parts("link","item","container").extend("separator"),uH=(aH("button").parts(),aH("checkbox").parts("control","icon","container").extend("label")),cH=(aH("progress").parts("track","filledTrack").extend("label"),aH("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),dH=aH("editable").parts("preview","input","textarea"),fH=aH("form").parts("container","requiredIndicator","helperText"),pH=aH("formError").parts("text","icon"),mH=aH("input").parts("addon","field","element","group"),gH=aH("list").parts("container","item","icon"),vH=aH("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),hH=aH("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),yH=aH("numberinput").parts("root","field","stepperGroup","stepper"),bH=(aH("pininput").parts("field"),aH("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),xH=aH("progress").parts("label","filledTrack","track"),wH=aH("radio").parts("container","control","label"),CH=aH("select").parts("field","icon"),SH=aH("slider").parts("container","track","thumb","filledTrack","mark"),TH=aH("stat").parts("container","label","helpText","number","icon"),PH=aH("switch").parts("container","track","thumb"),OH=aH("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),AH=aH("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),EH=aH("tag").parts("container","label","closeButton"),IH=aH("card").parts("container","header","body","footer");function RH(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function kH(e,t){return"var(".concat(RH(e)).concat(t?", ".concat(t):"",")")}function MH(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",RH(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function _H(e,t){var n=MH(e,null==t?void 0:t.prefix);return{variable:n,reference:kH(n,DH(null==t?void 0:t.fallback))}}function DH(e){return"string"===typeof e?e:null==e?void 0:e.reference}function LH(e){return De(e)&&e.reference?e.reference:String(e)}var VH,NH,BH,FH=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(LH).join(" ".concat(e," ")).replace(/calc/g,"")},UH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(FH.apply(void 0,["+"].concat(t)),")")},jH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(FH.apply(void 0,["-"].concat(t)),")")},GH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(FH.apply(void 0,["*"].concat(t)),")")},zH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(FH.apply(void 0,["/"].concat(t)),")")},WH=function(e){var t=LH(e);return null==t||Number.isNaN(parseFloat(t))?GH(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},HH=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HH(UH.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HH(jH.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HH(GH.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HH(zH.apply(void 0,[e].concat(n)))},negate:function(){return HH(WH(e))},toString:function(){return e.toString()}}}),{add:UH,subtract:jH,multiply:GH,divide:zH,negate:WH}),KH=En(PH.keys),qH=KH.defineMultiStyleConfig,XH=KH.definePartsStyle,YH=_H("switch-track-width"),$H=_H("switch-track-height"),ZH=_H("switch-track-diff"),QH=HH.subtract(YH,$H),JH=_H("switch-thumb-x"),eK=_H("switch-bg"),tK=function(e){var t,n,r=e.colorScheme;return Pe(n={borderRadius:"full",p:"0.5",width:[YH.reference],height:[$H.reference],transitionProperty:"common",transitionDuration:"fast"},eK.variable,"colors.gray.300"),Pe(n,"_dark",Pe({},eK.variable,"colors.whiteAlpha.400")),Pe(n,"_focusVisible",{boxShadow:"outline"}),Pe(n,"_disabled",{opacity:.4,cursor:"not-allowed"}),Pe(n,"_checked",(Pe(t={},eK.variable,"colors.".concat(r,".500")),Pe(t,"_dark",Pe({},eK.variable,"colors.".concat(r,".200"))),t)),Pe(n,"bg",eK.reference),n},nK={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$H.reference],height:[$H.reference],_checked:{transform:"translateX(".concat(JH.reference,")")}},rK=XH((function(e){var t;return{container:(t={},Pe(t,ZH.variable,QH),Pe(t,JH.variable,ZH.reference),Pe(t,"_rtl",Pe({},JH.variable,HH(ZH).negate().toString())),t),track:tK(e),thumb:nK}})),aK=qH({baseStyle:rK,sizes:{sm:XH({container:(VH={},Pe(VH,YH.variable,"1.375rem"),Pe(VH,$H.variable,"sizes.3"),VH)}),md:XH({container:(NH={},Pe(NH,YH.variable,"1.875rem"),Pe(NH,$H.variable,"sizes.4"),NH)}),lg:XH({container:(BH={},Pe(BH,YH.variable,"2.875rem"),Pe(BH,$H.variable,"sizes.6"),BH)})},defaultProps:{size:"md",colorScheme:"blue"}});function oK(e,t){return function(n){return"dark"===n.colorMode?t:e}}function iK(e){var t=e.orientation,n=e.vertical,r=e.horizontal;return t?"vertical"===t?n:r:{}}var sK=En(OH.keys),lK=sK.defineMultiStyleConfig,uK=sK.definePartsStyle,cK=uK({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),dK={"&[data-is-numeric=true]":{textAlign:"end"}},fK=uK((function(e){var t=e.colorScheme;return{th:Ae({color:oK("gray.600","gray.400")(e),borderBottom:"1px",borderColor:oK("".concat(t,".100"),"".concat(t,".700"))(e)},dK),td:Ae({borderBottom:"1px",borderColor:oK("".concat(t,".100"),"".concat(t,".700"))(e)},dK),caption:{color:oK("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),pK=uK((function(e){var t=e.colorScheme;return{th:Ae({color:oK("gray.600","gray.400")(e),borderBottom:"1px",borderColor:oK("".concat(t,".100"),"".concat(t,".700"))(e)},dK),td:Ae({borderBottom:"1px",borderColor:oK("".concat(t,".100"),"".concat(t,".700"))(e)},dK),caption:{color:oK("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:oK("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:oK("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),mK=lK({baseStyle:cK,variants:{simple:fK,striped:pK,unstyled:{}},sizes:{sm:uK({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:uK({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:uK({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function gK(e,t,n){return Math.min(Math.max(e,n),t)}var vK=function(e){Xs(n,e);var t=Js(n);function n(e){return os(this,n),t.call(this,'Failed to parse color: "'.concat(e,'"'))}return ss(n)}(Vw(Error)),hK=vK;function yK(e){if("string"!==typeof e)throw new hK(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];var t=e.trim();t=OK.test(e)?function(e){var t=e.toLowerCase().trim(),n=xK[function(e){var t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new hK(e);return"#".concat(n)}(e):e;var n=CK.exec(t);if(n){var r=Array.from(n).slice(1);return[].concat(Re(r.slice(0,3).map((function(e){return parseInt(wK(e,2),16)}))),[parseInt(wK(r[3]||"f",2),16)/255])}var a=SK.exec(t);if(a){var o=Array.from(a).slice(1);return[].concat(Re(o.slice(0,3).map((function(e){return parseInt(e,16)}))),[parseInt(o[3]||"ff",16)/255])}var i=TK.exec(t);if(i){var s=Array.from(i).slice(1);return[].concat(Re(s.slice(0,3).map((function(e){return parseInt(e,10)}))),[parseFloat(s[3]||"1")])}var l=PK.exec(t);if(l){var u=Se(Array.from(l).slice(1).map(parseFloat),4),c=u[0],d=u[1],f=u[2],p=u[3];if(gK(0,100,d)!==d)throw new hK(e);if(gK(0,100,f)!==f)throw new hK(e);return[].concat(Re(EK(c,d,f)),[Number.isNaN(p)?1:p])}throw new hK(e)}var bK=function(e){return parseInt(e.replace(/_/g,""),36)},xK="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((function(e,t){for(var n=bK(t.substring(0,3)),r=bK(t.substring(3)).toString(16),a="",o=0;o<6-r.length;o++)a+="0";return e[n]="".concat(a).concat(r),e}),{});var wK=function(e,t){return Array.from(Array(t)).map((function(){return e})).join("")},CK=new RegExp("^#".concat(wK("([a-f0-9])",3),"([a-f0-9])?$"),"i"),SK=new RegExp("^#".concat(wK("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),TK=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(wK(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),PK=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,OK=/^[a-z]+$/i,AK=function(e){return Math.round(255*e)},EK=function(e,t,n){var r=n/100;if(0===t)return[r,r,r].map(AK);var a=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),i=o*(1-Math.abs(a%2-1)),s=0,l=0,u=0;a>=0&&a<1?(s=o,l=i):a>=1&&a<2?(s=i,l=o):a>=2&&a<3?(l=o,u=i):a>=3&&a<4?(l=i,u=o):a>=4&&a<5?(s=i,u=o):a>=5&&a<6&&(s=o,u=i);var c=r-o/2;return[s+c,l+c,u+c].map(AK)};function IK(e,t,n,r){return"rgba(".concat(gK(0,255,e).toFixed(),", ").concat(gK(0,255,t).toFixed(),", ").concat(gK(0,255,n).toFixed(),", ").concat(parseFloat(gK(0,1,r).toFixed(3)),")")}function RK(e,t){var n=Se(yK(e),4);return IK(n[0],n[1],n[2],n[3]-t)}var kK=function(e,t,n){var r=function(e,t,n,r,a){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:a;return e===a?n:e}(e,"colors.".concat(t),t);try{return function(e){var t=Se(yK(e),4),n=t[0],r=t[1],a=t[2],o=t[3],i=function(e){var t=gK(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(i(n)).concat(i(r)).concat(i(a)).concat(o<1?i(Math.round(255*o)):"")}(r),r}catch(CJ){return null!=n?n:"#000000"}},MK=function(e){return function(t){var n=function(e){var t=Se(yK(e),3);return(299*t[0]+587*t[1]+114*t[2])/1e3}(kK(t,e));return n<128?"dark":"light"}},_K=function(e,t){return function(n){return RK(kK(n,e),1-t)}};function DK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}function LK(e){var t="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return!e||function(e){return 0===Object.keys(e).length}(e)?t:e.string&&e.colors?function(e,t){var n=0;if(0===e.length)return t[0];for(var r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t),t&=t;for(var r="#",a=0;a<3;a+=1){r+="00".concat((t>>8*a&255).toString(16)).substr(-2)}return r}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t}var VK,NK,BK,FK,UK,jK,GK,zK,WK=jt("tabs-color"),HK=jt("tabs-bg"),KK=jt("tabs-border-color"),qK=En(AH.keys),XK=qK.defineMultiStyleConfig,YK=qK.definePartsStyle,$K=function(e){return{display:"vertical"===e.orientation?"flex":"block"}},ZK=function(e){return{flex:e.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},QK=function(e){var t=e.align,n=void 0===t?"start":t,r=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:"vertical"===r?"column":"row"}},JK={p:4},eq=YK((function(e){return{root:$K(e),tab:ZK(e),tablist:QK(e),tabpanel:JK}})),tq={sm:YK({tab:{py:1,px:4,fontSize:"sm"}}),md:YK({tab:{fontSize:"md",py:2,px:4}}),lg:YK({tab:{fontSize:"lg",py:3,px:4}})},nq=YK((function(e){var t,n,r,a,o=e.colorScheme,i="vertical"===e.orientation,s=i?"borderStart":"borderBottom",l=i?"marginStart":"marginBottom";return{tablist:(t={},Pe(t,s,"2px solid"),Pe(t,"borderColor","inherit"),t),tab:(a={},Pe(a,s,"2px solid"),Pe(a,"borderColor","transparent"),Pe(a,l,"-2px"),Pe(a,"_selected",(n={},Pe(n,WK.variable,"colors.".concat(o,".600")),Pe(n,"_dark",Pe({},WK.variable,"colors.".concat(o,".300"))),Pe(n,"borderColor","currentColor"),n)),Pe(a,"_active",(r={},Pe(r,HK.variable,"colors.gray.200"),Pe(r,"_dark",Pe({},HK.variable,"colors.whiteAlpha.300")),r)),Pe(a,"_disabled",{_active:{bg:"none"}}),Pe(a,"color",WK.reference),Pe(a,"bg",HK.reference),a)}})),rq=YK((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px"},Pe(r,KK.variable,"transparent"),Pe(r,"_selected",(n={},Pe(n,WK.variable,"colors.".concat(a,".600")),Pe(n,KK.variable,"colors.white"),Pe(n,"_dark",(t={},Pe(t,WK.variable,"colors.".concat(a,".300")),Pe(t,KK.variable,"colors.gray.800"),t)),Pe(n,"borderColor","inherit"),Pe(n,"borderBottomColor",KK.reference),n)),Pe(r,"color",WK.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),aq=YK((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={border:"1px solid",borderColor:"inherit"},Pe(r,HK.variable,"colors.gray.50"),Pe(r,"_dark",Pe({},HK.variable,"colors.whiteAlpha.50")),Pe(r,"mb","-1px"),Pe(r,"_notLast",{marginEnd:"-1px"}),Pe(r,"_selected",(n={},Pe(n,HK.variable,"colors.white"),Pe(n,WK.variable,"colors.".concat(a,".600")),Pe(n,"_dark",(t={},Pe(t,HK.variable,"colors.gray.800"),Pe(t,WK.variable,"colors.".concat(a,".300")),t)),Pe(n,"borderColor","inherit"),Pe(n,"borderTopColor","currentColor"),Pe(n,"borderBottomColor","transparent"),n)),Pe(r,"color",WK.reference),Pe(r,"bg",HK.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),oq=YK((function(e){var t=e.colorScheme,n=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:kK(n,"".concat(t,".700")),bg:kK(n,"".concat(t,".100"))}}}})),iq=YK((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={borderRadius:"full",fontWeight:"semibold"},Pe(r,WK.variable,"colors.gray.600"),Pe(r,"_dark",Pe({},WK.variable,"inherit")),Pe(r,"_selected",(n={},Pe(n,WK.variable,"colors.white"),Pe(n,HK.variable,"colors.".concat(a,".600")),Pe(n,"_dark",(t={},Pe(t,WK.variable,"colors.gray.800"),Pe(t,HK.variable,"colors.".concat(a,".300")),t)),n)),Pe(r,"color",WK.reference),Pe(r,"bg",HK.reference),r)}})),sq=XK({baseStyle:eq,sizes:tq,variants:{line:nq,enclosed:rq,"enclosed-colored":aq,"soft-rounded":oq,"solid-rounded":iq,unstyled:YK({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),lq=function(e,t){var n,r={},a=ke(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(Array.isArray(o)){var i=Se(o,2),s=i[0],l=i[1];r[s]=jt("".concat(e,"-").concat(s),l)}else r[o]=jt("".concat(e,"-").concat(o))}}catch(wJ){a.e(wJ)}finally{a.f()}return r}("badge",["bg","color","shadow"]),uq=function(e){var t,n,r=e.colorScheme,a=e.theme,o=_K("".concat(r,".500"),.6)(a);return Pe(n={},lq.bg.variable,"colors.".concat(r,".500")),Pe(n,lq.color.variable,"colors.white"),Pe(n,"_dark",(Pe(t={},lq.bg.variable,o),Pe(t,lq.color.variable,"colors.whiteAlpha.800"),t)),n},cq=function(e){var t,n,r=e.colorScheme,a=e.theme,o=_K("".concat(r,".200"),.16)(a);return Pe(n={},lq.bg.variable,"colors.".concat(r,".100")),Pe(n,lq.color.variable,"colors.".concat(r,".800")),Pe(n,"_dark",(Pe(t={},lq.bg.variable,o),Pe(t,lq.color.variable,"colors.".concat(r,".200")),t)),n},dq=function(e){var t,n=e.colorScheme,r=e.theme,a=_K("".concat(n,".200"),.8)(r);return Pe(t={},lq.color.variable,"colors.".concat(n,".500")),Pe(t,"_dark",Pe({},lq.color.variable,a)),Pe(t,lq.shadow.variable,"inset 0 0 0px 1px ".concat(lq.color.reference)),t},fq={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:lq.bg.reference,color:lq.color.reference,boxShadow:lq.shadow.reference},variants:{solid:uq,subtle:cq,outline:dq},defaultProps:{variant:"subtle",colorScheme:"gray"}},pq=En(EH.keys),mq=pq.defineMultiStyleConfig,gq=pq.definePartsStyle,vq=jt("tag-bg"),hq=jt("tag-color"),yq=jt("tag-shadow"),bq=jt("tag-min-height"),xq=jt("tag-min-width"),wq=jt("tag-font-size"),Cq=jt("tag-padding-inline"),Sq=gq({container:(Pe(VK={fontWeight:"medium",lineHeight:1.2,outline:0},hq.variable,lq.color.reference),Pe(VK,vq.variable,lq.bg.reference),Pe(VK,yq.variable,lq.shadow.reference),Pe(VK,"color",hq.reference),Pe(VK,"bg",vq.reference),Pe(VK,"boxShadow",yq.reference),Pe(VK,"borderRadius","md"),Pe(VK,"minH",bq.reference),Pe(VK,"minW",xq.reference),Pe(VK,"fontSize",wq.reference),Pe(VK,"px",Cq.reference),Pe(VK,"_focusVisible",Pe({},yq.variable,"shadows.outline")),VK),label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),Tq={sm:gq({container:(NK={},Pe(NK,bq.variable,"sizes.5"),Pe(NK,xq.variable,"sizes.5"),Pe(NK,wq.variable,"fontSizes.xs"),Pe(NK,Cq.variable,"space.2"),NK),closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:gq({container:(BK={},Pe(BK,bq.variable,"sizes.6"),Pe(BK,xq.variable,"sizes.6"),Pe(BK,wq.variable,"fontSizes.sm"),Pe(BK,Cq.variable,"space.2"),BK)}),lg:gq({container:(FK={},Pe(FK,bq.variable,"sizes.8"),Pe(FK,xq.variable,"sizes.8"),Pe(FK,wq.variable,"fontSizes.md"),Pe(FK,Cq.variable,"space.3"),FK)})},Pq={subtle:gq((function(e){var t;return{container:null==(t=fq.variants)?void 0:t.subtle(e)}})),solid:gq((function(e){var t;return{container:null==(t=fq.variants)?void 0:t.solid(e)}})),outline:gq((function(e){var t;return{container:null==(t=fq.variants)?void 0:t.outline(e)}}))},Oq=mq({variants:Pq,baseStyle:Sq,sizes:Tq,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),Aq=En(mH.keys),Eq=Aq.definePartsStyle,Iq=Aq.defineMultiStyleConfig,Rq=jt("input-height"),kq=jt("input-font-size"),Mq=jt("input-padding"),_q=jt("input-border-radius"),Dq=Eq({addon:{height:Rq.reference,fontSize:kq.reference,px:Mq.reference,borderRadius:_q.reference},field:{width:"100%",height:Rq.reference,fontSize:kq.reference,px:Mq.reference,borderRadius:_q.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Lq={lg:(UK={},Pe(UK,kq.variable,"fontSizes.lg"),Pe(UK,Mq.variable,"space.4"),Pe(UK,_q.variable,"radii.md"),Pe(UK,Rq.variable,"sizes.12"),UK),md:(jK={},Pe(jK,kq.variable,"fontSizes.md"),Pe(jK,Mq.variable,"space.4"),Pe(jK,_q.variable,"radii.md"),Pe(jK,Rq.variable,"sizes.10"),jK),sm:(GK={},Pe(GK,kq.variable,"fontSizes.sm"),Pe(GK,Mq.variable,"space.3"),Pe(GK,_q.variable,"radii.sm"),Pe(GK,Rq.variable,"sizes.8"),GK),xs:(zK={},Pe(zK,kq.variable,"fontSizes.xs"),Pe(zK,Mq.variable,"space.2"),Pe(zK,_q.variable,"radii.sm"),Pe(zK,Rq.variable,"sizes.6"),zK)},Vq={lg:Eq({field:Lq.lg,group:Lq.lg}),md:Eq({field:Lq.md,group:Lq.md}),sm:Eq({field:Lq.sm,group:Lq.sm}),xs:Eq({field:Lq.xs,group:Lq.xs})};function Nq(e){var t=e.focusBorderColor,n=e.errorBorderColor;return{focusBorderColor:t||oK("blue.500","blue.300")(e),errorBorderColor:n||oK("red.500","red.300")(e)}}var Bq,Fq,Uq,jq,Gq,zq,Wq,Hq,Kq,qq,Xq,Yq,$q,Zq=Eq((function(e){var t=e.theme,n=Nq(e),r=n.focusBorderColor,a=n.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:oK("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:kK(t,a),boxShadow:"0 0 0 1px ".concat(kK(t,a))},_focusVisible:{zIndex:1,borderColor:kK(t,r),boxShadow:"0 0 0 1px ".concat(kK(t,r))}},addon:{border:"1px solid",borderColor:oK("inherit","whiteAlpha.50")(e),bg:oK("gray.100","whiteAlpha.300")(e)}}})),Qq=Eq((function(e){var t=e.theme,n=Nq(e),r=n.focusBorderColor,a=n.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:oK("gray.100","whiteAlpha.50")(e),_hover:{bg:oK("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:kK(t,a)},_focusVisible:{bg:"transparent",borderColor:kK(t,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:oK("gray.100","whiteAlpha.50")(e)}}})),Jq=Eq((function(e){var t=e.theme,n=Nq(e),r=n.focusBorderColor,a=n.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:kK(t,a),boxShadow:"0px 1px 0px 0px ".concat(kK(t,a))},_focusVisible:{borderColor:kK(t,r),boxShadow:"0px 1px 0px 0px ".concat(kK(t,r))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),eX=Iq({baseStyle:Dq,sizes:Vq,variants:{outline:Zq,filled:Qq,flushed:Jq,unstyled:Eq({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),tX=Ae(Ae({},null==(Bq=eX.baseStyle)?void 0:Bq.field),{},{paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"}),nX={outline:function(e){var t,n;return null!=(n=null==(t=eX.variants)?void 0:t.outline(e).field)?n:{}},flushed:function(e){var t,n;return null!=(n=null==(t=eX.variants)?void 0:t.flushed(e).field)?n:{}},filled:function(e){var t,n;return null!=(n=null==(t=eX.variants)?void 0:t.filled(e).field)?n:{}},unstyled:null!=(Uq=null==(Fq=eX.variants)?void 0:Fq.unstyled.field)?Uq:{}},rX={baseStyle:tX,sizes:{xs:null!=(Gq=null==(jq=eX.sizes)?void 0:jq.xs.field)?Gq:{},sm:null!=(Wq=null==(zq=eX.sizes)?void 0:zq.sm.field)?Wq:{},md:null!=(Kq=null==(Hq=eX.sizes)?void 0:Hq.md.field)?Kq:{},lg:null!=(Xq=null==(qq=eX.sizes)?void 0:qq.lg.field)?Xq:{}},variants:nX,defaultProps:{size:"md",variant:"outline"}},aX=_H("tooltip-bg"),oX=_H("tooltip-fg"),iX=_H("popper-arrow-bg"),sX={baseStyle:(Pe($q={bg:aX.reference,color:oX.reference},aX.variable,"colors.gray.700"),Pe($q,oX.variable,"colors.whiteAlpha.900"),Pe($q,"_dark",(Pe(Yq={},aX.variable,"colors.gray.300"),Pe(Yq,oX.variable,"colors.gray.900"),Yq)),Pe($q,iX.variable,aX.reference),Pe($q,"px","2"),Pe($q,"py","0.5"),Pe($q,"borderRadius","sm"),Pe($q,"fontWeight","medium"),Pe($q,"fontSize","sm"),Pe($q,"boxShadow","md"),Pe($q,"maxW","xs"),Pe($q,"zIndex","tooltip"),$q)},lX=En(xH.keys),uX=lX.defineMultiStyleConfig,cX=lX.definePartsStyle,dX=function(e){var t=e.colorScheme,n=e.theme,r=e.isIndeterminate,a=e.hasStripe,o=oK(DK(),DK("1rem","rgba(0,0,0,0.1)"))(e),i=oK("".concat(t,".500"),"".concat(t,".200"))(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(kK(n,i)," 50%,\n    transparent 100%\n  )");return Ae(Ae({},!r&&a&&o),r?{bgImage:s}:{bgColor:i})},fX={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},pX=function(e){return{bg:oK("gray.100","whiteAlpha.300")(e)}},mX=function(e){return Ae({transitionProperty:"common",transitionDuration:"slow"},dX(e))},gX=cX((function(e){return{label:fX,filledTrack:mX(e),track:pX(e)}})),vX=uX({sizes:{xs:cX({track:{h:"1"}}),sm:cX({track:{h:"2"}}),md:cX({track:{h:"3"}}),lg:cX({track:{h:"4"}})},baseStyle:gX,defaultProps:{size:"md",colorScheme:"blue"}});function hX(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e}var yX,bX,xX,wX,CX,SX,TX,PX,OX,AX,EX,IX,RX,kX,MX,_X,DX,LX,VX,NX,BX,FX,UX=En(uH.keys),jX=UX.definePartsStyle,GX=UX.defineMultiStyleConfig,zX=jt("checkbox-size"),WX=function(e){var t=e.colorScheme;return{w:zX.reference,h:zX.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:oK("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:oK("".concat(t,".500"),"".concat(t,".200"))(e),color:oK("white","gray.900")(e),_hover:{bg:oK("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:oK("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:oK("gray.200","transparent")(e),bg:oK("gray.200","whiteAlpha.300")(e),color:oK("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:oK("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:oK("".concat(t,".500"),"".concat(t,".200"))(e),color:oK("white","gray.900")(e)},_disabled:{bg:oK("gray.100","whiteAlpha.100")(e),borderColor:oK("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:oK("red.500","red.300")(e)}}},HX={_disabled:{cursor:"not-allowed"}},KX={userSelect:"none",_disabled:{opacity:.4}},qX={transitionProperty:"transform",transitionDuration:"normal"},XX=GX({baseStyle:jX((function(e){return{icon:qX,container:HX,control:hX(WX,e),label:KX}})),sizes:{sm:jX({control:Pe({},zX.variable,"sizes.3"),label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:jX({control:Pe({},zX.variable,"sizes.4"),label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:jX({control:Pe({},zX.variable,"sizes.5"),label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),YX=En(wH.keys),$X=YX.defineMultiStyleConfig,ZX=YX.definePartsStyle,QX=function(e){var t,n=null==(t=hX(XX.baseStyle,e))?void 0:t.control;return Ae(Ae({},n),{},{borderRadius:"full",_checked:Ae(Ae({},null==n?void 0:n._checked),{},{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},JX=ZX((function(e){var t,n,r,a;return{label:null==(n=(t=XX).baseStyle)?void 0:n.call(t,e).label,container:null==(a=(r=XX).baseStyle)?void 0:a.call(r,e).container,control:QX(e)}})),eY=$X({baseStyle:JX,sizes:{md:ZX({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:ZX({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:ZX({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),tY=En(CH.keys),nY=tY.defineMultiStyleConfig,rY=tY.definePartsStyle,aY=jt("select-bg"),oY={paddingInlineEnd:"8"},iY=nY({baseStyle:rY({field:Ae(Ae({},null==(bX=eX.baseStyle)?void 0:bX.field),{},(Pe(yX={appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:aY.reference},aY.variable,"colors.white"),Pe(yX,"_dark",Pe({},aY.variable,"colors.gray.700")),Pe(yX,"> option, > optgroup",{bg:aY.reference}),yX)),icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:Ae(Ae({},null==(xX=eX.sizes)?void 0:xX.lg),{},{field:Ae(Ae({},null==(wX=eX.sizes)?void 0:wX.lg.field),oY)}),md:Ae(Ae({},null==(CX=eX.sizes)?void 0:CX.md),{},{field:Ae(Ae({},null==(SX=eX.sizes)?void 0:SX.md.field),oY)}),sm:Ae(Ae({},null==(TX=eX.sizes)?void 0:TX.sm),{},{field:Ae(Ae({},null==(PX=eX.sizes)?void 0:PX.sm.field),oY)}),xs:Ae(Ae({},null==(OX=eX.sizes)?void 0:OX.xs),{},{field:Ae(Ae({},null==(AX=eX.sizes)?void 0:AX.xs.field),oY),icon:{insetEnd:"1"}})},variants:eX.variants,defaultProps:eX.defaultProps}),sY=jt("skeleton-start-color"),lY=jt("skeleton-end-color"),uY={baseStyle:(Pe(IX={},sY.variable,"colors.gray.100"),Pe(IX,lY.variable,"colors.gray.400"),Pe(IX,"_dark",(Pe(EX={},sY.variable,"colors.gray.800"),Pe(EX,lY.variable,"colors.gray.600"),EX)),Pe(IX,"background",sY.reference),Pe(IX,"borderColor",lY.reference),Pe(IX,"opacity",.7),Pe(IX,"borderRadius","sm"),IX)},cY=jt("skip-link-bg"),dY={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:(RX={boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6"},Pe(RX,cY.variable,"colors.white"),Pe(RX,"_dark",Pe({},cY.variable,"colors.gray.700")),Pe(RX,"bg",cY.reference),RX)}},fY=En(SH.keys),pY=fY.defineMultiStyleConfig,mY=fY.definePartsStyle,gY=jt("slider-thumb-size"),vY=jt("slider-track-size"),hY=jt("slider-bg"),yY=function(e){return Ae({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},iK({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))},bY=function(e){var t,n;return Ae(Ae({},iK({orientation:e.orientation,horizontal:{h:vY.reference},vertical:{w:vY.reference}})),{},(Pe(n={overflow:"hidden",borderRadius:"sm"},hY.variable,"colors.gray.200"),Pe(n,"_dark",Pe({},hY.variable,"colors.whiteAlpha.200")),Pe(n,"_disabled",(Pe(t={},hY.variable,"colors.gray.300"),Pe(t,"_dark",Pe({},hY.variable,"colors.whiteAlpha.300")),t)),Pe(n,"bg",hY.reference),n))},xY=function(e){return Ae(Ae({},iK({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),{},{w:gY.reference,h:gY.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}})},wY=function(e){var t,n=e.colorScheme;return Pe(t={width:"inherit",height:"inherit"},hY.variable,"colors.".concat(n,".500")),Pe(t,"_dark",Pe({},hY.variable,"colors.".concat(n,".200"))),Pe(t,"bg",hY.reference),t},CY=pY({baseStyle:mY((function(e){return{container:yY(e),track:bY(e),thumb:xY(e),filledTrack:wY(e)}})),sizes:{lg:mY({container:(kX={},Pe(kX,gY.variable,"sizes.4"),Pe(kX,vY.variable,"sizes.1"),kX)}),md:mY({container:(MX={},Pe(MX,gY.variable,"sizes.3.5"),Pe(MX,vY.variable,"sizes.1"),MX)}),sm:mY({container:(_X={},Pe(_X,gY.variable,"sizes.2.5"),Pe(_X,vY.variable,"sizes.0.5"),_X)})},defaultProps:{size:"md",colorScheme:"blue"}}),SY=_H("spinner-size"),TY={baseStyle:{width:[SY.reference],height:[SY.reference]},sizes:{xs:Pe({},SY.variable,"sizes.3"),sm:Pe({},SY.variable,"sizes.4"),md:Pe({},SY.variable,"sizes.6"),lg:Pe({},SY.variable,"sizes.8"),xl:Pe({},SY.variable,"sizes.12")},defaultProps:{size:"md"}},PY=En(TH.keys),OY=PY.defineMultiStyleConfig,AY=PY.definePartsStyle,EY=OY({baseStyle:AY({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:AY({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),IY=jt("kbd-bg"),RY={baseStyle:(Pe(DX={},IY.variable,"colors.gray.100"),Pe(DX,"_dark",Pe({},IY.variable,"colors.whiteAlpha.100")),Pe(DX,"bg",IY.reference),Pe(DX,"borderRadius","md"),Pe(DX,"borderWidth","1px"),Pe(DX,"borderBottomWidth","3px"),Pe(DX,"fontSize","0.8em"),Pe(DX,"fontWeight","bold"),Pe(DX,"lineHeight","normal"),Pe(DX,"px","0.4em"),Pe(DX,"whiteSpace","nowrap"),DX)},kY={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},MY=En(gH.keys),_Y=(0,MY.defineMultiStyleConfig)({baseStyle:(0,MY.definePartsStyle)({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),DY=En(vH.keys),LY=DY.defineMultiStyleConfig,VY=DY.definePartsStyle,NY=jt("menu-bg"),BY=jt("menu-shadow"),FY=LY({baseStyle:VY({button:{transitionProperty:"common",transitionDuration:"normal"},list:(Pe(VX={},NY.variable,"#fff"),Pe(VX,BY.variable,"shadows.sm"),Pe(VX,"_dark",(Pe(LX={},NY.variable,"colors.gray.700"),Pe(LX,BY.variable,"shadows.dark-lg"),LX)),Pe(VX,"color","inherit"),Pe(VX,"minW","3xs"),Pe(VX,"py","2"),Pe(VX,"zIndex",1),Pe(VX,"borderRadius","md"),Pe(VX,"borderWidth","1px"),Pe(VX,"bg",NY.reference),Pe(VX,"boxShadow",BY.reference),VX),item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:(NX={},Pe(NX,NY.variable,"colors.gray.100"),Pe(NX,"_dark",Pe({},NY.variable,"colors.whiteAlpha.100")),NX),_active:(BX={},Pe(BX,NY.variable,"colors.gray.200"),Pe(BX,"_dark",Pe({},NY.variable,"colors.whiteAlpha.200")),BX),_expanded:(FX={},Pe(FX,NY.variable,"colors.gray.100"),Pe(FX,"_dark",Pe({},NY.variable,"colors.whiteAlpha.100")),FX),_disabled:{opacity:.4,cursor:"not-allowed"},bg:NY.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),UY=En(hH.keys),jY=UY.defineMultiStyleConfig,GY=UY.definePartsStyle,zY=jt("modal-bg"),WY=jt("modal-shadow"),HY={bg:"blackAlpha.600",zIndex:"modal"},KY=function(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto",overscrollBehaviorY:"none"}},qY=function(e){var t,n,r=e.isCentered;return Pe(n={borderRadius:"md",color:"inherit",my:r?"auto":"16",mx:r?"auto":void 0,zIndex:"modal",maxH:"inside"===e.scrollBehavior?"calc(100% - 7.5rem)":void 0},zY.variable,"colors.white"),Pe(n,WY.variable,"shadows.lg"),Pe(n,"_dark",(Pe(t={},zY.variable,"colors.gray.700"),Pe(t,WY.variable,"shadows.dark-lg"),t)),Pe(n,"bg",zY.reference),Pe(n,"boxShadow",WY.reference),n},XY={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},YY={position:"absolute",top:"2",insetEnd:"3"},$Y=function(e){return{px:"6",py:"2",flex:"1",overflow:"inside"===e.scrollBehavior?"auto":void 0}},ZY={px:"6",py:"4"};function QY(e){return GY("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var JY,e$,t$,n$,r$=jY({baseStyle:GY((function(e){return{overlay:HY,dialogContainer:hX(KY,e),dialog:hX(qY,e),header:XY,closeButton:YY,body:hX($Y,e),footer:ZY}})),sizes:{xs:QY("xs"),sm:QY("sm"),md:QY("md"),lg:QY("lg"),xl:QY("xl"),"2xl":QY("2xl"),"3xl":QY("3xl"),"4xl":QY("4xl"),"5xl":QY("5xl"),"6xl":QY("6xl"),full:QY("full")},defaultProps:{size:"md"}}),a$=En(yH.keys),o$=a$.defineMultiStyleConfig,i$=a$.definePartsStyle,s$=_H("number-input-stepper-width"),l$=_H("number-input-input-padding"),u$=HH(s$).add("0.5rem").toString(),c$=_H("number-input-bg"),d$=_H("number-input-color"),f$=_H("number-input-border-color"),p$=(Pe(JY={},s$.variable,"sizes.6"),Pe(JY,l$.variable,u$),JY),m$=function(e){var t,n;return null!=(n=null==(t=hX(eX.baseStyle,e))?void 0:t.field)?n:{}},g$={width:s$.reference},v$=(Pe(n$={borderStart:"1px solid",borderStartColor:f$.reference,color:d$.reference,bg:c$.reference},d$.variable,"colors.chakra-body-text"),Pe(n$,f$.variable,"colors.chakra-border-color"),Pe(n$,"_dark",(Pe(e$={},d$.variable,"colors.whiteAlpha.800"),Pe(e$,f$.variable,"colors.whiteAlpha.300"),e$)),Pe(n$,"_active",(Pe(t$={},c$.variable,"colors.gray.200"),Pe(t$,"_dark",Pe({},c$.variable,"colors.whiteAlpha.300")),t$)),Pe(n$,"_disabled",{opacity:.4,cursor:"not-allowed"}),n$),h$=i$((function(e){var t;return{root:p$,field:null!=(t=hX(m$,e))?t:{},stepperGroup:g$,stepper:v$}}));function y$(e){var t,n,r,a=null==(t=eX.sizes)?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},i=null!=(r=null==(n=a.field)?void 0:n.fontSize)?r:"md",s=WW.fontSizes[i];return i$({field:Ae(Ae({},a.field),{},{paddingInlineEnd:l$.reference,verticalAlign:"top"}),stepper:{fontSize:HH(s).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var b$,x$,w$,C$,S$,T$=o$({baseStyle:h$,sizes:{xs:y$("xs"),sm:y$("sm"),md:y$("md"),lg:y$("lg")},variants:eX.variants,defaultProps:eX.defaultProps}),P$=Ae(Ae({},null==(b$=eX.baseStyle)?void 0:b$.field),{},{textAlign:"center"}),O$={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},A$={outline:function(e){var t,n,r;return null!=(r=null==(n=hX(null==(t=eX.variants)?void 0:t.outline,e))?void 0:n.field)?r:{}},flushed:function(e){var t,n,r;return null!=(r=null==(n=hX(null==(t=eX.variants)?void 0:t.flushed,e))?void 0:n.field)?r:{}},filled:function(e){var t,n,r;return null!=(r=null==(n=hX(null==(t=eX.variants)?void 0:t.filled,e))?void 0:n.field)?r:{}},unstyled:null!=(w$=null==(x$=eX.variants)?void 0:x$.unstyled.field)?w$:{}},E$={baseStyle:P$,sizes:O$,variants:A$,defaultProps:eX.defaultProps},I$=En(bH.keys),R$=I$.defineMultiStyleConfig,k$=I$.definePartsStyle,M$=_H("popper-bg"),_$=_H("popper-arrow-bg"),D$=_H("popper-arrow-shadow-color"),L$=R$({baseStyle:k$({popper:{zIndex:10},content:(Pe(S$={},M$.variable,"colors.white"),Pe(S$,"bg",M$.reference),Pe(S$,_$.variable,M$.reference),Pe(S$,D$.variable,"colors.gray.200"),Pe(S$,"_dark",(Pe(C$={},M$.variable,"colors.gray.700"),Pe(C$,D$.variable,"colors.whiteAlpha.300"),C$)),Pe(S$,"width","xs"),Pe(S$,"border","1px solid"),Pe(S$,"borderColor","inherit"),Pe(S$,"borderRadius","md"),Pe(S$,"boxShadow","sm"),Pe(S$,"zIndex","inherit"),Pe(S$,"_focusVisible",{outline:0,boxShadow:"outline"}),S$),header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),V$=En(cH.keys),N$=V$.definePartsStyle,B$=V$.defineMultiStyleConfig,F$=jt("drawer-bg"),U$=jt("drawer-box-shadow");function j$(e){return N$("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var G$,z$,W$,H$,K$,q$,X$,Y$,$$,Z$,Q$,J$,eZ,tZ,nZ,rZ,aZ={bg:"blackAlpha.600",zIndex:"modal"},oZ={display:"flex",zIndex:"modal",justifyContent:"center"},iZ=function(e){var t,n;return Ae(Ae({},e.isFullHeight&&{height:"100vh"}),{},(Pe(n={zIndex:"modal",maxH:"100vh",color:"inherit"},F$.variable,"colors.white"),Pe(n,U$.variable,"shadows.lg"),Pe(n,"_dark",(Pe(t={},F$.variable,"colors.gray.700"),Pe(t,U$.variable,"shadows.dark-lg"),t)),Pe(n,"bg",F$.reference),Pe(n,"boxShadow",U$.reference),n))},sZ={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},lZ={position:"absolute",top:"2",insetEnd:"3"},uZ={px:"6",py:"2",flex:"1",overflow:"auto"},cZ={px:"6",py:"4"},dZ=B$({baseStyle:N$((function(e){return{overlay:aZ,dialogContainer:oZ,dialog:hX(iZ,e),header:sZ,closeButton:lZ,body:uZ,footer:cZ}})),sizes:{xs:j$("xs"),sm:j$("md"),md:j$("lg"),lg:j$("2xl"),xl:j$("4xl"),full:j$("full")},defaultProps:{size:"xs"}}),fZ=En(dH.keys),pZ=fZ.definePartsStyle,mZ=(0,fZ.defineMultiStyleConfig)({baseStyle:pZ({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),gZ=En(fH.keys),vZ=gZ.definePartsStyle,hZ=gZ.defineMultiStyleConfig,yZ=jt("form-control-color"),bZ=hZ({baseStyle:vZ({container:{width:"100%",position:"relative"},requiredIndicator:(Pe(G$={marginStart:"1"},yZ.variable,"colors.red.500"),Pe(G$,"_dark",Pe({},yZ.variable,"colors.red.300")),Pe(G$,"color",yZ.reference),G$),helperText:(Pe(z$={mt:"2"},yZ.variable,"colors.gray.600"),Pe(z$,"_dark",Pe({},yZ.variable,"colors.whiteAlpha.600")),Pe(z$,"color",yZ.reference),Pe(z$,"lineHeight","normal"),Pe(z$,"fontSize","sm"),z$)})}),xZ=En(pH.keys),wZ=xZ.definePartsStyle,CZ=xZ.defineMultiStyleConfig,SZ=jt("form-error-color"),TZ=CZ({baseStyle:wZ({text:(Pe(W$={},SZ.variable,"colors.red.500"),Pe(W$,"_dark",Pe({},SZ.variable,"colors.red.300")),Pe(W$,"color",SZ.reference),Pe(W$,"mt","2"),Pe(W$,"fontSize","sm"),Pe(W$,"lineHeight","normal"),W$),icon:(Pe(H$={marginEnd:"0.5em"},SZ.variable,"colors.red.500"),Pe(H$,"_dark",Pe({},SZ.variable,"colors.red.300")),Pe(H$,"color",SZ.reference),H$)})}),PZ={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},OZ={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},AZ=En(lH.keys),EZ=AZ.defineMultiStyleConfig,IZ=AZ.definePartsStyle,RZ=jt("breadcrumb-link-decor"),kZ=EZ({baseStyle:IZ({link:(Pe(K$={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:RZ.reference},RZ.variable,"none"),Pe(K$,"&:not([aria-current=page])",{cursor:"pointer",_hover:Pe({},RZ.variable,"underline"),_focusVisible:{boxShadow:"outline"}}),K$)})}),MZ=function(e){var t=e.colorScheme,n=e.theme;if("gray"===t)return{color:oK("gray.800","whiteAlpha.900")(e),_hover:{bg:oK("gray.100","whiteAlpha.200")(e)},_active:{bg:oK("gray.200","whiteAlpha.300")(e)}};var r=_K("".concat(t,".200"),.12)(n),a=_K("".concat(t,".200"),.24)(n);return{color:oK("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:oK("".concat(t,".50"),r)(e)},_active:{bg:oK("".concat(t,".100"),a)(e)}}},_Z=function(e){var t=e.colorScheme,n=oK("gray.200","whiteAlpha.300")(e);return Ae({border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"}},hX(MZ,e))},DZ={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},LZ=function(e){var t,n=e.colorScheme;if("gray"===n){var r=oK("gray.100","whiteAlpha.200")(e);return{bg:r,color:oK("gray.800","whiteAlpha.900")(e),_hover:{bg:oK("gray.200","whiteAlpha.300")(e),_disabled:{bg:r}},_active:{bg:oK("gray.300","whiteAlpha.400")(e)}}}var a=null!=(t=DZ[n])?t:{},o=a.bg,i=void 0===o?"".concat(n,".500"):o,s=a.color,l=void 0===s?"white":s,u=a.hoverBg,c=void 0===u?"".concat(n,".600"):u,d=a.activeBg,f=void 0===d?"".concat(n,".700"):d,p=oK(i,"".concat(n,".200"))(e);return{bg:p,color:oK(l,"gray.800")(e),_hover:{bg:oK(c,"".concat(n,".300"))(e),_disabled:{bg:p}},_active:{bg:oK(f,"".concat(n,".400"))(e)}}},VZ=function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:oK("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:oK("".concat(t,".700"),"".concat(t,".500"))(e)}}},NZ={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:MZ,outline:_Z,solid:LZ,link:VZ,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},BZ=En(IH.keys),FZ=BZ.definePartsStyle,UZ=BZ.defineMultiStyleConfig,jZ=jt("card-bg"),GZ=jt("card-padding"),zZ=jt("card-shadow"),WZ=jt("card-radius"),HZ=jt("card-border-width","0"),KZ=jt("card-border-color"),qZ=FZ({container:(q$={},Pe(q$,jZ.variable,"colors.chakra-body-bg"),Pe(q$,"backgroundColor",jZ.reference),Pe(q$,"boxShadow",zZ.reference),Pe(q$,"borderRadius",WZ.reference),Pe(q$,"color","chakra-body-text"),Pe(q$,"borderWidth",HZ.reference),Pe(q$,"borderColor",KZ.reference),q$),body:{padding:GZ.reference,flex:"1 1 0%"},header:{padding:GZ.reference},footer:{padding:GZ.reference}}),XZ={sm:FZ({container:(X$={},Pe(X$,WZ.variable,"radii.base"),Pe(X$,GZ.variable,"space.3"),X$)}),md:FZ({container:(Y$={},Pe(Y$,WZ.variable,"radii.md"),Pe(Y$,GZ.variable,"space.5"),Y$)}),lg:FZ({container:($$={},Pe($$,WZ.variable,"radii.xl"),Pe($$,GZ.variable,"space.7"),$$)})},YZ=UZ({baseStyle:qZ,variants:{elevated:FZ({container:(Z$={},Pe(Z$,zZ.variable,"shadows.base"),Pe(Z$,"_dark",Pe({},jZ.variable,"colors.gray.700")),Z$)}),outline:FZ({container:(Q$={},Pe(Q$,HZ.variable,"1px"),Pe(Q$,KZ.variable,"colors.chakra-border-color"),Q$)}),filled:FZ({container:Pe({},jZ.variable,"colors.chakra-subtle-bg")}),unstyled:{body:Pe({},GZ.variable,0),header:Pe({},GZ.variable,0),footer:Pe({},GZ.variable,0)}},sizes:XZ,defaultProps:{variant:"elevated",size:"md"}}),$Z=_H("close-button-size"),ZZ=_H("close-button-bg"),QZ={baseStyle:{w:[$Z.reference],h:[$Z.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:(J$={},Pe(J$,ZZ.variable,"colors.blackAlpha.100"),Pe(J$,"_dark",Pe({},ZZ.variable,"colors.whiteAlpha.100")),J$),_active:(eZ={},Pe(eZ,ZZ.variable,"colors.blackAlpha.200"),Pe(eZ,"_dark",Pe({},ZZ.variable,"colors.whiteAlpha.200")),eZ),_focusVisible:{boxShadow:"outline"},bg:ZZ.reference},sizes:{lg:(tZ={},Pe(tZ,$Z.variable,"sizes.10"),Pe(tZ,"fontSize","md"),tZ),md:(nZ={},Pe(nZ,$Z.variable,"sizes.8"),Pe(nZ,"fontSize","xs"),nZ),sm:(rZ={},Pe(rZ,$Z.variable,"sizes.6"),Pe(rZ,"fontSize","2xs"),rZ)},defaultProps:{size:"md"}},JZ=fq.variants,eQ=fq.defaultProps,tQ={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:lq.bg.reference,color:lq.color.reference,boxShadow:lq.shadow.reference},variants:JZ,defaultProps:eQ},nQ={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},rQ={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},aQ=En(oH.keys),oQ=aQ.definePartsStyle,iQ=(0,aQ.defineMultiStyleConfig)({baseStyle:oQ({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),sQ=En(iH.keys),lQ=sQ.definePartsStyle,uQ=sQ.defineMultiStyleConfig,cQ=jt("alert-fg"),dQ=jt("alert-bg"),fQ=lQ({container:{bg:dQ.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:cQ.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:cQ.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function pQ(e){var t=e.theme,n=e.colorScheme,r=_K("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}var mQ,gQ,vQ=lQ((function(e){var t,n,r=e.colorScheme,a=pQ(e);return{container:(n={},Pe(n,cQ.variable,"colors.".concat(r,".500")),Pe(n,dQ.variable,a.light),Pe(n,"_dark",(t={},Pe(t,cQ.variable,"colors.".concat(r,".200")),Pe(t,dQ.variable,a.dark),t)),n)}})),hQ=lQ((function(e){var t,n,r=e.colorScheme,a=pQ(e);return{container:(n={},Pe(n,cQ.variable,"colors.".concat(r,".500")),Pe(n,dQ.variable,a.light),Pe(n,"_dark",(t={},Pe(t,cQ.variable,"colors.".concat(r,".200")),Pe(t,dQ.variable,a.dark),t)),Pe(n,"paddingStart","3"),Pe(n,"borderStartWidth","4px"),Pe(n,"borderStartColor",cQ.reference),n)}})),yQ=lQ((function(e){var t,n,r=e.colorScheme,a=pQ(e);return{container:(n={},Pe(n,cQ.variable,"colors.".concat(r,".500")),Pe(n,dQ.variable,a.light),Pe(n,"_dark",(t={},Pe(t,cQ.variable,"colors.".concat(r,".200")),Pe(t,dQ.variable,a.dark),t)),Pe(n,"pt","2"),Pe(n,"borderTopWidth","4px"),Pe(n,"borderTopColor",cQ.reference),n)}})),bQ=lQ((function(e){var t,n,r=e.colorScheme;return{container:(n={},Pe(n,cQ.variable,"colors.white"),Pe(n,dQ.variable,"colors.".concat(r,".500")),Pe(n,"_dark",(t={},Pe(t,cQ.variable,"colors.gray.900"),Pe(t,dQ.variable,"colors.".concat(r,".200")),t)),Pe(n,"color",cQ.reference),n)}})),xQ=uQ({baseStyle:fQ,variants:{subtle:vQ,"left-accent":hQ,"top-accent":yQ,solid:bQ},defaultProps:{variant:"subtle",colorScheme:"blue"}}),wQ=En(sH.keys),CQ=wQ.definePartsStyle,SQ=wQ.defineMultiStyleConfig,TQ=jt("avatar-border-color"),PQ=jt("avatar-bg"),OQ=jt("avatar-font-size"),AQ=jt("avatar-size"),EQ=(Pe(mQ={borderRadius:"full",border:"0.2em solid",borderColor:TQ.reference},TQ.variable,"white"),Pe(mQ,"_dark",Pe({},TQ.variable,"colors.gray.800")),mQ),IQ=(Pe(gQ={bg:PQ.reference,fontSize:OQ.reference,width:AQ.reference,height:AQ.reference,lineHeight:"1"},PQ.variable,"colors.gray.200"),Pe(gQ,"_dark",Pe({},PQ.variable,"colors.whiteAlpha.400")),gQ),RQ=function(e){var t,n=e.name,r=e.theme,a=n?LK({string:n}):"colors.gray.400",o=function(e){return function(t){return"dark"===MK(e)(t)}}(a)(r),i="white";return o||(i="gray.800"),t={bg:PQ.reference,fontSize:OQ.reference,color:i,borderColor:TQ.reference,verticalAlign:"top",width:AQ.reference,height:AQ.reference,"&:not([data-loaded])":Pe({},PQ.variable,a)},Pe(t,TQ.variable,"colors.white"),Pe(t,"_dark",Pe({},TQ.variable,"colors.gray.800")),t},kQ={fontSize:OQ.reference,lineHeight:"1"};function MQ(e){var t,n,r="100%"!==e?KW[e]:void 0;return CQ({container:(t={},Pe(t,AQ.variable,null!=r?r:e),Pe(t,OQ.variable,"calc(".concat(null!=r?r:e," / 2.5)")),t),excessLabel:(n={},Pe(n,AQ.variable,null!=r?r:e),Pe(n,OQ.variable,"calc(".concat(null!=r?r:e," / 2.5)")),n)})}var _Q={Accordion:iQ,Alert:xQ,Avatar:SQ({baseStyle:CQ((function(e){return{badge:hX(EQ,e),excessLabel:hX(IQ,e),container:hX(RQ,e),label:kQ}})),sizes:{"2xs":MQ(4),xs:MQ(6),sm:MQ(8),md:MQ(12),lg:MQ(16),xl:MQ(24),"2xl":MQ(32),full:MQ("100%")},defaultProps:{size:"md"}}),Badge:fq,Breadcrumb:kZ,Button:NZ,Checkbox:XX,CloseButton:QZ,Code:tQ,Container:nQ,Divider:rQ,Drawer:dZ,Editable:mZ,Form:bZ,FormError:TZ,FormLabel:PZ,Heading:OZ,Input:eX,Kbd:RY,Link:kY,List:_Y,Menu:FY,Modal:r$,NumberInput:T$,PinInput:E$,Popover:L$,Progress:vX,Radio:eY,Select:iY,Skeleton:uY,SkipLink:dY,Slider:CY,Spinner:TY,Stat:EY,Switch:aK,Table:mK,Tabs:sq,Tag:Oq,Textarea:rX,Tooltip:sX,Card:YZ,Stepper:rH},DQ={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},LQ={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},VQ={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},NQ=Ae(Ae({semanticTokens:DQ,direction:"ltr"},qW),{},{components:_Q,styles:LQ,config:VQ}),BQ=Ae(Ae({semanticTokens:DQ,direction:"ltr",components:{}},qW),{},{styles:LQ,config:VQ}),FQ=function(e,t){return e.find((function(e){return e.id===t}))};function UQ(e,t){var n=jQ(e,t);return{position:n,index:n?e[n].findIndex((function(e){return e.id===t})):-1}}function jQ(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=Se(r[n],2),o=a[0],i=a[1];if(FQ(i,t))return o}}function GQ(e){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}var zQ={initial:function(e){var t=e.position,n=["top","bottom"].includes(t)?"y":"x",r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),Pe({opacity:0},n,24*r)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},WQ=(0,a.memo)((function(e){var t=e.id,n=e.message,r=e.onCloseComplete,o=e.onRequestRemove,i=e.requestClose,s=void 0!==i&&i,l=e.position,u=void 0===l?"bottom":l,c=e.duration,d=void 0===c?5e3:c,f=e.containerStyle,p=e.motionVariants,m=void 0===p?zQ:p,g=e.toastSpacing,v=void 0===g?"0.5rem":g,h=Se((0,a.useState)(d),2),y=h[0],b=h[1],x=Jp();Oi((function(){x||null==r||r()}),[x]),Oi((function(){b(d)}),[d]);var w=function(){x&&o()};(0,a.useEffect)((function(){x&&s&&o()}),[x,s,o]),function(e,t){var n=gi(e);(0,a.useEffect)((function(){var e;if(null!=t)return e=window.setTimeout((function(){n()}),t),function(){e&&window.clearTimeout(e)}}),[t,n])}(w,y);var C=(0,a.useMemo)((function(){return Ae({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:v},f)}),[f,v]),S=(0,a.useMemo)((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(u)}),[u]);return(0,Ea.jsx)(Ng.div,{layout:!0,className:"chakra-toast",variants:m,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return b(null)},onHoverEnd:function(){return b(d)},custom:{position:u},style:S,children:(0,Ea.jsx)(Oa.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:C,children:Le(n,{id:t,onClose:w})})})}));function HQ(e){return(0,Ea.jsx)(xo,Ae(Ae({viewBox:"0 0 24 24"},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}WQ.displayName="ToastComponent";var KQ=Se(Ba({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),2),qQ=KQ[0],XQ=KQ[1],YQ=Se(Ba({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),2),$Q=YQ[0],ZQ=YQ[1],QQ={info:{icon:function(e){return(0,Ea.jsx)(xo,Ae(Ae({viewBox:"0 0 24 24"},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})}))},colorScheme:"blue"},warning:{icon:HQ,colorScheme:"orange"},success:{icon:function(e){return(0,Ea.jsx)(xo,Ae(Ae({viewBox:"0 0 24 24"},e),{},{children:(0,Ea.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}))},colorScheme:"green"},error:{icon:HQ,colorScheme:"red"},loading:{icon:Wo,colorScheme:"blue"}};var JQ=["status","addRole"],eJ=Aa((function(e,t){var n,r=Rn(e),a=r.status,o=void 0===a?"info":a,i=r.addRole,s=void 0===i||i,l=Ee(r,JQ),u=null!=(n=e.colorScheme)?n:function(e){return QQ[e].colorScheme}(o),c=Ka("Alert",Ae(Ae({},e),{},{colorScheme:u})),d=Ae({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},c.container);return(0,Ea.jsx)(qQ,{value:{status:o},children:(0,Ea.jsx)($Q,{value:c,children:(0,Ea.jsx)(Oa.div,Ae(Ae({"data-status":o,role:s?"alert":void 0,ref:t},l),{},{className:_e("chakra-alert",e.className),__css:d}))})})}));function tJ(e){var t=XQ().status,n=function(e){return QQ[e].icon}(t),r=ZQ(),a="loading"===t?r.spinner:r.icon;return(0,Ea.jsx)(Oa.span,Ae(Ae({display:"inherit","data-status":t},e),{},{className:_e("chakra-alert__icon",e.className),__css:a,children:e.children||(0,Ea.jsx)(n,{h:"100%",w:"100%"})}))}eJ.displayName="Alert",tJ.displayName="AlertIcon";var nJ=Aa((function(e,t){var n=ZQ(),r=XQ().status;return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,"data-status":r},e),{},{className:_e("chakra-alert__title",e.className),__css:n.title}))}));nJ.displayName="AlertTitle";var rJ=Aa((function(e,t){var n=ZQ(),r=XQ().status,a=Ae({display:"inline"},n.description);return(0,Ea.jsx)(Oa.div,Ae(Ae({ref:t,"data-status":r},e),{},{className:_e("chakra-alert__desc",e.className),__css:a}))}));rJ.displayName="AlertDescription";var aJ=function(e){var t=e,n=new Set,r=function(e){t=e(t),n.forEach((function(e){return e()}))};return{getState:function(){return t},subscribe:function(t){return n.add(t),function(){r((function(){return e})),n.delete(t)}},removeToast:function(e,t){r((function(n){return Ae(Ae({},n),{},Pe({},t,n[t].filter((function(t){return t.id!=e}))))}))},notify:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};oJ+=1;var a=null!=(t=r.id)?t:oJ,o=null!=(n=r.position)?n:"bottom";return{id:a,message:e,position:o,duration:r.duration,onCloseComplete:r.onCloseComplete,onRequestRemove:function(){return aJ.removeToast(String(a),o)},status:r.status,requestClose:!1,containerStyle:r.containerStyle}}(e,t),a=n.position,o=n.id;return r((function(e){var t,r,o=a.includes("top")?[n].concat(Re(null!=(t=e[a])?t:[])):[].concat(Re(null!=(r=e[a])?r:[]),[n]);return Ae(Ae({},e),{},Pe({},a,o))})),o},update:function(e,t){e&&r((function(n){var r=Ae({},n),a=UQ(r,e),o=a.position,i=a.index;return o&&-1!==i&&(r[o][i]=Ae(Ae(Ae({},r[o][i]),t),{},{message:sJ(t)})),r}))},closeAll:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).positions;r((function(t){return(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(e,n){return e[n]=t[n].map((function(e){return Ae(Ae({},e),{},{requestClose:!0})})),e}),Ae({},t))}))},close:function(e){r((function(t){var n=jQ(t,e);return n?Ae(Ae({},t),{},Pe({},n,t[n].map((function(t){return t.id==e?Ae(Ae({},t),{},{requestClose:!0}):t})))):t}))},isActive:function(e){return Boolean(UQ(aJ.getState(),e).position)}}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var oJ=0;var iJ=function(e){var t=e.status,n=e.variant,r=void 0===n?"solid":n,a=e.id,o=e.title,i=e.isClosable,s=e.onClose,l=e.description,u=e.colorScheme,c=e.icon,d=a?{root:"toast-".concat(a),title:"toast-".concat(a,"-title"),description:"toast-".concat(a,"-description")}:void 0;return(0,Ea.jsxs)(eJ,{addRole:!1,status:t,variant:r,id:null==d?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:u,children:[(0,Ea.jsx)(tJ,{children:c}),(0,Ea.jsxs)(Oa.div,{flex:"1",maxWidth:"100%",children:[o&&(0,Ea.jsx)(nJ,{id:null==d?void 0:d.title,children:o}),l&&(0,Ea.jsx)(rJ,{id:null==d?void 0:d.description,display:"block",children:l})]}),i&&(0,Ea.jsx)(_y,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function sJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.render,n=e.toastComponent,r=void 0===n?iJ:n;return function(n){return"function"===typeof t?t(Ae(Ae({},n),e)):(0,Ea.jsx)(r,Ae(Ae({},n),e))}}var lJ=Se(Ba({name:"ToastOptionsContext",strict:!1}),2),uJ=lJ[0],cJ=(lJ[1],function(e){var t=(0,a.useSyncExternalStore)(aJ.subscribe,aJ.getState,aJ.getState),n=e.motionVariants,r=e.component,o=void 0===r?WQ:r,i=e.portalProps,s=Object.keys(t).map((function(e){var r=t[e];return(0,Ea.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications",id:"chakra-toast-manager-".concat(e),style:GQ(e),children:(0,Ea.jsx)(ll,{initial:!1,children:r.map((function(e){return(0,Ea.jsx)(o,Ae({motionVariants:n},e),e.id)}))})},e)}));return(0,Ea.jsx)(Ds,Ae(Ae({},i),{},{children:s}))}),dJ=["children","theme","toastOptions"],fJ=function(e){return function(t){var n=t.children,r=t.theme,a=void 0===r?e:r,o=t.toastOptions,i=Ee(t,dJ);return(0,Ea.jsxs)(LW,Ae(Ae({theme:a},i),{},{children:[(0,Ea.jsx)(uJ,{value:null==o?void 0:o.defaultOptions,children:n}),(0,Ea.jsx)(cJ,Ae({},o))]}))}},pJ=fJ(NQ),mJ=(fJ(BQ),["className","isExternal"]),gJ=Aa((function(e,t){var n=Ha("Link",e),r=Rn(e),a=r.className,o=r.isExternal,i=Ee(r,mJ);return(0,Ea.jsx)(Oa.a,Ae(Ae({target:o?"_blank":void 0,rel:o?"noopener":void 0,ref:t,className:_e("chakra-link",a)},i),{},{__css:n}))}));function vJ(e){return Ow({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 2C15.0675 2 18.426 5.03562 18.9337 8.96494L21.1842 12.5037C21.3324 12.7367 21.3025 13.0847 20.9593 13.2317L19 14.071V17C19 18.1046 18.1046 19 17 19H15.001L15 22H6L6.00025 18.3061C6.00033 17.1252 5.56351 16.0087 4.7555 15.0011C3.65707 13.6313 3 11.8924 3 10C3 5.58172 6.58172 2 11 2ZM10.4697 7.76256C9.78625 7.07915 8.67821 7.07915 7.9948 7.76256C7.31138 8.44598 7.31138 9.55402 7.9948 10.2374L11 13.2426L14.0052 10.2374C14.6886 9.55402 14.6886 8.44598 14.0052 7.76256C13.3218 7.07915 12.2137 7.07915 11.5303 7.76256L11 8.29289L10.4697 7.76256Z"}}]})(e)}function hJ(){return(0,Ea.jsx)(gJ,{href:"/pacs-front",children:(0,Ea.jsx)(ka,{w:"100%",textAlign:"center",margin:"30px 0 30px 0",children:(0,Ea.jsxs)(jy,{color:"blue.500",fontSize:"5xl",fontWeight:"extrabold",display:"flex",justifyContent:"center",alignItems:"center",children:[(0,Ea.jsx)(vJ,{}),"MyPACS"]})})})}function yJ(){return(0,Ea.jsx)(ka,{w:"100%",h:"200px",bg:"blackAlpha.100",padding:"23px",mt:"30px",children:(0,Ea.jsx)(jy,{color:"gray.600",children:"address"})})}gJ.displayName="Link";var bJ=function(){return(0,Ea.jsxs)(pJ,{children:[(0,Ea.jsx)(hJ,{}),(0,Ea.jsx)(cW,{}),(0,Ea.jsx)(yJ,{})]})},xJ=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};i.createRoot(document.getElementById("root")).render((0,Ea.jsx)(a.StrictMode,{children:(0,Ea.jsx)(bJ,{})})),xJ()}()}();
//# sourceMappingURL=main.ce031836.js.map